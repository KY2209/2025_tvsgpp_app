{"version":3,"sources":["webpack:///src/app/xuatkho/xuathang-addnew/xuathang-addnew.page.html","webpack:///src/app/xuatkho/xuathang-addnew/xuathang-addnew-routing.module.ts","webpack:///src/app/xuatkho/xuathang-addnew/xuathang-addnew.module.ts","webpack:///src/app/xuatkho/xuathang-addnew/xuathang-addnew.page.scss","webpack:///src/app/xuatkho/xuathang-addnew/xuathang-addnew.page.ts"],"names":["routes","path","component","XuathangAddnewPageRoutingModule","imports","forChild","exports","XuathangAddnewPageModule","declarations","XuathangAddnewPage","modalController","GlobalService","XuatkhoService","VattuService","LoadingService","route","ToastService","router","navController","actionSheetController","KhoService","UnitService","cdr","FunctionService","AlertService","printer","listFormItem","displayItem","sendItem","sendVattu","send_httt","display_httt","isCreate","chungchi","ChungTuID","nam_du_lieu","countNumber","title","itemDetail","itemDetail2","makho","backPage","submitForm","index","DienGiai","LoaiCTID","sumMoney","listKho","listLoaiCT","listVattu","listUnit","banggia","console","log","queryParams","subscribe","params","Number","now","Date","year","getFullYear","hours","getHours","minute","getMinutes","toString","ThoiDiem","toISOString","slice","convNumber","getTime","SoCT","page","scrollIntoView","getChungTuDetail","getLoaiCT","getUnit","getKho","response","MaKho","KhoXuat","TenKho","getVattu","error","setTimeout","khohang","GetListVT","i","length","BangGia","DVXuat","position","element","document","getElementById","behavior","setValue","xuatHangDetail","_TenKhoXuat","_TenDVXuat","ChiTietHang","BanTheoDon","detectChanges","openPrint","number","push","item","create","cssClass","componentProps","modal","onDidDismiss","then","dataReturned","data","MaDV","TenDV","present","sumAllMoney","TongTien","splice","checkExit","SoLuong","confirmCreate","presentAlert2","res","updateImport","createImport","check","createXuatHang","code","successToast","message","resetItem","getChungTuDetail2","errorToast","updateXuatHang","myDiv","divContent","outerHTML","isAvailable","onsuccess","print","value","err","navigateBack","buttons","text","icon","handler","actionSheet","role","selector","template"],"mappings":"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","file":"xuatkho-xuathang-addnew-xuathang-addnew-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-buttons (click)=\\\"closeModal()\\\" slot=\\\"start\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"font-size: 25px;\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title style=\\\"font-weight: 600; text-align: center;\\\">\\r\\n      {{title}} phiếu\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-item (click)=\\\"submit()\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <!-- <ion-icon name=\\\"create-outline\\\"></ion-icon> -->\\r\\n        <ion-icon name=\\\"checkmark-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div class=\\\"import-card\\\">\\r\\n    <table>\\r\\n      <tr>\\r\\n        <td>Loại phiếu</td>\\r\\n        <td>\\r\\n          <ion-input [(ngModel)]=\\\"DienGiai\\\" [disabled]=\\\"true\\\"></ion-input>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Đơn vị</td>\\r\\n        <td>\\r\\n          <ion-input (click)=\\\"openDonvi()\\\" [(ngModel)]=\\\"displayItem.DVXuat\\\"></ion-input>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Kho hàng <span>*</span></td>\\r\\n        <td>\\r\\n          <ion-input (click)=\\\"openKho()\\\" [(ngModel)]=\\\"displayItem.KhoXuat\\\"></ion-input>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr *ngIf=\\\"submitForm != 0 && !displayItem.KhoXuat\\\">\\r\\n        <td>\\r\\n        </td>\\r\\n        <td>\\r\\n          <div class=\\\"text-err\\\">Trường bắt buộc nhập</div>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>HTTT</td>\\r\\n        <td>\\r\\n          <ion-input (click)=\\\"openHttt()\\\" [(ngModel)]=\\\"display_httt\\\"></ion-input>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n  <div *ngFor=\\\"let item of listFormItem; index as i\\\">\\r\\n    <div [id]=\\\"'item'+i\\\">\\r\\n      <app-xuathang-item \\r\\n        [makho]=\\\"makho\\\" \\r\\n        [banggia]=\\\"banggia\\\" \\r\\n        [isCreate]=\\\"isCreate\\\" \\r\\n        [listVattu]=\\\"listVattu\\\" \\r\\n        [index]=\\\"i\\\" \\r\\n        [submitForm]=\\\"submitForm\\\"\\r\\n        [data]=\\\"item\\\" \\r\\n        [httt]=\\\"send_httt\\\" \\r\\n        [indexOpen]=\\\"index\\\" \\r\\n        (sendData)=\\\"getData($event)\\\" \\r\\n        (sendIndex)=\\\"getIndex($event)\\\"\\r\\n        (sendDelete)=\\\"getDelete($event)\\\">\\r\\n      </app-xuathang-item>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div (click)=\\\"addForm()\\\" class=\\\"import-add\\\">\\r\\n    <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>\\r\\n    Thêm hàng hóa\\r\\n  </div>\\r\\n\\r\\n  <div id=\\\"myDiv\\\" class=\\\"printBill\\\"> \\r\\n    <app-print-bill [data]=\\\"itemDetail2\\\"></app-print-bill>\\r\\n  </div>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n    <div style=\\\"display: flex; padding: 0 6px;\\\">\\r\\n      <div><span style=\\\"color: var(--primary-color);\\\">{{this.listFormItem.length}}</span> mặt hàng</div>\\r\\n      <div style=\\\"margin-left: auto;\\\">Tổng: <span style=\\\"color: var(--primary-color);\\\">{{sumMoney | number}}</span></div>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { XuathangAddnewPage } from './xuathang-addnew.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: XuathangAddnewPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class XuathangAddnewPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { XuathangAddnewPageRoutingModule } from './xuathang-addnew-routing.module';\r\n\r\nimport { XuathangAddnewPage } from './xuathang-addnew.page';\r\nimport { XuathangItemComponent } from '../xuathang-item/xuathang-item.component';\r\nimport { PrintBillComponent } from 'src/app/share/print-bill/print-bill.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    XuathangAddnewPageRoutingModule\r\n  ],\r\n  declarations: [XuathangAddnewPage, XuathangItemComponent, PrintBillComponent]\r\n})\r\nexport class XuathangAddnewPageModule {}\r\n","export default \"ion-content {\\n  --background: #f9f9f9 ;\\n}\\n\\n.import-card {\\n  background: white;\\n  margin-top: 15px;\\n  padding: 0 10px 15px;\\n}\\n\\n.import-title {\\n  display: flex;\\n  line-height: 28px;\\n}\\n\\n.import-right {\\n  margin-left: auto;\\n}\\n\\n.import-right ion-icon {\\n  color: var(--primary-color);\\n}\\n\\n.import-product {\\n  margin-top: 12px;\\n}\\n\\n.import-item {\\n  padding: 10px 15px;\\n}\\n\\n.import-primary {\\n  color: var(--primary-color);\\n}\\n\\n.import-add {\\n  display: flex;\\n  /* align-items: center; */\\n  gap: 5px;\\n  color: #196fb4;\\n  padding: 10px;\\n}\\n\\n.import-add ion-icon {\\n  margin-left: auto;\\n}\\n\\ntable {\\n  width: 100%;\\n}\\n\\ntd {\\n  padding-top: 15px;\\n  min-width: 100px;\\n}\\n\\ntd span {\\n  color: red;\\n}\\n\\nion-input {\\n  width: 100%;\\n  padding: 8px 10px 8px;\\n  background: #F0F5FF;\\n  border-radius: 5px;\\n  border: 1px solid #F0F5FF;\\n}\\n\\nion-footer {\\n  border-top: 1px solid #d9d9d9;\\n}\\n\\n.sc-ion-input-ios-h {\\n  --padding-top: 8px;\\n  --padding-bottom: 8px;\\n  --padding-start: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAveHVhdGtoby94dWF0aGFuZy1hZGRuZXcveHVhdGhhbmctYWRkbmV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErRkE7RUFDSSxzQkFBQTtBQTlGSjs7QUFxR0k7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0Esb0JBQUE7QUFsR1I7O0FBcUdJO0VBQ0ksYUFBQTtFQUNBLGlCQUFBO0FBbkdSOztBQXNHSTtFQUNJLGlCQUFBO0FBcEdSOztBQXNHUTtFQUNJLDJCQUFBO0FBcEdaOztBQXdHSTtFQUNJLGdCQUFBO0FBdEdSOztBQXlHSTtFQUNJLGtCQUFBO0FBdkdSOztBQTBHSTtFQUNJLDJCQUFBO0FBeEdSOztBQTJHSTtFQUNJLGFBQUE7RUFDQSx5QkFBQTtFQUNBLFFBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtBQXpHUjs7QUEyR1E7RUFDSSxpQkFBQTtBQXpHWjs7QUE4R0E7RUFDSSxXQUFBO0FBM0dKOztBQThHQTtFQUNJLGlCQUFBO0VBQ0EsZ0JBQUE7QUEzR0o7O0FBNkdJO0VBQ0ksVUFBQTtBQTNHUjs7QUErR0E7RUFDSSxXQUFBO0VBRUEscUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7QUE3R0o7O0FBZ0hBO0VBQ0ksNkJBQUE7QUE3R0o7O0FBK0dBO0VBQ0ksa0JBQUE7RUFDQSxxQkFBQTtFQUNBLHFCQUFBO0FBNUdKIiwiZmlsZSI6InNyYy9hcHAveHVhdGtoby94dWF0aGFuZy1hZGRuZXcveHVhdGhhbmctYWRkbmV3LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIC5pbXBvcnR7XHJcbi8vICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcblxyXG4vLyAgICAgJi10aXRsZXtcclxuLy8gICAgICAgICBjb2xvcjogIzA3NjRhZTtcclxuLy8gICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4vLyAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbi8vICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuLy8gICAgICAgICBtYXJnaW46IDE1cHggMDsgICAgXHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1pY29ue1xyXG4vLyAgICAgICAgIGZvbnQtc2l6ZTogMjVweDtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAmLWxhYmVse1xyXG4vLyAgICAgICAgIHNwYW57XHJcbi8vICAgICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgICYtaXRlbXtcclxuLy8gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkIGdyYXk7XHJcbi8vICAgICAgICAgcGFkZGluZzogMHB4IDAgMTBweDtcclxuXHJcbi8vICAgICAgICAgJi10aXRsZXtcclxuLy8gICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuXHJcbi8vICAgICAgICAgICAgIHNwYW57XHJcbi8vICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG5cclxuXHJcbi8vICAgICAmLWxhYmVsMntcclxuXHJcbi8vICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4vLyAgICAgICAgIHNwYW57XHJcbi8vICAgICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBsYWJlbHtcclxuLy8gICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbi8vICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1hZGR7XHJcbi8vICAgICAgICAgZGlzcGxheTogZmxleDtcclxuLy8gICAgICAgICAvKiBhbGlnbi1pdGVtczogY2VudGVyOyAqL1xyXG4vLyAgICAgICAgIGdhcDogNXB4O1xyXG4vLyAgICAgICAgIGNvbG9yOiAjMTk2ZmI0O1xyXG4vLyAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcblxyXG4vLyAgICAgICAgIGlvbi1pY29ue1xyXG4vLyAgICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1mb290ZXJ7XHJcbi8vICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbi8vICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbi8vICAgICAgICAgcGFkZGluZzogMTJweDtcclxuLy8gICAgICAgICBjb2xvcjogd2hpdGU7XHJcbi8vICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4vLyAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1yaWdodHtcclxuLy8gICAgICAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7ICBcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgICAgJi1sZWZ0e1xyXG4vLyAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA1cHg7ICBcclxuLy8gICAgICAgfVxyXG5cclxuLy8gICAgIHRke1xyXG4vLyAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG4vLyAgICAgfVxyXG4vLyB9XHJcblxyXG4vLyB0YWJsZXtcclxuLy8gICAgIHdpZHRoOiAxMDAlO1xyXG4vLyB9XHJcblxyXG4vLyBpbnB1dHtcclxuLy8gd2lkdGg6IDEwMCU7XHJcbi8vIHBhZGRpbmc6IDhweCAxMHB4IDhweDtcclxuLy8gYmFja2dyb3VuZDogI0YwRjVGRjtcclxuLy8gYm9yZGVyLXJhZGl1czogNXB4O1xyXG4vLyBib3JkZXI6IDFweCBzb2xpZCAjRjBGNUZGO1xyXG4vLyB9XHJcblxyXG5pb24tY29udGVudCB7XHJcbiAgICAtLWJhY2tncm91bmQ6ICNmOWY5ZjlcclxufVxyXG5cclxuLmltcG9ydCB7XHJcbiAgICAvLyBwYWRkaW5nOiAxMHB4IDE1cHg7XHJcbiAgICAvLyBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMTYpIDBweCAxcHggNHB4O1xyXG5cclxuICAgICYtY2FyZCB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHggMTVweDtcclxuICAgIH1cclxuXHJcbiAgICAmLXRpdGxlIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyOHB4O1xyXG4gICAgfVxyXG5cclxuICAgICYtcmlnaHQge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1wcm9kdWN0IHtcclxuICAgICAgICBtYXJnaW4tdG9wOiAxMnB4O1xyXG4gICAgfVxyXG5cclxuICAgICYtaXRlbSB7XHJcbiAgICAgICAgcGFkZGluZzogMTBweCAxNXB4O1xyXG4gICAgfVxyXG5cclxuICAgICYtcHJpbWFyeSB7XHJcbiAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgfVxyXG5cclxuICAgICYtYWRkIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIC8qIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICovXHJcbiAgICAgICAgZ2FwOiA1cHg7XHJcbiAgICAgICAgY29sb3I6ICMxOTZmYjQ7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuXHJcbiAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG50ZCB7XHJcbiAgICBwYWRkaW5nLXRvcDogMTVweDtcclxuICAgIG1pbi13aWR0aDogMTAwcHg7XHJcblxyXG4gICAgc3BhbntcclxuICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgfVxyXG59XHJcblxyXG5pb24taW5wdXQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICAvLyBib3JkZXItYm90dG9tOiAxcHggc29saWQgZ3JheTtcclxuICAgIHBhZGRpbmc6IDhweCAxMHB4IDhweDtcclxuICAgIGJhY2tncm91bmQ6ICNGMEY1RkY7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjRjBGNUZGO1xyXG59XHJcblxyXG5pb24tZm9vdGVye1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkOWQ5ZDk7XHJcbn1cclxuLnNjLWlvbi1pbnB1dC1pb3MtaCB7XHJcbiAgICAtLXBhZGRpbmctdG9wOiA4cHg7XHJcbiAgICAtLXBhZGRpbmctYm90dG9tOiA4cHg7XHJcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDEwcHg7XHJcbn0iXX0= */\";","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PrintOptions, Printer } from '@ionic-native/printer/ngx';\r\nimport { ActionSheetController, ModalController, NavController, NavParams } from '@ionic/angular';\r\nimport { DonviIndexPage } from 'src/app/donvi/donvi-index/donvi-index.page';\r\nimport { FunctionService } from 'src/app/function.service';\r\nimport { KhoIndexPage } from 'src/app/kho/kho-index/kho-index.page';\r\nimport { AlertService } from 'src/app/service/AlertService';\r\nimport { GlobalService } from 'src/app/service/global.service';\r\nimport { KhoService } from 'src/app/service/kho.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { ToastService } from 'src/app/service/toastService';\r\nimport { UnitService } from 'src/app/service/unit.service';\r\nimport { VattuService } from 'src/app/service/vattu.service';\r\nimport { XuatkhoService } from 'src/app/service/xuatkho.service';\r\n\r\n@Component({\r\n  selector: 'app-xuathang-addnew',\r\n  templateUrl: './xuathang-addnew.page.html',\r\n  styleUrls: ['./xuathang-addnew.page.scss'],\r\n})\r\nexport class XuathangAddnewPage implements OnInit {\r\n  listFormItem = [{\r\n    'item': 1\r\n  }]\r\n\r\n  displayItem: any = {\r\n    \"nam_du_lieu\": \"\",\r\n    \"LoaiCTID\": 2,\r\n    \"ChungTuID\": 0,\r\n    \"BanTheoDon\": false,\r\n    \"SoCT\": \"\",\r\n    \"ThoiDiem\": \"\",\r\n    \"DienGiai\": \"\",\r\n    \"DVXuat\": \"\",\r\n    \"KhoXuat\": \"\",\r\n    \"ChiTietHang\": []\r\n  }\r\n\r\n  sendItem: any = {\r\n    \"nam_du_lieu\": \"\",\r\n    \"LoaiCTID\": 2,\r\n    \"ChungTuID\": 0,\r\n    \"BanTheoDon\": false,\r\n    \"SoCT\": \"\",\r\n    \"ThoiDiem\": \"\",\r\n    \"DienGiai\": \"\",\r\n    \"DVXuat\": \"\",\r\n    \"KhoXuat\": \"\",\r\n    \"ChiTietHang\": []\r\n  }\r\n\r\n  sendVattu = {\r\n    \"loainx\": \"''\",\r\n    \"khohang\": \"\",\r\n    \"banggia\": \"\"\r\n  }\r\n  send_httt: string = 'TM';\r\n  display_httt: string = 'Tiền mặt';\r\n  isCreate: string = 'false';\r\n  chungchi: any = {\r\n    ChungTuID: '',\r\n    nam_du_lieu: ''\r\n  }\r\n  countNumber: number = 0;\r\n  title: string = \"Thêm\";\r\n  itemDetail: any = '';\r\n  itemDetail2: any = '';\r\n  makho: string = '';\r\n  backPage: string = '';\r\n  submitForm: number = 0;\r\n  index: number = 0;\r\n  DienGiai: string = '';\r\n  LoaiCTID: number = 0;\r\n  sumMoney: number = 0;\r\n  listKho: any = [];\r\n  listLoaiCT: any = [];\r\n  listVattu: any = [];\r\n  listUnit: any = [];\r\n  banggia: string = '';\r\n  constructor(\r\n    public modalController: ModalController,\r\n    // private navParams: NavParams,\r\n    private GlobalService: GlobalService,\r\n    private XuatkhoService: XuatkhoService,\r\n    private VattuService: VattuService,\r\n    private LoadingService: LoadingService,\r\n    private route: ActivatedRoute,\r\n    private ToastService: ToastService,\r\n    public router: Router,\r\n    private navController: NavController,\r\n    private actionSheetController: ActionSheetController,\r\n    private KhoService: KhoService,\r\n    private UnitService: UnitService,\r\n    private cdr: ChangeDetectorRef,\r\n    private FunctionService: FunctionService,\r\n    private AlertService: AlertService,\r\n    private printer: Printer,\r\n\r\n\r\n  ) {\r\n  }\r\n\r\n\r\n  ionViewDidEnter() {\r\n    console.log('------ionViewDidEnter')\r\n\r\n    this.route.queryParams.subscribe(params => {\r\n      this.isCreate = params.isCreate;\r\n      this.sendItem.LoaiCTID = Number(params.LoaiCTID);\r\n      this.displayItem.LoaiCTID = Number(params.LoaiCTID);\r\n      this.DienGiai = params.DienGiai;\r\n\r\n      if (params.isCreate == 'true') {\r\n\r\n        var now = new Date();\r\n        var year = now.getFullYear();\r\n        var hours = now.getHours();\r\n        var minute = now.getMinutes();\r\n        this.sendItem.nam_du_lieu = year.toString();\r\n        this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n        this.sendItem.ChungTuID = new Date().getTime();\r\n        this.sendItem.SoCT = `XBL${this.sendItem.ChungTuID}`;\r\n\r\n        this.chungchi.ChungTuID = this.sendItem.ChungTuID;\r\n        this.chungchi.nam_du_lieu = this.sendItem.nam_du_lieu;\r\n      } else {\r\n        this.title = \"Sửa\";\r\n        this.chungchi.ChungTuID = params.ChungTuID;\r\n        this.chungchi.nam_du_lieu = params.nam_du_lieu;\r\n        this.backPage = params.page;\r\n        if (params.index) {\r\n          this.index = params.index;\r\n          this.scrollIntoView(`item${this.index}`);\r\n        }\r\n      }\r\n    })\r\n\r\n    if (this.isCreate == 'false') {\r\n      this.getChungTuDetail();\r\n    } else {\r\n      // this.resetItem();\r\n\r\n    }\r\n    this.getLoaiCT();\r\n    this.getUnit();\r\n\r\n  }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getKho() {\r\n\r\n    this.KhoService.getKho().subscribe((response: any) => {\r\n      this.listKho = response;\r\n      if (this.isCreate == 'true') {\r\n        this.makho = response[0].MaKho;\r\n        this.displayItem.KhoXuat = response[0].TenKho;\r\n        this.sendItem.KhoXuat = response[0].MaKho;\r\n      }\r\n\r\n      this.getVattu();\r\n\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getUnit() {\r\n    this.UnitService.getUnit().subscribe((response: any) => {\r\n      this.listUnit = response;\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getVattu() {\r\n    this.sendVattu.banggia = this.banggia;\r\n    this.sendVattu.khohang = this.sendItem.KhoXuat;\r\n    this.VattuService.GetListVT(this.sendVattu).subscribe((response: any) => {\r\n      this.listVattu = response;\r\n    }, (error) => {\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  getLoaiCT() {\r\n    this.FunctionService.getLoaiCT().subscribe((response: any) => {\r\n      for (let i = 0; i < response.length; i++) {\r\n        if (response[i].LoaiCTID == this.sendItem.LoaiCTID) {\r\n          this.banggia = response[i].BangGia;\r\n          break;\r\n        }\r\n      }\r\n      this.getKho();\r\n\r\n    }, (error) => {\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  resetItem() {\r\n    this.displayItem = {\r\n      \"nam_du_lieu\": \"\",\r\n      \"LoaiCTID\": this.sendItem.LoaiCTID,\r\n      \"ChungTuID\": 0,\r\n      \"BanTheoDon\": false,\r\n      \"SoCT\": \"\",\r\n      \"ThoiDiem\": \"\",\r\n      \"DienGiai\": \"\",\r\n      \"DVXuat\": this.displayItem.DVXuat,\r\n      \"KhoXuat\": this.displayItem.KhoXuat,\r\n      \"ChiTietHang\": []\r\n    }\r\n\r\n    this.sendItem = {\r\n      \"nam_du_lieu\": \"\",\r\n      \"LoaiCTID\": this.sendItem.LoaiCTID,\r\n      \"ChungTuID\": 0,\r\n      \"BanTheoDon\": false,\r\n      \"SoCT\": \"\",\r\n      \"ThoiDiem\": \"\",\r\n      \"DienGiai\": \"\",\r\n      \"DVXuat\": this.sendItem.DVXuat,\r\n      \"KhoXuat\": this.sendItem.KhoXuat,\r\n      \"ChiTietHang\": []\r\n    }\r\n\r\n    this.listFormItem = [{\r\n      'item': 1\r\n    }]\r\n\r\n\r\n    var now = new Date();\r\n    var year = now.getFullYear();\r\n    var hours = now.getHours();\r\n    var minute = now.getMinutes();\r\n    this.sendItem.nam_du_lieu = year.toString();\r\n    this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n    this.sumMoney = 0;\r\n   \r\n    this.sendItem.ChungTuID = new Date().getTime();\r\n    this.sendItem.SoCT = `XBL${this.sendItem.ChungTuID}`;\r\n    setTimeout(() => {\r\n      this.chungchi.ChungTuID = this.sendItem.ChungTuID;\r\n      this.chungchi.nam_du_lieu = this.sendItem.nam_du_lieu;\r\n    }, 4000);\r\n  }\r\n\r\n  scrollIntoView(position: string) {\r\n    setTimeout(() => {\r\n      const element = document.getElementById(position);\r\n      element?.scrollIntoView({ behavior: 'auto' });\r\n    }, 1000);\r\n  }\r\n\r\n  getChungTuDetail() {\r\n    this.LoadingService.setValue(true);\r\n\r\n    this.XuatkhoService.xuatHangDetail(this.chungchi).subscribe((response: any) => {\r\n      this.itemDetail = response[0];\r\n      this.makho = response[0].KhoXuat;\r\n\r\n      this.displayItem.KhoXuat = response[0]._TenKhoXuat;\r\n      this.displayItem.DVXuat = response[0]._TenDVXuat;\r\n      this.listFormItem = response[0].ChiTietHang;\r\n\r\n      this.sendItem.BanTheoDon = response[0].BanTheoDon;\r\n      this.sendItem.ChungTuID = response[0].ChungTuID;\r\n      this.sendItem.DVXuat = response[0].DVXuat;\r\n      this.sendItem.KhoXuat = response[0].KhoXuat;\r\n      this.sendItem.LoaiCTID = response[0].LoaiCTID;\r\n      this.sendItem.SoCT = response[0].SoCT;\r\n      this.sendItem.ThoiDiem = response[0].ThoiDiem;\r\n      this.sendItem.nam_du_lieu = this.chungchi.nam_du_lieu;\r\n      console.log('response1111', response);\r\n      // this.LoadingService.setValue(false);\r\n      this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      console.log('error', error);\r\n      this.LoadingService.setValue(false);\r\n\r\n    });\r\n  }\r\n\r\n  getChungTuDetail2() {\r\n    // this.LoadingService.setValue(true);\r\n    console.log('this.chungchi', this.chungchi);\r\n    \r\n    this.XuatkhoService.xuatHangDetail(this.chungchi).subscribe((response: any) => {\r\n      \r\n      this.itemDetail2 = response[0];\r\n      this.cdr.detectChanges();\r\n\r\n      setTimeout(() => {\r\n      this.LoadingService.setValue(false);\r\n      this.openPrint();\r\n      }, 3000);\r\n\r\n    }, (error) => {\r\n      console.log('error', error);\r\n      this.LoadingService.setValue(false);\r\n    });\r\n  }\r\n\r\n  convNumber(number) {\r\n    return number < 10 ? '0' + number : number;\r\n  }\r\n\r\n  addForm() {\r\n    this.listFormItem.push({ item: 1 });\r\n    this.index = this.listFormItem.length - 1;\r\n  }\r\n\r\n  async openDonvi() {\r\n    const modal = await this.modalController.create({\r\n      component: DonviIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        \"listUnit\": this.listUnit,\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log(dataReturned);\r\n\r\n      if (dataReturned.data) {\r\n        this.sendItem.DVXuat = dataReturned.data.MaDV;\r\n        this.displayItem.DVXuat = dataReturned.data.TenDV;\r\n\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openKho() {\r\n    const modal = await this.modalController.create({\r\n      component: KhoIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        \"listKho\": this.listKho,\r\n      }\r\n\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned.data) {\r\n        this.makho = dataReturned.data.MaKho;\r\n        this.sendItem.KhoXuat = dataReturned.data.MaKho;\r\n        this.displayItem.KhoXuat = dataReturned.data.TenKho;\r\n        this.getVattu();\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  getData(item) {\r\n    this.sendItem.ChiTietHang[item.index] = item.item;\r\n    setTimeout(() => {\r\n      this.sumAllMoney();\r\n    }, 100);\r\n\r\n  }\r\n\r\n  sumAllMoney() {\r\n    this.sumMoney = 0;\r\n    for (let i = 0; i < this.sendItem.ChiTietHang.length; i++) {\r\n      this.sumMoney = this.sumMoney + this.sendItem.ChiTietHang[i].TongTien;\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  getIndex(item) {\r\n    this.index = item.index;\r\n  }\r\n\r\n  getDelete(item) {\r\n    this.listFormItem.splice(item.index, 1);\r\n    this.sendItem.ChiTietHang.splice(item.index, 1);\r\n    this.sumAllMoney();\r\n  }\r\n\r\n  submit() {\r\n\r\n    this.submitForm++;\r\n    if (this.isCreate == 'true') {\r\n      var checkExit = false;\r\n      if (this.sendItem.ChiTietHang.length != 0) {\r\n        for (let i = 0; i < this.sendItem.ChiTietHang.length; i++) {\r\n          if (!this.sendItem.ChiTietHang[i].SoLuong) {\r\n            checkExit = true;\r\n          }\r\n        }\r\n      } else {\r\n        checkExit = true;\r\n      }\r\n      if (!checkExit) {\r\n        this.confirmCreate();\r\n        console.log('create', this.sendItem);\r\n\r\n      }\r\n    } else {\r\n      console.log('edit', this.sendItem);\r\n      this.AlertService.presentAlert2(`Bạn có chắc muốn sửa phiếu?`, this.DienGiai == 'Xuất bán lẻ' ? 'print' : '').then(res => {\r\n        if (res == 'true') {\r\n          this.updateImport();\r\n        } else if (res == 'trueAndPrint') {\r\n          this.updateImport('print');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  confirmCreate() {\r\n    console.log('create', this.sendItem);\r\n    // this.openPrint();\r\n\r\n    this.AlertService.presentAlert2(`Bạn có chắc muốn thêm mới?`, this.DienGiai == 'Xuất bán lẻ' ? 'print' : '').then(res => {\r\n      if (res == 'true') {\r\n        this.createImport();\r\n      } else if (res == 'trueAndPrint') {\r\n        this.createImport('print');\r\n      }\r\n    });\r\n  }\r\n\r\n  createImport(check?) {\r\n\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.createXuatHang(this.sendItem).subscribe((response: any) => {\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        this.submitForm = 0;\r\n        this.resetItem();\r\n        if (check == 'print') {\r\n          this.getChungTuDetail2();\r\n        }else{\r\n          this.LoadingService.setValue(false);\r\n        }\r\n\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n\r\n      }\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n  updateImport(check?) {\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.updateXuatHang(this.sendItem).subscribe((response: any) => {\r\n      console.log('response', response);\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        this.submitForm = 0;\r\n        if (check == 'print') {\r\n          this.getChungTuDetail2();\r\n        }else{\r\n          this.LoadingService.setValue(false);\r\n        }\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n\r\n      }\r\n\r\n      // this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  openPrint() {\r\n    var myDiv = document.getElementById(\"myDiv\");\r\n    var divContent = myDiv.outerHTML;\r\n\r\n    this.printer.isAvailable().then((onsuccess: any) => {\r\n\r\n      this.printer.print(divContent).then((value: any) => {\r\n        console.log('value:', value);\r\n      }, (error) => {\r\n        console.log('error:', error);\r\n      });\r\n\r\n    }, (err) => {\r\n      console.log('Error', err);\r\n    })\r\n  }\r\n\r\n\r\n  closeModal() {\r\n    if (this.backPage == 'detail') {\r\n      this.navController.navigateBack(['xuathang-detail'], {\r\n        queryParams: {\r\n          ChungTuID: this.chungchi.ChungTuID,\r\n          nam_du_lieu: this.chungchi.nam_du_lieu,\r\n          LoaiCTID: this.sendItem.LoaiCTID,\r\n          DienGiai: this.DienGiai\r\n        }\r\n      });\r\n    } else {\r\n      this.navController.navigateBack(['xuathang'], {\r\n        queryParams: {\r\n          \"LoaiCTID\": this.sendItem.LoaiCTID,\r\n          \"DienGiai\": this.DienGiai\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  async openHttt() {\r\n    const actionSheet = await this.actionSheetController.create({\r\n      cssClass: 'left-align-buttons',\r\n      buttons: [\r\n        {\r\n          text: 'Tiền mặt',\r\n          icon: 'cash-outline',\r\n          handler: () => {\r\n            this.send_httt = \"TM\";\r\n            this.display_httt = \"Tiền mặt\";\r\n          },\r\n        },\r\n        {\r\n          text: 'Chuyển khoản',\r\n          icon: 'qr-code-outline',\r\n          handler: () => {\r\n            this.send_httt = \"CK\";\r\n            this.display_httt = \"Chuyển khoản\";\r\n          },\r\n        },\r\n\r\n      ],\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n  }\r\n}\r\n"]}
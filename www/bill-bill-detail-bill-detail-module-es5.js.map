{"version":3,"sources":["webpack:///src/app/bill/bill-detail/bill-detail.page.html","webpack:///src/app/bill/bill-detail/bill-detail-routing.module.ts","webpack:///src/app/bill/bill-detail/bill-detail.module.ts","webpack:///src/app/bill/bill-detail/bill-detail.page.scss","webpack:///src/app/bill/bill-detail/bill-detail.page.ts"],"names":["routes","path","component","BillDetailPageRoutingModule","imports","forChild","exports","BillDetailPageModule","declarations","BillDetailPage","ToastService","FunctionService","router","toastController","modalController","XuatkhoService","AlertService","navController","LoadingService","route","printer","currencyPipe","KhoService","cdr","UnitService","VattuService","chungchi","ChungTuID","nam_du_lieu","donvi","kho","sendItem","ChiTietHang","sendVattu","displayChiTietHang","listKho","listUnit","listVattu","banggia","sendChungChi","isCreate","title","typePage","itemDetail","check","indexItem","countProduct","sumThanhTien","sumTongTien","sumVAT","sumChietKhau","sumThanhToan","LoaiCTID","DienGiai","loainx","queryParams","subscribe","params","Type","getChungTuDetail","getLoaiCT","getUnit","console","log","response","i","length","BangGia","LoaiNX","getKho","error","TenKho","KhoNhap","MaKho","getVattu","setTimeout","khohang","GetListVT","setValue","xuatHangDetail","SoCT","ThoiDiem","DVNhap","_TenDVNhap","_TenKhoNhap","setChietHang","countMoney","push","NhapXuatID","MaVT","DVT","SoLuong","DonGia","GiaBanLe","GiaBanSy","ThanhTien","VAT_Percent","VAT","ChietKhau_Percent","ChietKhau","TongTien","HTTT","LoHang","HanDung","_TenVT","Intl","NumberFormat","format","replace","billDetail","ThanhToan","item","index","type","String","Number","convNumber","transform","getTongTien","create","cssClass","componentProps","modal","onDidDismiss","then","dataReturned","data","MaDV","TenDV","present","foundVattu","find","o","TenVT","e","presentAlert","res","splice","createImport","updateImport","createXuatHang","code","successToast","message","errorToast","updateXuatHang","myDiv","document","getElementById","divContent","outerHTML","isAvailable","onsuccess","options","print","value","err","navigateBack","selector","template"],"mappings":"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","file":"bill-bill-detail-bill-detail-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-buttons (click)=\\\"openBack()\\\" slot=\\\"start\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"font-size: 25px;\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title style=\\\"font-weight: 600; text-align: center;\\\">\\r\\n      {{title}} hóa đơn\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-item *ngIf=\\\"typePage == 'create'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"duplicate-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"typePage == 'detail'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"print-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item (click)=\\\"handleEdit()\\\" *ngIf=\\\"typePage == 'detail'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"create-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item (click)=\\\"handleDetail()\\\" *ngIf=\\\"typePage == 'edit'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"bill\\\">\\r\\n    <div class=\\\"bill-product\\\">\\r\\n      <div class=\\\"bill-header bill-header-p13\\\">\\r\\n        <div class=\\\"bill-header-left\\\">\\r\\n          THÔNG TIN HÓA ĐƠN -- {{typePage}}\\r\\n          <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-table\\\">\\r\\n        <table>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Loại phiếu</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{DienGiai}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Số chứng từ</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{itemDetail.SoCT}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Đơn vị</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div [class.pr-15]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                  {{donvi}}\\r\\n                </div>\\r\\n                <span (click)=\\\"openUnit()\\\" *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\"><ion-icon\\r\\n                    name=\\\"pencil-outline\\\"></ion-icon></span>\\r\\n\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Kho hàng</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div [class.pr-15]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                  {{kho}}\\r\\n\\r\\n                </div>\\r\\n                <span (click)=\\\"openKho()\\\" *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\"><ion-icon\\r\\n                    name=\\\"pencil-outline\\\"></ion-icon></span>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Thời gian</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{itemDetail.ThoiDiem | date:'dd/MM/yyyy HH:mm'}}\\r\\n              </div>\\r\\n              <!-- <ion-input ></ion-input> -->\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-header bill-header-p13\\\">\\r\\n        <div class=\\\"bill-header-left\\\">\\r\\n          THÔNG TIN THANH TOÁN\\r\\n          <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-table\\\">\\r\\n        <table>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Thành tiền</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{sumThanhTien | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.VAT</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{sumVAT | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Chiết khấu</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{sumChietKhau | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Đã thanh toán</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{sumThanhToan | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Tiền</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div [class.pr-44]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                {{sumTongTien | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">HTTT</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div [class.pr-15]=\\\"typePage == 'edit' || typePage == 'create'\\\">\\r\\n                  Tiền mặt\\r\\n                </div>\\r\\n                <span *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\"><ion-icon\\r\\n                    name=\\\"pencil-outline\\\"></ion-icon></span>\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-header\\\" style=\\\"display: flex; align-items: center;\\\">\\r\\n        <div>\\r\\n          CHI TIẾT HÓA ĐƠN ({{countProduct}})\\r\\n        </div>\\r\\n        <ion-icon (click)=\\\"openVattu()\\\" *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" name=\\\"add-outline\\\"\\r\\n          style=\\\"margin-left: auto; font-size: 24px;  color: #2990f7;\\\"></ion-icon>\\r\\n\\r\\n      </div>\\r\\n      <div *ngIf=\\\"typePage == 'detail'\\\">\\r\\n\\r\\n        <div *ngFor=\\\"let item of itemDetail.ChiTietHang; index as i\\\" class=\\\"bill-item\\\">\\r\\n\\r\\n          <div class=\\\"bill-item-title\\\">\\r\\n            <p>{{i+1}}. {{item._TenVT}} - {{item.MaVT}}</p>\\r\\n          </div>\\r\\n          <table class=\\\"bill-table-content\\\">\\r\\n            <tr>\\r\\n              <td class=\\\"pr-20\\\">\\r\\n                <div>\\r\\n                  <span>ĐVT: </span> {{item.DVT}}\\r\\n                </div>\\r\\n\\r\\n              </td>\\r\\n              <td>\\r\\n                <span>Giá: </span>\\r\\n                {{item.DonGia | number}}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>SL: </span>\\r\\n                {{item.SoLuong | number}}\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td class=\\\" pr-20\\\">\\r\\n                <span>C.K: </span>\\r\\n                {{item.ChietKhau_Percent}}\\r\\n              </td>\\r\\n              <td>\\r\\n                <span>VAT(%): </span>\\r\\n                {{item.VAT_Percent}}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>T.Tiền: </span>\\r\\n                {{item.TongTien | number}}\\r\\n              </td>\\r\\n\\r\\n            </tr>\\r\\n\\r\\n          </table>\\r\\n\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"typePage != 'detail'\\\">\\r\\n\\r\\n        <div *ngFor=\\\"let item of displayChiTietHang; index as i\\\" class=\\\"bill-item\\\">\\r\\n\\r\\n          <div class=\\\"bill-item-title\\\">\\r\\n            <p>{{i+1}}. {{item._TenVT}} - {{item.MaVT}}</p>\\r\\n            <ion-icon (click)=\\\"handleRemove(item, i)\\\" name=\\\"trash-outline\\\"></ion-icon>\\r\\n\\r\\n          </div>\\r\\n          <table class=\\\"bill-table-content\\\">\\r\\n            <tr>\\r\\n              <td class=\\\"pr-20\\\">\\r\\n                <div>\\r\\n                  <span><i class=\\\"bi bi-capsule\\\"></i> </span> &nbsp;\\r\\n                  <input type=\\\"text\\\" [(ngModel)]=\\\"sendItem.ChiTietHang[i].DVT\\\">\\r\\n                </div>\\r\\n\\r\\n              </td>\\r\\n              <td>\\r\\n                <span><i class=\\\"bi bi-currency-dollar\\\"></i> </span> &nbsp;\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.DonGia\\\" (ngModelChange)=\\\"formatInput('DonGia', i)\\\">\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\" style=\\\"display: flex; float: right;\\\">\\r\\n                <ion-icon (click)=\\\"formatInput('SoLuong', i, 'plus')\\\" name=\\\"add-circle-outline\\\"></ion-icon>\\r\\n                <div style=\\\"margin-top: 4px;\\\">\\r\\n                  <input type=\\\"text\\\" [(ngModel)]=\\\"item.SoLuong\\\" (ngModelChange)=\\\"formatInput('SoLuong', i)\\\">\\r\\n                </div>\\r\\n                <ion-icon (click)=\\\"formatInput('SoLuong', i, 'subtraction')\\\" name=\\\"remove-circle-outline\\\"></ion-icon>\\r\\n\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td class=\\\" pr-20\\\">\\r\\n                <span><i class=\\\"bi bi-percent\\\"></i> </span> &nbsp;\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.ChietKhau_Percent\\\"\\r\\n                  (ngModelChange)=\\\"setInput($event,'ChietKhau_Percent', i)\\\">\\r\\n              </td>\\r\\n              <td>\\r\\n                <span><i class=\\\"bi bi-credit-card\\\"></i> </span> &nbsp;\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.VAT_Percent\\\" (ngModelChange)=\\\"setInput($event,'VAT_Percent', i)\\\">\\r\\n\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span><i class=\\\"bi bi-cash-coin\\\"></i> </span> &nbsp;\\r\\n                {{item.TongTien | number}}\\r\\n              </td>\\r\\n\\r\\n            </tr>\\r\\n\\r\\n          </table>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</ion-content>\\r\\n<ion-footer *ngIf=\\\"typePage != 'detail'\\\">\\r\\n  <ion-toolbar>\\r\\n  <div class=\\\"bill-footer\\\">\\r\\n    <table>\\r\\n      <!-- <tr>\\r\\n        <td class=\\\"bill-bold\\\">HTTT</td>\\r\\n        <td>Tiền mặt</td>\\r\\n      </tr> -->\\r\\n      <tr>\\r\\n        <td class=\\\"bill-bold\\\">In hóa đơn</td>\\r\\n        <td class=\\\"text-right\\\">\\r\\n          <ion-toggle color=\\\"primary\\\"></ion-toggle>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td class=\\\"bill-bold\\\">T.Tiền cần trả</td>\\r\\n        <td class=\\\"text-right\\\">{{sumTongTien | number}}</td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n\\r\\n\\r\\n    <div class=\\\"bill-btn\\\">\\r\\n\\r\\n      <div class=\\\"bill-btn-left\\\">\\r\\n        <div class=\\\"bill-btn-relative\\\">\\r\\n          <ion-icon name=\\\"receipt-outline\\\"></ion-icon>\\r\\n          <div>2</div>\\r\\n        </div>\\r\\n        <button (click)=\\\"confirmSubmit()\\\">LƯU HÓA ĐƠN</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-toolbar>\\r\\n</ion-footer>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BillDetailPage } from './bill-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BillDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BillDetailPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BillDetailPageRoutingModule } from './bill-detail-routing.module';\r\n\r\nimport { BillDetailPage } from './bill-detail.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BillDetailPageRoutingModule\r\n  ],\r\n  declarations: [BillDetailPage]\r\n})\r\nexport class BillDetailPageModule {}\r\n","export default \".bill-header {\\n  background: #e9e9e9;\\n  padding: 10px;\\n  display: flex;\\n  gap: 8px;\\n  font-weight: 600;\\n  border-bottom: 1px solid var(--background-color);\\n  color: var(--background-color);\\n}\\n.bill-header-p13 {\\n  padding: 13px 10px;\\n}\\n.bill-header-left {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n}\\n.bill-header-left ion-icon {\\n  font-size: 16px;\\n}\\n.bill-item {\\n  padding: 0 10px 15px;\\n  border-bottom: 1px solid #d7d7d7;\\n}\\n.bill-item-title {\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-item-title p {\\n  font-size: 16px;\\n  font-weight: 600;\\n  color: var(--primary-color);\\n}\\n.bill-item-title ion-icon {\\n  margin-left: auto;\\n  font-size: 20px;\\n  color: #dd0000;\\n}\\n.bill-table {\\n  padding: 10px;\\n}\\n.bill-table tr {\\n  border-bottom: 1px solid #d7d7d7;\\n}\\n.bill-table td {\\n  padding: 10px 0;\\n}\\n.bill-table ion-icon {\\n  float: right;\\n  color: var(--primary-color);\\n  font-size: 18px;\\n  width: 30px;\\n}\\n.bill-table-content ion-icon {\\n  font-size: 24px;\\n  color: var(--primary-color);\\n}\\n.bill-table-left {\\n  font-weight: 500;\\n  width: 150px;\\n}\\n.bill-footer {\\n  padding: 10px;\\n}\\n.bill-footer button {\\n  color: white;\\n  background: var(--background-color);\\n  width: calc(100% - 60px);\\n  padding: 12px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  border-radius: 5px;\\n  margin-left: auto;\\n}\\n.bill-btn-left {\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-btn-relative {\\n  position: absolute;\\n  width: 50px;\\n  height: 40px;\\n  background: #616161;\\n  /* height: 100%; */\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 5px;\\n  color: white;\\n}\\n.bill-btn-relative ion-icon {\\n  font-size: 18px;\\n}\\n.bill-btn-relative div {\\n  border-radius: 100vw;\\n  position: absolute;\\n  top: -4px;\\n  right: -7px;\\n  width: 20px;\\n  height: 20px;\\n  background: var(--background-color);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid white;\\n  font-size: 10px;\\n}\\n.bill-bold {\\n  font-weight: 500;\\n}\\n.bill-right {\\n  text-align: right;\\n}\\ntable {\\n  width: 100%;\\n}\\ntd {\\n  padding-bottom: 15px;\\n}\\ntd span {\\n  color: gray;\\n}\\ntd i {\\n  font-size: 18px;\\n}\\n.pr-20 {\\n  padding-right: 20px;\\n}\\n.pr-44 {\\n  padding-right: 44px !important;\\n}\\n.pr-15 {\\n  padding-right: 15px !important;\\n}\\n.pb-0 {\\n  padding-bottom: 0 !important;\\n}\\ninput[type=text], input[type=number] {\\n  width: 65px;\\n  border: 1px solid white;\\n  border-bottom: 1px solid var(--primary-color);\\n  text-align: center;\\n}\\nion-toggle {\\n  height: 26px;\\n  --handle-width: calc(28px - (2px * 2));\\n  --ion-color-base: var(--primary-color) !important;\\n}\\nion-footer {\\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYmlsbC9iaWxsLWRldGFpbC9iaWxsLWRldGFpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUk7RUFDSSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsUUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0RBQUE7RUFDQSw4QkFBQTtBQURSO0FBR1E7RUFDSSxrQkFBQTtBQURaO0FBSVE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxRQUFBO0FBRlo7QUFJWTtFQUNJLGVBQUE7QUFGaEI7QUFPSTtFQUNJLG9CQUFBO0VBQ0EsZ0NBQUE7QUFMUjtBQU9RO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBTFo7QUFPWTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLDJCQUFBO0FBTGhCO0FBUVk7RUFDSSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBTmhCO0FBV0k7RUFDSSxhQUFBO0FBVFI7QUFXUTtFQUNJLGdDQUFBO0FBVFo7QUFZUTtFQUNJLGVBQUE7QUFWWjtBQWNRO0VBQ0ksWUFBQTtFQUNBLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFaWjtBQWdCWTtFQUNJLGVBQUE7RUFDQSwyQkFBQTtBQWRoQjtBQWtCUTtFQUNJLGdCQUFBO0VBQ0EsWUFBQTtBQWhCWjtBQW9CSTtFQUNJLGFBQUE7QUFsQlI7QUFvQlE7RUFDSSxZQUFBO0VBQ0EsbUNBQUE7RUFDQSx3QkFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBbEJaO0FBd0JRO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBdEJaO0FBeUJRO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQXZCWjtBQXlCWTtFQUNJLGVBQUE7QUF2QmhCO0FBMEJZO0VBQ0ksb0JBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxtQ0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0FBeEJoQjtBQThCSTtFQUNJLGdCQUFBO0FBNUJSO0FBK0JJO0VBQ0ksaUJBQUE7QUE3QlI7QUFtQ0E7RUFDSSxXQUFBO0FBaENKO0FBbUNBO0VBQ0ksb0JBQUE7QUFoQ0o7QUFrQ0k7RUFDSSxXQUFBO0FBaENSO0FBbUNJO0VBQ0ksZUFBQTtBQWpDUjtBQXFDQTtFQUNJLG1CQUFBO0FBbENKO0FBcUNBO0VBQ0ksOEJBQUE7QUFsQ0o7QUFxQ0E7RUFDSSw4QkFBQTtBQWxDSjtBQXFDQTtFQUNJLDRCQUFBO0FBbENKO0FBcUNBO0VBQ0ksV0FBQTtFQUNBLHVCQUFBO0VBQ0EsNkNBQUE7RUFDQSxrQkFBQTtBQWxDSjtBQXFDQTtFQUNJLFlBQUE7RUFDQSxzQ0FBQTtFQUNBLGlEQUFBO0FBbENKO0FBcUNBO0VBQ0kscUZBQUE7QUFsQ0oiLCJmaWxlIjoic3JjL2FwcC9iaWxsL2JpbGwtZGV0YWlsL2JpbGwtZGV0YWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5iaWxsIHtcclxuXHJcbiAgICAmLWhlYWRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZDogI2U5ZTllOTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZ2FwOiA4cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbiAgICAgICAgY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG5cclxuICAgICAgICAmLXAxMyB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEzcHggMTBweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYtbGVmdCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGdhcDogNXB4O1xyXG5cclxuICAgICAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYtaXRlbSB7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4IDE1cHg7XHJcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkN2Q3ZDc7XHJcblxyXG4gICAgICAgICYtdGl0bGUge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgICAgICAgICAgcCB7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAjZGQwMDAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYtdGFibGUge1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcblxyXG4gICAgICAgIHRyIHtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkN2Q3ZDc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0ZCB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMDtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi1jb250ZW50IHtcclxuICAgICAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLWxlZnR7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxNTBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1mb290ZXIge1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcblxyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbiAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2MHB4KTtcclxuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1idG4ge1xyXG4gICAgICAgICYtbGVmdCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLXJlbGF0aXZlIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjE2MTYxO1xyXG4gICAgICAgICAgICAvKiBoZWlnaHQ6IDEwMCU7ICovXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuXHJcbiAgICAgICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGl2IHtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMHZ3O1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgdG9wOiAtNHB4O1xyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IC03cHg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjBweDtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAmLWJvbGQge1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICB9XHJcblxyXG4gICAgJi1yaWdodCB7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG50ZCB7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTVweDtcclxuXHJcbiAgICBzcGFuIHtcclxuICAgICAgICBjb2xvcjogZ3JheTtcclxuICAgIH1cclxuXHJcbiAgICBpe1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIH1cclxufVxyXG5cclxuLnByLTIwIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5wci00NCB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA0NHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5wci0xNSB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5wYi0wIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdLCBpbnB1dFt0eXBlPVwibnVtYmVyXCJdIHtcclxuICAgIHdpZHRoOiA2NXB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbmlvbi10b2dnbGUge1xyXG4gICAgaGVpZ2h0OiAyNnB4O1xyXG4gICAgLS1oYW5kbGUtd2lkdGg6IGNhbGMoMjhweCAtICgycHggKiAyKSk7XHJcbiAgICAtLWlvbi1jb2xvci1iYXNlOiB2YXIoLS1wcmltYXJ5LWNvbG9yKSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG5pb24tZm9vdGVyIHtcclxuICAgIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4wNSkgMHB4IDZweCAyNHB4IDBweCwgcmdiYSgwLCAwLCAwLCAwLjA4KSAwcHggMHB4IDBweCAxcHg7XHJcbiAgICAvLyBib3JkZXItdG9wOiAxcHggc29saWQgI2Q5ZDVkNTtcclxufSJdfQ== */\";","import { CurrencyPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PrintOptions, Printer } from '@ionic-native/printer/ngx';\r\nimport { ModalController, NavController, ToastController } from '@ionic/angular';\r\nimport { DonviIndexPage } from 'src/app/donvi/donvi-index/donvi-index.page';\r\nimport { FunctionService } from 'src/app/function.service';\r\nimport { KhoIndexPage } from 'src/app/kho/kho-index/kho-index.page';\r\nimport { AlertService } from 'src/app/service/AlertService';\r\nimport { KhoService } from 'src/app/service/kho.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { ToastService } from 'src/app/service/toastService';\r\nimport { UnitService } from 'src/app/service/unit.service';\r\nimport { VattuService } from 'src/app/service/vattu.service';\r\nimport { XuatkhoService } from 'src/app/service/xuatkho.service';\r\nimport { VattuIndexPage } from 'src/app/vattu/vattu-index/vattu-index.page';\r\n\r\n@Component({\r\n  selector: 'app-bill-detail',\r\n  templateUrl: './bill-detail.page.html',\r\n  styleUrls: ['./bill-detail.page.scss'],\r\n})\r\nexport class BillDetailPage implements OnInit {\r\n  chungchi: any = {\r\n    ChungTuID: '',\r\n    nam_du_lieu: ''\r\n  };\r\n  donvi: string = '';\r\n  kho: string = '';\r\n  sendItem: any = {\r\n    \"nam_du_lieu\": \"\",\r\n    \"LoaiCTID\": 2,\r\n    \"ChungTuID\": 0,\r\n    // \"BanTheoDon\": false,\r\n    \"SoCT\": \"\",\r\n    \"ThoiDiem\": \"\",\r\n    \"DienGiai\": \"\",\r\n    \"ChiTietHang\": []\r\n  }\r\n\r\n  ChiTietHang = {\r\n    \"NhapXuatID\": 0,\r\n    \"MaVT\": \"\",\r\n    \"DVT\": \"\",\r\n    \"SoLuong\": 0,\r\n    \"DonGia\": 0,\r\n    \"GiaBanLe\": 0,\r\n    \"GiaBanSy\": 0,\r\n    \"ThanhTien\": 0,\r\n    \"VAT_Percent\": 0,\r\n    \"VAT\": 0,\r\n    \"ChietKhau_Percent\": 0,\r\n    \"ChietKhau\": 0,\r\n    \"TongTien\": 0,\r\n    \"HTTT\": \"TM\",\r\n    \"LoHang\": \"\",\r\n    \"HanDung\": \"\"\r\n  }\r\n\r\n  sendVattu = {\r\n    \"loainx\": \"''\",\r\n    \"khohang\": \"\",\r\n    \"banggia\": \"\"\r\n  }\r\n  displayChiTietHang: any = [];\r\n  listKho: any = [];\r\n  listUnit: any = [];\r\n  listVattu: any = [];\r\n  banggia: any = [];\r\n\r\n  sendChungChi: any = {\r\n    isCreate: false,\r\n    ChungTuID: '',\r\n    nam_du_lieu: ''\r\n  };\r\n\r\n  title: string = '';\r\n  typePage: string = '';\r\n  itemDetail: any = [];\r\n  check: boolean = false;\r\n  indexItem: boolean[] = [];\r\n  countProduct: number = 0;\r\n  sumThanhTien: number = 0;\r\n  sumTongTien: number = 0;\r\n  sumVAT: number = 0;\r\n  sumChietKhau: number = 0;\r\n  sumThanhToan: number = 0;\r\n  LoaiCTID: number = 0;\r\n  DienGiai: string = '';\r\n  loainx: string = '';\r\n  constructor(\r\n    private ToastService: ToastService,\r\n    public FunctionService: FunctionService,\r\n    public router: Router,\r\n    public toastController: ToastController,\r\n    private modalController: ModalController,\r\n    private XuatkhoService: XuatkhoService,\r\n    private AlertService: AlertService,\r\n    private navController: NavController,\r\n    private LoadingService: LoadingService,\r\n    private route: ActivatedRoute,\r\n    private printer: Printer,\r\n    private currencyPipe: CurrencyPipe,\r\n    private KhoService: KhoService,\r\n    private cdr: ChangeDetectorRef,\r\n    private UnitService: UnitService,\r\n    private VattuService: VattuService,\r\n\r\n  ) {\r\n    this.route.queryParams.subscribe(params => {\r\n      this.chungchi.ChungTuID = params.ChungTuID;\r\n      this.chungchi.nam_du_lieu = params.nam_du_lieu;\r\n      this.sendChungChi.ChungTuID = params.ChungTuID;\r\n      this.sendChungChi.nam_du_lieu = params.nam_du_lieu;\r\n      this.LoaiCTID = params.LoaiCTID;\r\n      this.DienGiai = params.DienGiai;\r\n      this.typePage = params.Type;\r\n      this.title = params.Type == 'detail' ? 'Chi tiết' : params.Type == 'create' ? 'Thêm' : 'Sửa';\r\n      if (this.typePage == 'detail' || this.typePage == 'edit') {\r\n        this.getChungTuDetail();\r\n      }\r\n      this.getLoaiCT();\r\n      this.getUnit();\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.log('this.chungchi', this.chungchi);\r\n\r\n  }\r\n\r\n\r\n  getLoaiCT() {\r\n    this.FunctionService.getLoaiCT().subscribe((response: any) => {\r\n      for (let i = 0; i < response.length; i++) {\r\n        if (response[i].LoaiCTID == this.sendItem.LoaiCTID) {\r\n          this.banggia = response[i].BangGia;\r\n          this.loainx = response[i].LoaiNX;\r\n          break;\r\n        }\r\n      }\r\n      this.getKho();\r\n\r\n    }, (error) => {\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  getKho() {\r\n\r\n    this.KhoService.getKho().subscribe((response: any) => {\r\n      this.listKho = response;\r\n      if (this.typePage == 'create') {\r\n        // this.makho = response[0].MaKho;\r\n        this.kho = response[0].TenKho;\r\n        // this.sendItem.KhoXuat = response[0].MaKho;\r\n        this.sendItem.KhoNhap = response[0].MaKho;\r\n      }\r\n\r\n      this.getVattu();\r\n\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getUnit() {\r\n    this.UnitService.getUnit().subscribe((response: any) => {\r\n      this.listUnit = response;\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getVattu() {\r\n    this.sendVattu.loainx = this.loainx;\r\n    this.sendVattu.banggia = this.banggia;\r\n    this.sendVattu.khohang = this.sendItem.KhoNhap;\r\n    this.VattuService.GetListVT(this.sendVattu).subscribe((response: any) => {\r\n      this.listVattu = response;\r\n    }, (error) => {\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  handleEdit() {\r\n    this.typePage = 'edit';\r\n  }\r\n\r\n  handleDetail() {\r\n    this.typePage = 'detail';\r\n  }\r\n\r\n  getChungTuDetail() {\r\n    this.LoadingService.setValue(true);\r\n\r\n    this.XuatkhoService.xuatHangDetail(this.chungchi).subscribe((response: any) => {\r\n      this.itemDetail = response[0];\r\n      this.countProduct = response[0].ChiTietHang.length;\r\n\r\n      // this.sendItem.BanTheoDon = response[0].BanTheoDon;\r\n      this.sendItem.ChungTuID = response[0].ChungTuID;\r\n\r\n      this.sendItem.LoaiCTID = response[0].LoaiCTID;\r\n      this.sendItem.SoCT = response[0].SoCT;\r\n      this.sendItem.ThoiDiem = response[0].ThoiDiem;\r\n      this.sendItem.nam_du_lieu = this.chungchi.nam_du_lieu;\r\n\r\n      this.sendItem.DVNhap = response[0].DVNhap;\r\n      this.sendItem.KhoNhap = response[0].KhoNhap;\r\n      this.donvi = response[0]._TenDVNhap;\r\n      this.kho = response[0]._TenKhoNhap;\r\n\r\n\r\n      this.setChietHang();\r\n      this.LoadingService.setValue(false);\r\n      this.countMoney(response[0]);\r\n    }, (error) => {\r\n      console.log('error', error);\r\n      this.LoadingService.setValue(false);\r\n\r\n    });\r\n  }\r\n\r\n  setChietHang() {\r\n    this.sendItem.ChiTietHang = [];\r\n    this.displayChiTietHang = [];\r\n\r\n    for (let i = 0; i < this.itemDetail.ChiTietHang.length; i++) {\r\n      this.sendItem.ChiTietHang.push({\r\n        \"NhapXuatID\": this.itemDetail.ChiTietHang[i].NhapXuatID,\r\n        \"MaVT\": this.itemDetail.ChiTietHang[i].MaVT,\r\n        \"DVT\": this.itemDetail.ChiTietHang[i].DVT,\r\n        \"SoLuong\": this.itemDetail.ChiTietHang[i].SoLuong,\r\n        \"DonGia\": this.itemDetail.ChiTietHang[i].DonGia,\r\n        \"GiaBanLe\": this.itemDetail.ChiTietHang[i].GiaBanLe ? this.itemDetail.ChiTietHang[i].GiaBanLe : 0,\r\n        \"GiaBanSy\": this.itemDetail.ChiTietHang[i].GiaBanSy ? this.itemDetail.ChiTietHang[i].GiaBanSy : 0,\r\n        \"ThanhTien\": this.itemDetail.ChiTietHang[i].ThanhTien,\r\n        \"VAT_Percent\": this.itemDetail.ChiTietHang[i].VAT_Percent,\r\n        \"VAT\": this.itemDetail.ChiTietHang[i].VAT,\r\n        \"ChietKhau_Percent\": this.itemDetail.ChiTietHang[i].ChietKhau_Percent,\r\n        \"ChietKhau\": this.itemDetail.ChiTietHang[i].ChietKhau,\r\n        \"TongTien\": this.itemDetail.ChiTietHang[i].TongTien,\r\n        \"HTTT\": this.itemDetail.ChiTietHang[i].HTTT ? this.itemDetail.ChiTietHang[i].HTTT : '',\r\n        \"LoHang\": this.itemDetail.ChiTietHang[i].LoHang ? this.itemDetail.ChiTietHang[i].LoHang : '',\r\n        \"HanDung\": this.itemDetail.ChiTietHang[i].HanDung ? this.itemDetail.ChiTietHang[i].HanDung : ''\r\n      })\r\n\r\n      this.displayChiTietHang.push({\r\n        \"_TenVT\": this.itemDetail.ChiTietHang[i]._TenVT,\r\n        \"MaVT\": this.itemDetail.ChiTietHang[i].MaVT,\r\n        \"DVT\": this.itemDetail.ChiTietHang[i].DVT,\r\n        'DonGia': this.itemDetail.ChiTietHang[i].DonGia ? new Intl.NumberFormat().format(this.itemDetail.ChiTietHang[i].DonGia).replace(/\\./g, ',') : '0',\r\n        'SoLuong': new Intl.NumberFormat().format(this.itemDetail.ChiTietHang[i].SoLuong).replace(/\\./g, ','),\r\n        \"ChietKhau_Percent\": this.itemDetail.ChiTietHang[i].ChietKhau_Percent,\r\n        \"VAT_Percent\": this.itemDetail.ChiTietHang[i].VAT_Percent,\r\n        \"TongTien\": this.itemDetail.ChiTietHang[i].TongTien,\r\n      })\r\n      console.log('displayChiTietHang', this.displayChiTietHang);\r\n\r\n    }\r\n  }\r\n\r\n  countMoney(billDetail) {\r\n    this.sumThanhTien = 0;\r\n    this.sumTongTien = 0;\r\n    this.sumVAT = 0;\r\n    this.sumChietKhau = 0;\r\n    this.sumThanhToan = 0;\r\n\r\n    for (let i = 0; i < billDetail.ChiTietHang.length; i++) {\r\n\r\n      this.sumThanhTien = this.sumThanhTien + billDetail.ChiTietHang[i].ThanhTien;\r\n      console.log('this.sumThanhTien', this.sumThanhTien);\r\n      console.log('this.billDetail.ChiTietHang[i].ThanhTien', billDetail.ChiTietHang[i].ThanhTien);\r\n\r\n      this.sumTongTien = this.sumTongTien + billDetail.ChiTietHang[i].TongTien;\r\n      this.sumVAT = this.sumVAT + billDetail.ChiTietHang[i].VAT;\r\n      this.sumChietKhau = this.sumChietKhau + billDetail.ChiTietHang[i].ChietKhau;\r\n      this.sumThanhToan = this.sumThanhToan + billDetail.ChiTietHang[i].ThanhToan;\r\n    }\r\n  }\r\n\r\n  formatInput(item, index, type?) {\r\n    if (type && type == 'plus') {\r\n      this.displayChiTietHang[index][item] = String(Number(this.displayChiTietHang[index][item].replace(/,/g, '')) + 1);\r\n    }\r\n    if (type && type == 'subtraction') {\r\n      this.displayChiTietHang[index][item] = String(Number(this.displayChiTietHang[index][item].replace(/,/g, '')) - 1);\r\n    }\r\n    console.log('this.displayChiTietHang[index][item]', this.displayChiTietHang[index][item]);\r\n\r\n    var convNumber = this.currencyPipe.transform(this.displayChiTietHang[index][item].replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n    this.displayChiTietHang[index][item] = convNumber;\r\n    this.sendItem.ChiTietHang[index][item] = Number(convNumber.replace(/,/g, ''));\r\n    if (item == \"DonGia\") {\r\n      this.sendItem.ChiTietHang[index].ThanhTien = this.sendItem.ChiTietHang[index].SoLuong * this.sendItem.ChiTietHang[index].DonGia;\r\n      this.displayChiTietHang[index].DonGia = new Intl.NumberFormat().format(this.sendItem.ChiTietHang[index].DonGia).replace(/\\./g, ',');\r\n      this.getTongTien(index);\r\n    }\r\n\r\n    if (item == \"SoLuong\") {\r\n      this.sendItem.ChiTietHang[index].ThanhTien = this.sendItem.ChiTietHang[index].SoLuong * this.sendItem.ChiTietHang[index].DonGia;\r\n      this.displayChiTietHang[index].ThanhTien = new Intl.NumberFormat().format(this.sendItem.ChiTietHang[index].ThanhTien).replace(/\\./g, ',');\r\n      this.getTongTien(index);\r\n    }\r\n  }\r\n\r\n  async openUnit() {\r\n    const modal = await this.modalController.create({\r\n      component: DonviIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        \"listUnit\": this.listUnit,\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log(dataReturned);\r\n\r\n      if (dataReturned.data) {\r\n        this.sendItem.DVNhap = dataReturned.data.MaDV;\r\n        this.donvi = dataReturned.data.TenDV;\r\n\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openKho() {\r\n    const modal = await this.modalController.create({\r\n      component: KhoIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        \"listKho\": this.listKho,\r\n      }\r\n\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned.data) {\r\n        // this.makho = dataReturned.data.MaKho;\r\n        this.sendItem.KhoNhap = dataReturned.data.MaKho;\r\n        this.kho = dataReturned.data.TenKho;\r\n        this.getVattu();\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openVattu() {\r\n    // if (!this.makho) {\r\n    //   return;\r\n    // }\r\n    // this.LoadingService.setValue(true);\r\n\r\n    const modal = await this.modalController.create({\r\n      component: VattuIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        // \"makho\": this.sendItem.KhoNhap,\r\n        // \"banggia\": this.banggia,\r\n        \"listVattu\": this.listVattu,\r\n        \"listItem\": this.sendItem.ChiTietHang,\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned && dataReturned.data) {\r\n        this.displayChiTietHang = [];\r\n\r\n        console.log('dataReturned.data', dataReturned.data);\r\n\r\n        for (let i = 0; i < dataReturned.data.length; i++) {\r\n          let foundVattu = this.listVattu.find((o: any) => o.MaVT === dataReturned.data[i].MaVT);\r\n\r\n          this.displayChiTietHang.push({\r\n            \"_TenVT\": foundVattu.TenVT,\r\n            \"MaVT\": dataReturned.data[i].MaVT,\r\n            \"DVT\": dataReturned.data[i].DVT,\r\n            'DonGia': dataReturned.data[i].DonGia ? new Intl.NumberFormat().format(dataReturned.data[i].DonGia).replace(/\\./g, ',') : '0',\r\n            'SoLuong': new Intl.NumberFormat().format(dataReturned.data[i].SoLuong).replace(/\\./g, ','),\r\n            \"ChietKhau_Percent\": dataReturned.data[i].ChietKhau_Percent,\r\n            \"VAT_Percent\": dataReturned.data[i].VAT_Percent,\r\n            \"TongTien\": dataReturned.data[i].TongTien,\r\n          })\r\n        }\r\n        this.countMoney(this.sendItem)\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  setInput(e, item, index) {\r\n    this.sendItem.ChiTietHang[index][item] = e;\r\n    if (item == \"ChietKhau_Percent\") {\r\n      this.sendItem.ChiTietHang[index].ChietKhau = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].ChietKhau_Percent / 100;\r\n      this.getTongTien(index);\r\n    }\r\n\r\n    if (item == \"VAT_Percent\") {\r\n      this.sendItem.ChiTietHang[index].VAT = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].VAT_Percent / 100;\r\n      this.getTongTien(index);\r\n    }\r\n  }\r\n\r\n  getTongTien(index) {\r\n    this.sendItem.ChiTietHang[index].TongTien = this.sendItem.ChiTietHang[index].ThanhTien + this.sendItem.ChiTietHang[index].VAT - this.sendItem.ChiTietHang[index].ChietKhau;\r\n    this.displayChiTietHang[index].TongTien = this.sendItem.ChiTietHang[index].TongTien\r\n    this.countMoney(this.sendItem);\r\n  }\r\n\r\n  handleRemove(item, index) {\r\n    this.AlertService.presentAlert(`Bạn có chắc muốn xóa mặt hàng \"${item._TenVT}\"?`).then(res => {\r\n      if (res == 'true') {\r\n        // console.log('eeee');\r\n        this.displayChiTietHang.splice(index, 1);\r\n        this.sendItem.ChiTietHang.splice(index, 1);\r\n        this.countMoney(this.sendItem);\r\n        // this.countMoney(this.displayChiTietHang);\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  confirmSubmit() {\r\n    console.log('this.sendItem', this.sendItem);\r\n\r\n    if (this.typePage == 'true') {\r\n      // var checkExit = false;\r\n      // if (this.sendItem.ChiTietHang.length != 0) {\r\n      //   for (let i = 0; i < this.sendItem.ChiTietHang.length; i++) {\r\n      //     if (!this.sendItem.ChiTietHang[i].SoLuong) {\r\n      //       checkExit = true;\r\n      //     }\r\n      //   }\r\n      // } else {\r\n      //   checkExit = true;\r\n      // }\r\n      // if (!checkExit) {\r\n      this.AlertService.presentAlert(`Bạn có chắc muốn thêm hóa đơn?`,).then(res => {\r\n        if (res == 'true') {\r\n          this.createImport();\r\n        }\r\n      });\r\n      // }\r\n    } else {\r\n      console.log('edit', this.sendItem);\r\n      this.AlertService.presentAlert(`Bạn có chắc muốn sửa hóa đơn?`,).then(res => {\r\n        if (res == 'true') {\r\n          this.updateImport();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  createImport() {\r\n\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.createXuatHang(this.sendItem).subscribe((response: any) => {\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        // this.resetItem();\r\n        this.LoadingService.setValue(false);\r\n\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n\r\n      }\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n  updateImport() {\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.updateXuatHang(this.sendItem).subscribe((response: any) => {\r\n      console.log('response', response);\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n      }\r\n\r\n      // this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n  openPrint() {\r\n    var myDiv = document.getElementById(\"myDiv\");\r\n    var divContent = myDiv.outerHTML;\r\n\r\n    this.printer.isAvailable().then((onsuccess: any) => {\r\n      console.log('onsuccess', onsuccess);\r\n\r\n      let options: PrintOptions = {\r\n\r\n      };\r\n      this.printer.print(divContent, options).then((value: any) => {\r\n        console.log('value:', value);\r\n      }, (error) => {\r\n        console.log('error:', error);\r\n      });\r\n\r\n    }, (err) => {\r\n      console.log('Error', err);\r\n    })\r\n  }\r\n\r\n  openBack() {\r\n    console.log('aaaaa');\r\n    // var item = {\r\n    //   \"DienGiai\": this.DienGiai,\r\n    //   \"LoaiCTID\": this.LoaiCTID\r\n    // }\r\n    this.navController.navigateBack(['bill-list'], {\r\n      // queryParams: item\r\n    });\r\n\r\n    // this.router.navigateByUrl(\"xuathang\");\r\n  }\r\n\r\n}\r\n"]}
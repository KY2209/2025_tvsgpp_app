{"version":3,"sources":["webpack:///src/app/nhapkho/nhaphang-detail/nhaphang-detail.page.html","webpack:///src/app/nhapkho/nhaphang-detail/nhaphang-detail-routing.module.ts","webpack:///src/app/nhapkho/nhaphang-detail/nhaphang-detail.module.ts","webpack:///src/app/nhapkho/nhaphang-detail/nhaphang-detail.page.scss","webpack:///src/app/nhapkho/nhaphang-detail/nhaphang-detail.page.ts"],"names":["routes","path","component","NhaphangDetailPageRoutingModule","imports","forChild","exports","NhaphangDetailPageModule","declarations","NhaphangDetailPage","ToastService","FunctionService","router","toastController","modalController","convertHelper","XuatkhoService","AlertService","navController","LoadingService","route","printer","currencyPipe","popoverController","KhoService","cdr","UnitService","VattuService","actionSheetController","chungchi","ChungTuID","nam_du_lieu","donvi","kho","sumBillWait","submit","sendItem","ChietKhauHD","ThanhToanHD","ChiTietHang","sendVattu","displayChiTietHang","listKho","listUnit","listVattu","banggia","HTTT_name","sendChungChi","isCreate","loaiCTNow","title","typePage","itemDetail","listBillWait","check","indexItem","countProduct","sumThanhTien","sumTongTien","sumTongTienTemp","sumVAT","sumChietKhau","sumChietKhauTemp","loaiCT_name","LoaiCTID","checkChungTuID","DienGiai","pageParent","LoaiCTByBill","loainx","getDSTK","JSON","parse","localStorage","getItem","queryParams","subscribe","params","Type","countBillWait","getChungTuDetail","now","Date","year","getFullYear","hours","getHours","minute","getMinutes","toString","LoaiCT","typeChungTuObj","SoTK","ThoiDiem","toISOString","slice","convNumber","getTime","SoCT","getInitials","getLoaiCT","getUnit","length","$event","target","value","undefined","console","log","response","listTaiKhoan","error","setTimeout","i","BangGia","LoaiNX","xuatam","XuatAm","getKho","TenKho","KhoNhap","MaKho","getVattu","khohang","GetListVT","number","setValue","xuatHangDetail","DVNhap","ChietKhau","ThanhToan","_TenDVNhap","_TenKhoNhap","HTTT","transform","String","replace","item","setChietHang","countMoney","push","NhapXuatID","MaVT","DVT","SoLuong","DonGia","GiaBanLe","GiaBanSy","ThanhTien","VAT_Percent","VAT","ChietKhau_Percent","TongTien","LoHang","HanDung","_TenVT","Intl","NumberFormat","format","billDetail","index","type","Number","sumMoney","getTongTien","e","create","cssClass","componentProps","modal","onDidDismiss","then","dataReturned","data","MaDV","TenDV","present","foundVattu","find","o","TenVT","arrBtn","text","icon","handler","buttons","actionSheet","role","words","split","initials","map","word","charAt","toUpperCase","join","presentAlert","res","splice","setItem","translucent","popover","GiaMua","kho_name","donvi_name","warningToast","LoaiTK","createImport","updateImport","navigateBack","createXuatHang","code","successToast","message","resetItem","stringify","errorToast","updateXuatHang","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,+BAA+B;AAAA;AAAA,O;;AAA/BA,qCAA+B,6DAJ3C,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI2C,GAA/BH,+BAA+B,CAA/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCIAI,wBAAwB;AAAA;AAAA,O;;AAAxBA,8BAAwB,6DATpC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,+FAJO,CADD;AAORI,oBAAY,EAAE,CAAC,wEAAD,EAAqB,gFAArB;AAPN,OAAT,CASoC,GAAxBD,wBAAwB,CAAxB;;;;;;;;;;;;;;;;ACpBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCwBFE,kBAAkB;AAwF7B,oCACUC,YADV,EAESC,eAFT,EAGSC,MAHT,EAISC,eAJT,EAKUC,eALV,EAMSC,aANT,EAOUC,cAPV,EAQUC,YARV,EASUC,aATV,EAUUC,cAVV,EAWUC,KAXV,EAYUC,OAZV,EAaUC,YAbV,EAcSC,iBAdT,EAeUC,UAfV,EAgBUC,GAhBV,EAiBUC,WAjBV,EAkBUC,YAlBV,EAmBUC,qBAnBV,EAmBsD;AAAA;;AAAA;;AAlB5C,eAAAlB,YAAA,GAAAA,YAAA;AACD,eAAAC,eAAA,GAAAA,eAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACC,eAAAC,eAAA,GAAAA,eAAA;AACD,eAAAC,aAAA,GAAAA,aAAA;AACC,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACA,eAAAC,aAAA,GAAAA,aAAA;AACA,eAAAC,cAAA,GAAAA,cAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACD,eAAAC,iBAAA,GAAAA,iBAAA;AACC,eAAAC,UAAA,GAAAA,UAAA;AACA,eAAAC,GAAA,GAAAA,GAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACA,eAAAC,qBAAA,GAAAA,qBAAA;AA1GV,eAAAC,QAAA,GAAgB;AACdC,qBAAS,EAAE,EADG;AAEdC,uBAAW,EAAE;AAFC,WAAhB;AAIA,eAAAC,KAAA,GAAgB,EAAhB;AACA,eAAAC,GAAA,GAAc,EAAd;AACA,eAAAC,WAAA,GAAsB,CAAtB;AACA,eAAAC,MAAA,GAAkB,KAAlB;AACA,eAAAC,QAAA,GAAgB;AACd,sBAAU,EADI;AAEd,uBAAW,EAFG;AAGd,2BAAe,EAHD;AAId,wBAAY,CAJE;AAKd,yBAAa,CALC;AAMd;AACA,oBAAQ,EAPM;AAQd,wBAAY,EARE;AASd,wBAAY,EATE;AAUd,yBAAa,CAVC;AAWd,yBAAa,CAXC;AAYd,2BAAe,EAZD;AAad,oBAAQ;AAbM,WAAhB;AAeA,eAAAC,WAAA,GAAsB,GAAtB;AACA,eAAAC,WAAA,GAAsB,GAAtB;AACA,eAAAC,WAAA,GAAc;AACZ,0BAAc,CADF;AAEZ,oBAAQ,EAFI;AAGZ,mBAAO,EAHK;AAIZ,uBAAW,CAJC;AAKZ,sBAAU,CALE;AAMZ,wBAAY,CANA;AAOZ,wBAAY,CAPA;AAQZ,yBAAa,CARD;AASZ,2BAAe,CATH;AAUZ,mBAAO,CAVK;AAWZ,iCAAqB,CAXT;AAYZ,yBAAa,CAZD;AAaZ,wBAAY,CAbA;AAcZ,oBAAQ,IAdI;AAeZ,sBAAU,EAfE;AAgBZ,uBAAW;AAhBC,WAAd;AAoBA,eAAAC,SAAA,GAAY;AACV,sBAAU,IADA;AAEV,uBAAW,EAFD;AAGV,uBAAW,EAHD;AAIV,sBAAU;AAJA,WAAZ;AAMA,eAAAC,kBAAA,GAA0B,EAA1B;AACA,eAAAC,OAAA,GAAe,EAAf;AACA,eAAAC,QAAA,GAAgB,EAAhB;AACA,eAAAC,SAAA,GAAiB,EAAjB;AAEA,eAAAC,OAAA,GAAe,EAAf;AACA,eAAAC,SAAA,GAAoB,UAApB;AACA,eAAAC,YAAA,GAAoB;AAClBC,oBAAQ,EAAE,KADQ;AAElBlB,qBAAS,EAAE,EAFO;AAGlBC,uBAAW,EAAE;AAHK,WAApB;AAKA,eAAAkB,SAAA,GAAiB,EAAjB;AACA,eAAAC,KAAA,GAAgB,EAAhB;AACA,eAAAC,QAAA,GAAmB,EAAnB;AACA,eAAAC,UAAA,GAAkB,EAAlB;AACA,eAAAC,YAAA,GAAoB,EAApB;AACA,eAAAC,KAAA,GAAiB,KAAjB;AACA,eAAAC,SAAA,GAAuB,EAAvB;AACA,eAAAC,YAAA,GAAuB,CAAvB;AACA,eAAAC,YAAA,GAAuB,CAAvB;AACA,eAAAC,WAAA,GAAsB,CAAtB;AACA,eAAAC,eAAA,GAA0B,CAA1B;AACA,eAAAC,MAAA,GAAiB,CAAjB;AACA,eAAAC,YAAA,GAAuB,CAAvB;AACA,eAAAC,gBAAA,GAA2B,CAA3B,CA8BsD,CA7BtD;;AACA,eAAAC,WAAA,GAAsB,EAAtB;AACA,eAAAC,QAAA,GAAmB,CAAnB;AACA,eAAAC,cAAA,GAAyB,CAAzB;AACA,eAAAC,QAAA,GAAmB,EAAnB;AACA,eAAAC,UAAA,GAAqB,EAArB;AACA,eAAAC,YAAA,GAAoB,EAApB;AACA,eAAAC,MAAA,GAAiB,EAAjB;AA0BE,eAAKC,OAAL;AACA,eAAKjB,YAAL,GAAoBkB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,kBAArB,KAA4C,IAAvD,CAApB;AAEA,eAAKtD,KAAL,CAAWuD,WAAX,CAAuBC,SAAvB,CAAiC,UAAAC,MAAM,EAAI;AACzC,iBAAI,CAAChD,QAAL,CAAcC,SAAd,GAA0B+C,MAAM,CAAC/C,SAAjC;AACA,iBAAI,CAACD,QAAL,CAAcE,WAAd,GAA4B8C,MAAM,CAAC9C,WAAnC;AACA,iBAAI,CAACgB,YAAL,CAAkBjB,SAAlB,GAA8B+C,MAAM,CAAC/C,SAArC;AACA,iBAAI,CAACiB,YAAL,CAAkBhB,WAAlB,GAAgC8C,MAAM,CAAC9C,WAAvC;AACA,iBAAI,CAACiC,QAAL,GAAgBa,MAAM,CAACb,QAAvB;AACA,iBAAI,CAACE,QAAL,GAAgBW,MAAM,CAACX,QAAvB;AACA,iBAAI,CAACf,QAAL,GAAgB0B,MAAM,CAACC,IAAvB;AACA,iBAAI,CAACX,UAAL,GAAkBU,MAAM,CAACV,UAAzB;AAEA,iBAAI,CAACjB,KAAL,GAAa2B,MAAM,CAACC,IAAP,IAAe,QAAf,GAA0B,UAA1B,GAAuCD,MAAM,CAACC,IAAP,IAAe,QAAf,GAA0B,MAA1B,GAAmC,KAAvF;;AACA,iBAAI,CAACC,aAAL;;AAGA,gBAAI,KAAI,CAAC5B,QAAL,IAAiB,QAAjB,IAA6B,KAAI,CAACA,QAAL,IAAiB,MAAlD,EAA0D;AACxD,mBAAI,CAAC6B,gBAAL;AACD,aAFD,MAEO;AACL,kBAAIC,GAAG,GAAG,IAAIC,IAAJ,EAAV;AACA,kBAAIC,IAAI,GAAGF,GAAG,CAACG,WAAJ,EAAX;AACA,kBAAIC,KAAK,GAAGJ,GAAG,CAACK,QAAJ,EAAZ;AACA,kBAAIC,MAAM,GAAGN,GAAG,CAACO,UAAJ,EAAb;AACA,mBAAI,CAACpD,QAAL,CAAcL,WAAd,GAA4BoD,IAAI,CAACM,QAAL,EAA5B;AAEA,kBAAIC,MAAM,GAAGnB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,KAAwC,IAAnD,CAAb;;AACA,kBAAIG,MAAM,CAACb,QAAX,EAAqB;AACnB,qBAAI,CAACf,SAAL,GAAiB,KAAI,CAAClC,aAAL,CAAmB4E,cAAnB,CAAkCd,MAAM,CAACb,QAAzC,CAAjB;AACA,qBAAI,CAACD,WAAL,GAAmB,KAAI,CAACd,SAAL,CAAeiB,QAAlC;AACA,qBAAI,CAAC9B,QAAL,CAAc4B,QAAd,GAAyB,KAAI,CAACf,SAAL,CAAee,QAAxC;AACD,eAJD,MAIO;AACL,qBAAI,CAACf,SAAL,GAAiByC,MAAM,CAAC,CAAD,CAAvB;AACA,qBAAI,CAAC3B,WAAL,GAAmB2B,MAAM,CAAC,CAAD,CAAN,CAAUxB,QAA7B;AACA,qBAAI,CAAC9B,QAAL,CAAc4B,QAAd,GAAyB0B,MAAM,CAAC,CAAD,CAAN,CAAU1B,QAAnC;AACD;;AACD,mBAAI,CAAC5B,QAAL,CAAcwD,IAAd,GAAqB,KAAI,CAACA,IAA1B;AACA,mBAAI,CAACxD,QAAL,CAAcyD,QAAd,GAAyBZ,GAAG,CAACa,WAAJ,GAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,EAA3B,cAAoC,KAAI,CAACC,UAAL,CAAgBX,KAAhB,CAApC,cAA8D,KAAI,CAACW,UAAL,CAAgBT,MAAhB,CAA9D,QAAzB;AACA,mBAAI,CAACnD,QAAL,CAAcN,SAAd,GAA0B,IAAIoD,IAAJ,GAAWe,OAAX,EAA1B;AACA,mBAAI,CAAC7D,QAAL,CAAc8D,IAAd,aAAwB,KAAI,CAACC,WAAL,CAAiBT,MAAM,CAAC,CAAD,CAAN,CAAUxB,QAA3B,CAAxB,SAA+D,KAAI,CAAC9B,QAAL,CAAcN,SAA7E;;AACA,mBAAI,CAACsE,SAAL;AAED;;AACD,iBAAI,CAACC,OAAL;AACD,WAzCD;AA0CD;;AA5J4B;AAAA;AAAA,qCA8JlB;AACT,iBAAKnE,WAAL,GAAmB,KAAKmB,YAAL,CAAkBiD,MAArC;AACD;AAhK4B;AAAA;AAAA,uCAkKhBC,MAlKgB,EAkKR;AACnB,iBAAKX,IAAL,GAAY,KAAZ;;AACA,gBAAIW,MAAM,CAACC,MAAP,CAAcC,KAAd,IAAuBC,SAA3B,EAAsC;AACpC,mBAAKd,IAAL,GAAY,KAAZ;AACD,aAFD,MAGK;AACH,mBAAKA,IAAL,GAAYW,MAAM,CAACC,MAAP,CAAcC,KAA1B;AACAE,qBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB,KAAKhB,IAAxB;AACA,mBAAKxD,QAAL,CAAcwD,IAAd,GAAqB,KAAKA,IAA1B;AACD;AACF;AA5K4B;AAAA;AAAA,oCA8KtB;AAAA;;AAEL,iBAAKjF,eAAL,CAAqB2D,OAArB,GAA+BM,SAA/B,CAAyC,UAACiC,QAAD,EAAmB;AAC1D;AACA,oBAAI,CAACC,YAAL,GAAoBD,QAApB;AACD,aAHD,EAGG,UAACE,KAAD,EAAW;AACZC,wBAAU,CAAC,YAAM;AACfL,uBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;AACD,eAFS,EAEP,IAFO,CAAV;AAGD,aAPD;AAQD;AAxL4B;AAAA;AAAA,sCA2LjB;AACV,iBAAK3C,YAAL,GAAoBG,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,KAAwC,IAAnD,CAApB;;AACA,iBAAK,IAAIuC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK7C,YAAL,CAAkBkC,MAAtC,EAA8CW,CAAC,EAA/C,EAAmD;AAEjD,kBAAI,KAAK7C,YAAL,CAAkB6C,CAAlB,EAAqBjD,QAArB,IAAiC,KAAK5B,QAAL,CAAc4B,QAAnD,EAA6D;AAC3D,qBAAKf,SAAL,GAAiB,KAAKmB,YAAL,CAAkB6C,CAAlB,CAAjB;AACA,qBAAKlD,WAAL,GAAmB,KAAKK,YAAL,CAAkB6C,CAAlB,EAAqB/C,QAAxC;AACA,qBAAKrB,OAAL,GAAe,KAAKuB,YAAL,CAAkB6C,CAAlB,EAAqBC,OAApC;AACA,qBAAK7C,MAAL,GAAc,KAAKD,YAAL,CAAkB6C,CAAlB,EAAqBE,MAAnC;AACA,qBAAKC,MAAL,GAAc,KAAKhD,YAAL,CAAkB6C,CAAlB,EAAqBI,MAAnC;AACA;AACD;AACF;;AAED,iBAAKC,MAAL;AACD;AA1M4B;AAAA;AAAA,mCA4MpB;AAAA;;AAEP,iBAAK9F,UAAL,CAAgB8F,MAAhB,GAAyB1C,SAAzB,CAAmC,UAACiC,QAAD,EAAmB;AACpD,oBAAI,CAACnE,OAAL,GAAemE,QAAf;;AACA,kBAAI,MAAI,CAAC1D,QAAL,IAAiB,QAArB,EAA+B;AAC7B;AACA,sBAAI,CAAClB,GAAL,GAAW4E,QAAQ,CAAC,CAAD,CAAR,CAAYU,MAAvB,CAF6B,CAG7B;;AACA,sBAAI,CAACnF,QAAL,CAAcoF,OAAd,GAAwBX,QAAQ,CAAC,CAAD,CAAR,CAAYY,KAApC;AACD;;AAED,oBAAI,CAACC,QAAL;AAED,aAXD,EAWG,UAACX,KAAD,EAAW;AACZC,wBAAU,CAAC,YAAM;AACfL,uBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;AACD,eAFS,EAEP,IAFO,CAAV;AAGD,aAfD;AAgBD;AA9N4B;AAAA;AAAA,oCAgOnB;AAAA;;AACR,iBAAKrF,WAAL,CAAiB2E,OAAjB,GAA2BzB,SAA3B,CAAqC,UAACiC,QAAD,EAAmB;AACtD,oBAAI,CAAClE,QAAL,GAAgBkE,QAAhB;AACD,aAFD,EAEG,UAACE,KAAD,EAAW;AACZC,wBAAU,CAAC,YAAM;AACfL,uBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;AACD,eAFS,EAEP,IAFO,CAAV;AAGD,aAND;AAOD;AAxO4B;AAAA;AAAA,qCA0OlB;AAAA;;AACT,iBAAKvE,SAAL,CAAe6B,MAAf,GAAwB,KAAKA,MAA7B;AACA,iBAAK7B,SAAL,CAAeK,OAAf,GAAyB,KAAKA,OAA9B;AACA,iBAAKL,SAAL,CAAe4E,MAAf,GAAwB,KAAKA,MAAL,GAAc,CAAd,GAAkB,CAA1C;AACA,iBAAK5E,SAAL,CAAemF,OAAf,GAAyB,KAAKvF,QAAL,CAAcoF,OAAvC;AACA,iBAAK7F,YAAL,CAAkBiG,SAAlB,CAA4B,KAAKpF,SAAjC,EAA4CoC,SAA5C,CAAsD,UAACiC,QAAD,EAAmB;AACvE,oBAAI,CAACjE,SAAL,GAAiBiE,QAAjB;AACD,aAFD,EAEG,UAACE,KAAD,EAAW;AACZJ,qBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;AACD,aAJD;AAKD;AApP4B;AAAA;AAAA,qCAsPlBc,MAtPkB,EAsPV;AACjB,mBAAOA,MAAM,GAAG,EAAT,GAAc,MAAMA,MAApB,GAA6BA,MAApC;AACD;AAxP4B;AAAA;AAAA,uCA0PhB;AACX,iBAAK1E,QAAL,GAAgB,MAAhB;AACD;AA5P4B;AAAA;AAAA,yCA8Pd;AACb,iBAAKA,QAAL,GAAgB,QAAhB;AACD;AAhQ4B;AAAA;AAAA,6CAkQV;AAAA;;AACjB,iBAAKhC,cAAL,CAAoB2G,QAApB,CAA6B,IAA7B;AAEA,iBAAK9G,cAAL,CAAoB+G,cAApB,CAAmC,KAAKlG,QAAxC,EAAkD+C,SAAlD,CAA4D,UAACiC,QAAD,EAAmB;AAC7E,oBAAI,CAACzD,UAAL,GAAkByD,QAAQ,CAAC,CAAD,CAA1B;AACA,oBAAI,CAACrD,YAAL,GAAoBqD,QAAQ,CAAC,CAAD,CAAR,CAAYtE,WAAZ,CAAwB+D,MAA5C,CAF6E,CAI7E;;AACA,oBAAI,CAAClE,QAAL,CAAcN,SAAd,GAA0B+E,QAAQ,CAAC,CAAD,CAAR,CAAY/E,SAAtC;AAEA,oBAAI,CAACM,QAAL,CAAc4B,QAAd,GAAyB6C,QAAQ,CAAC,CAAD,CAAR,CAAY7C,QAArC;AACA,oBAAI,CAAC5B,QAAL,CAAc8D,IAAd,GAAqBW,QAAQ,CAAC,CAAD,CAAR,CAAYX,IAAjC;AACA,oBAAI,CAAC9D,QAAL,CAAcyD,QAAd,GAAyBgB,QAAQ,CAAC,CAAD,CAAR,CAAYhB,QAArC;AACA,oBAAI,CAACzD,QAAL,CAAcL,WAAd,GAA4B,MAAI,CAACF,QAAL,CAAcE,WAA1C;AAEA,oBAAI,CAACK,QAAL,CAAc4F,MAAd,GAAuBnB,QAAQ,CAAC,CAAD,CAAR,CAAYmB,MAAnC;AACA,oBAAI,CAAC5F,QAAL,CAAcoF,OAAd,GAAwBX,QAAQ,CAAC,CAAD,CAAR,CAAYW,OAApC;AACA,oBAAI,CAACpF,QAAL,CAAc6F,SAAd,GAA0BpB,QAAQ,CAAC,CAAD,CAAR,CAAYoB,SAAtC;AACA,oBAAI,CAAC7F,QAAL,CAAc8F,SAAd,GAA0BrB,QAAQ,CAAC,CAAD,CAAR,CAAYqB,SAAtC;AACA,oBAAI,CAAClG,KAAL,GAAa6E,QAAQ,CAAC,CAAD,CAAR,CAAYsB,UAAzB;AACA,oBAAI,CAAClG,GAAL,GAAW4E,QAAQ,CAAC,CAAD,CAAR,CAAYuB,WAAvB;AACA,oBAAI,CAACtF,SAAL,GAAiB+D,QAAQ,CAAC,CAAD,CAAR,CAAYtE,WAAZ,CAAwB,CAAxB,EAA2B8F,IAA3B,IAAmC,IAAnC,GAA0C,cAA1C,GAA2D,UAA5E;AACA,oBAAI,CAAChG,WAAL,GAAmB,MAAI,CAACf,YAAL,CAAkBgH,SAAlB,CAA4BC,MAAM,CAAC1B,QAAQ,CAAC,CAAD,CAAR,CAAYoB,SAAb,CAAN,CAA8BO,OAA9B,CAAsC,KAAtC,EAA6C,EAA7C,EAAiDA,OAAjD,CAAyD,KAAzD,EAAgE,EAAhE,CAA5B,EAAiG,GAAjG,EAAsG,QAAtG,EAAgH,OAAhH,CAAnB;;AACA,mBAAK,IAAIvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,MAAI,CAACH,YAAL,CAAkBR,MAAvC,EAA+CW,CAAC,EAAhD,EAAoD;AAClD,oBAAIwB,IAAI,GAAG,MAAI,CAAC3B,YAAL,CAAkBG,CAAlB,CAAX;;AACA,oBAAIwB,IAAI,IAAI/B,SAAZ,EAAuB;AACrB,sBAAI+B,IAAI,CAAC7C,IAAL,IAAaiB,QAAQ,CAAC,CAAD,CAAR,CAAYjB,IAA7B,EAAmC;AACjC,0BAAI,CAACA,IAAL,GAAY6C,IAAI,CAAC7C,IAAjB;AACD;AACF;AAEF;;AACD,oBAAI,CAACQ,SAAL;;AAEA,oBAAI,CAACsC,YAAL;;AACA,oBAAI,CAACvH,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;;AACA,oBAAI,CAACa,UAAL,CAAgB9B,QAAQ,CAAC,CAAD,CAAxB;AACD,aAlCD,EAkCG,UAACE,KAAD,EAAW;AACZJ,qBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;;AACA,oBAAI,CAAC5F,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;AAED,aAtCD;AAuCD;AA5S4B;AAAA;AAAA,yCA8Sd;AACb,iBAAK1F,QAAL,CAAcG,WAAd,GAA4B,EAA5B;AACA,iBAAKE,kBAAL,GAA0B,EAA1B;;AAEA,iBAAK,IAAIwE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK7D,UAAL,CAAgBb,WAAhB,CAA4B+D,MAAhD,EAAwDW,CAAC,EAAzD,EAA6D;AAC3D,mBAAK7E,QAAL,CAAcG,WAAd,CAA0BqG,IAA1B,CAA+B;AAC7B,8BAAc,KAAKxF,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B4B,UADhB;AAE7B,wBAAQ,KAAKzF,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B6B,IAFV;AAG7B,uBAAO,KAAK1F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B8B,GAHT;AAI7B,2BAAW,KAAK3F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B+B,OAJb;AAK7B,0BAAU,KAAK5F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BgC,MALZ;AAM7B,4BAAY,KAAK7F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BiC,QAA/B,GAA0C,KAAK9F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BiC,QAAzE,GAAoF,CANnE;AAO7B,4BAAY,KAAK9F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BkC,QAA/B,GAA0C,KAAK/F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BkC,QAAzE,GAAoF,CAPnE;AAQ7B,6BAAa,KAAK/F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BmC,SARf;AAS7B,+BAAe,KAAKhG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BoC,WATjB;AAU7B,uBAAO,KAAKjG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BqC,GAVT;AAW7B,qCAAqB,KAAKlG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BsC,iBAXvB;AAY7B,6BAAa,KAAKnG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BgB,SAZf;AAa7B,4BAAY,KAAK7E,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BuC,QAbd;AAc7B,wBAAQ,KAAKpG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BoB,IAA/B,GAAsC,KAAKjF,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BoB,IAArE,GAA4E,EAdvD;AAe7B,0BAAU,KAAKjF,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BwC,MAA/B,GAAwC,KAAKrG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BwC,MAAvE,GAAgF,EAf7D;AAgB7B,2BAAW,KAAKrG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+ByC,OAA/B,GAAyC,KAAKtG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+ByC,OAAxE,GAAkF;AAhBhE,eAA/B;AAmBA,mBAAKjH,kBAAL,CAAwBmG,IAAxB,CAA6B;AAC3B,0BAAU,KAAKxF,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B0C,MADd;AAE3B,wBAAQ,KAAKvG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B6B,IAFZ;AAG3B,uBAAO,KAAK1F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B8B,GAHX;AAI3B,0BAAU,KAAK3F,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BgC,MAA/B,GAAwC,IAAIW,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+B,KAAK1G,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BgC,MAA9D,EAAsET,OAAtE,CAA8E,KAA9E,EAAqF,GAArF,CAAxC,GAAoI,GAJnH;AAK3B,2BAAW,IAAIoB,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+B,KAAK1G,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+B+B,OAA9D,EAAuER,OAAvE,CAA+E,KAA/E,EAAsF,GAAtF,CALgB;AAM3B,qCAAqB,KAAKpF,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BsC,iBANzB;AAO3B,+BAAe,KAAKnG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BoC,WAPnB;AAQ3B,4BAAY,KAAKjG,UAAL,CAAgBb,WAAhB,CAA4B0E,CAA5B,EAA+BuC;AARhB,eAA7B;AAUD;AACF;AAjV4B;AAAA;AAAA,qCAmVlBO,UAnVkB,EAmVN;AACrB,iBAAKtG,YAAL,GAAoB,CAApB;AACA,iBAAKC,WAAL,GAAmB,CAAnB;AACA,iBAAKE,MAAL,GAAc,CAAd;AACA,iBAAKC,YAAL,GAAoB,CAApB;AACA,iBAAKC,gBAAL,GAAwB,CAAxB,CALqB,CAMrB;;AACA,gBAAI,KAAKX,QAAL,IAAiB,QAArB,EAA+B;AAC7B,mBAAKU,YAAL,GAAoB,KAAKT,UAAL,CAAgB6E,SAAhB,GAA4B,KAAK7E,UAAL,CAAgB6E,SAA5C,GAAwD,CAA5E;AACD;;AAED,iBAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8C,UAAU,CAACxH,WAAX,CAAuB+D,MAA3C,EAAmDW,CAAC,EAApD,EAAwD;AAEtD,mBAAKxD,YAAL,GAAoB,KAAKA,YAAL,GAAoBsG,UAAU,CAACxH,WAAX,CAAuB0E,CAAvB,EAA0BmC,SAAlE;AACA,mBAAK1F,WAAL,GAAmB,KAAKA,WAAL,GAAmBqG,UAAU,CAACxH,WAAX,CAAuB0E,CAAvB,EAA0BuC,QAAhE;AACA,mBAAK5F,MAAL,GAAc,KAAKA,MAAL,GAAcmG,UAAU,CAACxH,WAAX,CAAuB0E,CAAvB,EAA0BqC,GAAtD;AACA,mBAAKxF,gBAAL,GAAwB,KAAKA,gBAAL,GAAwBiG,UAAU,CAACxH,WAAX,CAAuB0E,CAAvB,EAA0BgB,SAA1E,CALsD,CAMtD;AAED;;AAED,iBAAKpE,YAAL,GAAoB,KAAKC,gBAAL,GAAwBiG,UAAU,CAAC9B,SAAvD;AACA,iBAAKvE,WAAL,IAAoBqG,UAAU,CAAC9B,SAA/B;;AACA,gBAAI,KAAK9E,QAAL,IAAiB,QAArB,EAA+B;AAC7B,mBAAKf,QAAL,CAAc8F,SAAd,GAA0B,KAAKxE,WAA/B;AACA,mBAAKpB,WAAL,GAAmB,KAAKhB,YAAL,CAAkBgH,SAAlB,CAA4BC,MAAM,CAAC,KAAK7E,WAAN,CAAN,CAAyB8E,OAAzB,CAAiC,KAAjC,EAAwC,EAAxC,EAA4CA,OAA5C,CAAoD,KAApD,EAA2D,EAA3D,CAA5B,EAA4F,GAA5F,EAAiG,QAAjG,EAA2G,OAA3G,CAAnB;AACD,aAHD,MAGO;AACL,mBAAKlG,WAAL,GAAmB,KAAKhB,YAAL,CAAkBgH,SAAlB,CAA4BC,MAAM,CAAC,KAAKnG,QAAL,CAAc8F,SAAf,CAAN,CAAgCM,OAAhC,CAAwC,KAAxC,EAA+C,EAA/C,EAAmDA,OAAnD,CAA2D,KAA3D,EAAkE,EAAlE,CAA5B,EAAmG,GAAnG,EAAwG,QAAxG,EAAkH,OAAlH,CAAnB;AAED;;AACD,iBAAK7E,eAAL,GAAuB,KAAKD,WAA5B;AAED;AAnX4B;AAAA;AAAA,sCAqXjB+E,IArXiB,EAqXXuB,KArXW,EAqXJC,IArXI,EAqXG;AAC9B;AACA;AACA;AACA;AACA;AACA;AAEA,gBAAIjE,UAAU,GAAG,KAAK1E,YAAL,CAAkBgH,SAAlB,CAA4B,KAAK7F,kBAAL,CAAwBuH,KAAxB,EAA+BvB,IAA/B,EAAqCD,OAArC,CAA6C,KAA7C,EAAoD,EAApD,EAAwDA,OAAxD,CAAgE,KAAhE,EAAuE,EAAvE,CAA5B,EAAwG,GAAxG,EAA6G,QAA7G,EAAuH,OAAvH,CAAjB;AACA,iBAAK/F,kBAAL,CAAwBuH,KAAxB,EAA+BvB,IAA/B,IAAuCzC,UAAvC;;AACA,gBAAIyC,IAAI,IAAI,QAAR,IAAoBA,IAAI,IAAI,SAAhC,EAA2C;AACzC,mBAAKrG,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCvB,IAAjC,IAAyCyB,MAAM,CAAC,KAAKzH,kBAAL,CAAwBuH,KAAxB,EAA+BvB,IAA/B,EAAqCD,OAArC,CAA6C,IAA7C,EAAmD,EAAnD,CAAD,CAA/C;AACA,mBAAK2B,QAAL,CAAcH,KAAd;AAEA,mBAAKI,WAAL,CAAiBJ,KAAjB;AAED;AAEF;AAvY4B;AAAA;AAAA,0CAyYbvB,IAzYa,EAyYP4B,CAzYO,EAyYJ;AACvB;AACA;AACA;AACA,iBAAKjI,QAAL,CAAcqG,IAAd,IAAsByB,MAAM,CAACG,CAAC,CAAC7B,OAAF,CAAU,IAAV,EAAgB,EAAhB,CAAD,CAA5B;AACA,gBAAIxC,UAAU,GAAG,KAAK1E,YAAL,CAAkBgH,SAAlB,CAA4B+B,CAAC,CAAC7B,OAAF,CAAU,KAAV,EAAiB,EAAjB,EAAqBA,OAArB,CAA6B,KAA7B,EAAoC,EAApC,CAA5B,EAAqE,GAArE,EAA0E,QAA1E,EAAoF,OAApF,CAAjB;;AACA,gBAAIC,IAAI,IAAI,WAAZ,EAAyB;AACvB,mBAAKpG,WAAL,GAAmB2D,UAAnB;AACA,mBAAKnC,YAAL,GAAoB,KAAKC,gBAAzB;AACA,mBAAKD,YAAL,IAAqB,KAAKzB,QAAL,CAAc6F,SAAnC;AAEA,mBAAKvE,WAAL,GAAmB,KAAKD,YAAL,GAAoB,KAAKG,MAAzB,GAAkC,KAAKC,YAA1D;AACA,mBAAKzB,QAAL,CAAc8F,SAAd,GAA0B,KAAKxE,WAA/B;AACA,mBAAKpB,WAAL,GAAmB,KAAKhB,YAAL,CAAkBgH,SAAlB,CAA4BC,MAAM,CAAC,KAAK7E,WAAN,CAAN,CAAyB8E,OAAzB,CAAiC,KAAjC,EAAwC,EAAxC,EAA4CA,OAA5C,CAAoD,KAApD,EAA2D,EAA3D,CAA5B,EAA4F,GAA5F,EAAiG,QAAjG,EAA2G,OAA3G,CAAnB;AAED,aATD,MASO,IAAIC,IAAI,IAAI,WAAZ,EAAyB;AAC9B,mBAAKnG,WAAL,GAAmB0D,UAAnB;AACD;AAEF;AA5Z4B;AAAA;AAAA,qCA8ZZ;;;;;;;;;;AACD,6BAAM,KAAKlF,eAAL,CAAqBwJ,MAArB,CAA4B;AAC9CpK,iCAAS,EAAE,yFADmC;AAE9CqK,gCAAQ,EAAE,WAFoC;AAG9CC,sCAAc,EAAE;AACd,kCAAQ,SADM,CAEd;;AAFc;AAH8B,uBAA5B,CAAN;;;AAARC,2B;AASNA,2BAAK,CAACC,YAAN,GAAqBC,IAArB,CAA0B,UAACC,YAAD,EAAkB;AAC1CjE,+BAAO,CAACC,GAAR,CAAYgE,YAAZ;;AAEA,4BAAIA,YAAY,CAACC,IAAjB,EAAuB;AACrB,gCAAI,CAACzI,QAAL,CAAc4F,MAAd,GAAuB4C,YAAY,CAACC,IAAb,CAAkBC,IAAzC;AACA,gCAAI,CAAC9I,KAAL,GAAa4I,YAAY,CAACC,IAAb,CAAkBE,KAA/B;AAED;AACF,uBARD;;AASO,6BAAMN,KAAK,CAACO,OAAN,EAAN;;;;;;;;;;;;AACR;AAlb4B;AAAA;AAAA,oCAobb;;;;;;;;;;AACA,6BAAM,KAAKlK,eAAL,CAAqBwJ,MAArB,CAA4B;AAC9CpK,iCAAS,EAAE,iFADmC;AAE9CqK,gCAAQ,EAAE,WAFoC;AAG9CC,sCAAc,EAAE,CACd;AADc;AAH8B,uBAA5B,CAAN;;;AAARC,2B;AASNA,2BAAK,CAACC,YAAN,GAAqBC,IAArB,CAA0B,UAACC,YAAD,EAAkB;AAC1C,4BAAIA,YAAY,CAACC,IAAjB,EAAuB;AACrB;AACA,gCAAI,CAACzI,QAAL,CAAcoF,OAAd,GAAwBoD,YAAY,CAACC,IAAb,CAAkBpD,KAA1C;AACA,gCAAI,CAACxF,GAAL,GAAW2I,YAAY,CAACC,IAAb,CAAkBtD,MAA7B;;AACA,gCAAI,CAACG,QAAL;AACD;AACF,uBAPD;;AAQO,6BAAM+C,KAAK,CAACO,OAAN,EAAN;;;;;;;;;;;;AACR;AAvc4B;AAAA;AAAA,sCAycX;;;;;;;;;;AAMF,6BAAM,KAAKlK,eAAL,CAAqBwJ,MAArB,CAA4B;AAC9CpK,iCAAS,EAAE,0FADmC;AAE9CqK,gCAAQ,EAAE,WAFoC;AAG9CC,sCAAc,EAAE;AACd;AACA,kCAAQ,SAFM;AAGd,uCAAa,KAAK5H,SAHJ;AAId,sCAAY,KAAKR,QAAL,CAAcG;AAJZ;AAH8B,uBAA5B,CAAN;;;AAARkI,2B;AAWNA,2BAAK,CAACC,YAAN,GAAqBC,IAArB,CAA0B,UAACC,YAAD,EAAkB;AAC1C,4BAAIA,YAAY,IAAIA,YAAY,CAACC,IAAjC,EAAuC;AACrC,gCAAI,CAACpI,kBAAL,GAA0B,EAA1B;;AADqC,qDAG5BwE,CAH4B;AAInC,gCAAIgE,UAAU,GAAG,MAAI,CAACrI,SAAL,CAAesI,IAAf,CAAoB,UAACC,CAAD;AAAA,qCAAYA,CAAC,CAACrC,IAAF,KAAW8B,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqB6B,IAA5C;AAAA,6BAApB,CAAjB;;AAEA,kCAAI,CAACrG,kBAAL,CAAwBmG,IAAxB,CAA6B;AAC3B,wCAAUqC,UAAU,CAACG,KADM;AAE3B,sCAAQR,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqB6B,IAFF;AAG3B,qCAAO8B,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqB8B,GAHD;AAI3B,wCAAU6B,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqBgC,MAArB,GAA8B,IAAIW,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+Bc,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqBgC,MAApD,EAA4DT,OAA5D,CAAoE,KAApE,EAA2E,GAA3E,CAA9B,GAAgH,GAJ/F;AAK3B,yCAAW,IAAIoB,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+Bc,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqB+B,OAApD,EAA6DR,OAA7D,CAAqE,KAArE,EAA4E,GAA5E,CALgB;AAM3B,mDAAqBoC,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqBsC,iBANf;AAO3B,6CAAeqB,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqBoC,WAPT;AAQ3B,0CAAYuB,YAAY,CAACC,IAAb,CAAkB5D,CAAlB,EAAqBuC;AARN,6BAA7B;AANmC;;AAGrC,+BAAK,IAAIvC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2D,YAAY,CAACC,IAAb,CAAkBvE,MAAtC,EAA8CW,CAAC,EAA/C,EAAmD;AAAA,kCAA1CA,CAA0C;AAalD;;AACD,gCAAI,CAAC7E,QAAL,CAAcG,WAAd,GAA4BqI,YAAY,CAACC,IAAzC;AACA,gCAAI,CAACrH,YAAL,GAAoB,MAAI,CAACf,kBAAL,CAAwB6D,MAA5C;;AACA,gCAAI,CAACqC,UAAL,CAAgB,MAAI,CAACvG,QAArB;AAED;AACF,uBAvBD;;AAwBO,6BAAMqI,KAAK,CAACO,OAAN,EAAN;;;;;;;;;;;;AACR;AAnf4B;AAAA;AAAA,4CAqfL;;;;;;;;;;AAClBK,4B,GAAS,E;;+CACJpE,C;AACPoE,8BAAM,CAACzC,IAAP,CAAY;AACV0C,8BAAI,EAAE,OAAI,CAAClH,YAAL,CAAkB6C,CAAlB,EAAqB/C,QADjB;AAEVqH,8BAAI,EAAE,cAFI;AAGVhB,kCAAQ,EAAE,OAAI,CAACnI,QAAL,CAAc4B,QAAd,IAA0B,OAAI,CAACI,YAAL,CAAkB6C,CAAlB,EAAqBjD,QAA/C,GAA0D,eAA1D,GAA4E,gBAH5E;AAIVwH,iCAAO,EAAE,mBAAM;AACb,mCAAI,CAACzH,WAAL,GAAmB,OAAI,CAACK,YAAL,CAAkB6C,CAAlB,EAAqB/C,QAAxC;AACA,mCAAI,CAAC9B,QAAL,CAAc4B,QAAd,GAAyB,OAAI,CAACI,YAAL,CAAkB6C,CAAlB,EAAqBjD,QAA9C;AACA,mCAAI,CAAC5B,QAAL,CAAc8D,IAAd,aAAwB,OAAI,CAACC,WAAL,CAAiB,OAAI,CAAC/B,YAAL,CAAkB6C,CAAlB,EAAqB/C,QAAtC,CAAxB,SAA0E,OAAI,CAAC9B,QAAL,CAAcN,SAAxF;AACA,mCAAI,CAACmB,SAAL,GAAiB,OAAI,CAACmB,YAAL,CAAkB6C,CAAlB,CAAjB;AAED;AAVS,yBAAZ;;;AADF,2BAASA,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAG,KAAK7C,YAAL,CAAkBkC,MAAtC,EAA8CW,CAAC,EAA/C,EAAmD;AAAA,+BAA1CA,CAA0C;AAalD;;;AACmB,6BAAM,KAAKrF,qBAAL,CAA2B0I,MAA3B,CAAkC;AAC1DC,gCAAQ,EAAE,oBADgD;AAE1DkB,+BAAO,EAAEJ;AAFiD,uBAAlC,CAAN;;;AAAdK,iC;;AAIN,6BAAMA,WAAW,CAACV,OAAZ,EAAN;;;;AAEiB,6BAAMU,WAAW,CAAChB,YAAZ,EAAN;;;;AAATiB,0B,yBAAAA,I;;;;;;;;;AACT;AA5gB4B;AAAA;AAAA,sCA8gBjBL,IA9gBiB,EA8gBX;AAChB,gBAAMM,KAAK,GAAGN,IAAI,CAACO,KAAL,CAAW,GAAX,CAAd;AACA,gBAAMC,QAAQ,GAAGF,KAAK,CAACG,GAAN,CAAU,UAAAC,IAAI;AAAA,qBAAIA,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAeC,WAAf,EAAJ;AAAA,aAAd,CAAjB;AACA,mBAAOJ,QAAQ,CAACK,IAAT,CAAc,EAAd,CAAP;AACD;AAlhB4B;AAAA;AAAA,uCAohBV;;;;;;;;;;;AAEG,6BAAM,KAAKvK,qBAAL,CAA2B0I,MAA3B,CAAkC;AAC1DC,gCAAQ,EAAE,oBADgD;AAE1DkB,+BAAO,EAAE,CACP;AACEH,8BAAI,EAAE,UADR;AAEEC,8BAAI,EAAE,cAFR;AAGEhB,kCAAQ,EAAE,KAAKzH,SAAL,IAAkB,UAAlB,GAA+B,eAA/B,GAAiD,gBAH7D;AAIE0I,iCAAO,EAAE,mBAAM;AACb,mCAAI,CAAC1I,SAAL,GAAiB,UAAjB;AACD;AANH,yBADO,EASP;AACEwI,8BAAI,EAAE,cADR;AAEEC,8BAAI,EAAE,cAFR;AAGEhB,kCAAQ,EAAE,KAAKzH,SAAL,IAAkB,cAAlB,GAAmC,eAAnC,GAAqD,gBAHjE;AAIE0I,iCAAO,EAAE,mBAAM;AACb,mCAAI,CAAC1I,SAAL,GAAiB,cAAjB;AAED;AAPH,yBATO;AAFiD,uBAAlC,CAAN;;;AAAd4I,iC;;AAsBN,6BAAMA,WAAW,CAACV,OAAZ,EAAN;;;;AAEiB,6BAAMU,WAAW,CAAChB,YAAZ,EAAN;;;;AAATiB,0B,0BAAAA,I;;;;;;;;;AACT;AA/iB4B;AAAA;AAAA,mCAijBpBtB,CAjjBoB,EAijBjB5B,IAjjBiB,EAijBXuB,KAjjBW,EAijBJ;AACvB,iBAAK5H,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCvB,IAAjC,IAAyC4B,CAAzC;;AACA,gBAAI5B,IAAI,IAAI,mBAAZ,EAAiC;AAC/B,mBAAKrG,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiC/B,SAAjC,GAA6C,KAAK7F,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCZ,SAAjC,GAA6C,KAAKhH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCT,iBAA9E,GAAkG,GAA/I;AACA,mBAAKa,WAAL,CAAiBJ,KAAjB;AACD;;AAED,gBAAIvB,IAAI,IAAI,aAAZ,EAA2B;AACzB,mBAAKrG,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCV,GAAjC,GAAuC,KAAKlH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCZ,SAAjC,GAA6C,KAAKhH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCX,WAA9E,GAA4F,GAAnI;AACA,mBAAKe,WAAL,CAAiBJ,KAAjB;AACD;AACF;AA5jB4B;AAAA;AAAA,sCA8jBjBA,KA9jBiB,EA8jBV;AACjB,iBAAK5H,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCR,QAAjC,GAA4C,KAAKpH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCZ,SAAjC,GAA6C,KAAKhH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCV,GAA9E,GAAoF,KAAKlH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiC/B,SAAjK;AACA,iBAAKxF,kBAAL,CAAwBuH,KAAxB,EAA+BR,QAA/B,GAA0C,KAAKpH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCR,QAA3E;AACA,iBAAKb,UAAL,CAAgB,KAAKvG,QAArB;AACD;AAlkB4B;AAAA;AAAA,uCAokBhBqG,IApkBgB,EAokBVuB,KApkBU,EAokBH;AAAA;;AACxB,iBAAK/I,YAAL,CAAkBmL,YAAlB,wEAAiE3D,IAAI,CAACkB,MAAtE,UAAkFgB,IAAlF,CAAuF,UAAA0B,GAAG,EAAI;AAC5F,kBAAIA,GAAG,IAAI,MAAX,EAAmB;AACjB;AACA,uBAAI,CAAC5J,kBAAL,CAAwB6J,MAAxB,CAA+BtC,KAA/B,EAAsC,CAAtC;;AACA,uBAAI,CAAC5H,QAAL,CAAcG,WAAd,CAA0B+J,MAA1B,CAAiCtC,KAAjC,EAAwC,CAAxC;;AACA,uBAAI,CAACrB,UAAL,CAAgB,OAAI,CAACvG,QAArB,EAJiB,CAKjB;;AAED;AACF,aATD;AAUD;AA/kB4B;AAAA;AAAA,sCAilBjB;AAEV,iBAAKD,MAAL,GAAc,KAAd;AAEA,iBAAKC,QAAL,GAAgB;AACd,wBAAU,EADI;AAEd,yBAAW,KAAKA,QAAL,CAAcoF,OAFX;AAGd,6BAAe,EAHD;AAId,0BAAY,KAAKpF,QAAL,CAAc4B,QAJZ;AAKd,2BAAa,CALC;AAMd,sBAAQ,EANM;AAOd,0BAAY,EAPE;AAQd,0BAAY,EARE;AASd,2BAAa,CATC;AAUd,2BAAa,CAVC;AAWd,6BAAe;AAXD,aAAhB;AAaA,iBAAK3B,WAAL,GAAmB,GAAnB;AACA,iBAAKC,WAAL,GAAmB,GAAnB;AACA,iBAAKN,KAAL,GAAa,EAAb;AACA,iBAAKI,QAAL,CAAcG,WAAd,GAA4B,EAA5B;AACA,iBAAKE,kBAAL,GAA0B,EAA1B;AACA,iBAAKgB,YAAL,GAAoB,CAApB;AACA,iBAAKC,WAAL,GAAmB,CAAnB;AACA,iBAAKE,MAAL,GAAc,CAAd;AACA,iBAAKC,YAAL,GAAoB,CAApB;AACA,iBAAKC,gBAAL,GAAwB,CAAxB;AACA,iBAAKH,eAAL,GAAuB,CAAvB,CA3BU,CA4BV;;AACA,iBAAKH,YAAL,GAAoB,CAApB;AACA,gBAAIyB,GAAG,GAAG,IAAIC,IAAJ,EAAV;AACA,gBAAIC,IAAI,GAAGF,GAAG,CAACG,WAAJ,EAAX;AACA,gBAAIC,KAAK,GAAGJ,GAAG,CAACK,QAAJ,EAAZ;AACA,gBAAIC,MAAM,GAAGN,GAAG,CAACO,UAAJ,EAAb;AACA,iBAAKpD,QAAL,CAAcL,WAAd,GAA4BoD,IAAI,CAACM,QAAL,EAA5B;AACA,iBAAKrD,QAAL,CAAcyD,QAAd,GAAyBZ,GAAG,CAACa,WAAJ,GAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,EAA3B,cAAoC,KAAKC,UAAL,CAAgBX,KAAhB,CAApC,cAA8D,KAAKW,UAAL,CAAgBT,MAAhB,CAA9D,QAAzB;AACA,iBAAK7B,WAAL,GAAmB,CAAnB;AAEA,iBAAKtB,QAAL,CAAcN,SAAd,GAA0B,IAAIoD,IAAJ,GAAWe,OAAX,EAA1B;AACA,iBAAK7D,QAAL,CAAc8D,IAAd,aAAwB,KAAKC,WAAL,CAAiB,KAAKlD,SAAL,CAAeiB,QAAhC,CAAxB,SAAoE,KAAK9B,QAAL,CAAcN,SAAlF;AACA,iBAAK4F,QAAL;AACD;AA1nB4B;AAAA;AAAA,oCA4nBboB,IA5nBa,EA4nBPC,GA5nBO,EA4nBFiB,KA5nBE,EA4nBK;;;;;;;;;AAChCvF,kCAAY,CAAC8H,OAAb,CAAqB,WAArB,EAAkC,GAAlC;;AACgB,6BAAM,KAAKhL,iBAAL,CAAuB+I,MAAvB,CAA8B;AAClDpK,iCAAS,EAAE,iFADuC;AAElDqK,gCAAQ,EAAE,iBAFwC;AAGlDC,sCAAc,EAAE;AACd,kCAAQ1B,IADM;AAEd,iCAAOC;AAFO,yBAHkC;AAOlDyD,mCAAW,EAAE;AAPqC,uBAA9B,CAAN;;;AAAVC,6B;;AAUN,6BAAMA,OAAO,CAACzB,OAAR,EAAN;;;AAEAyB,6BAAO,CAAC/B,YAAR,GAAuBC,IAAvB,CAA4B,UAACC,YAAD,EAAkB;AAC5C,4BAAIA,YAAY,CAACC,IAAjB,EAAuB;AACrB,iCAAI,CAACzI,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCjB,GAAjC,GAAuC6B,YAAY,CAACC,IAAb,CAAkB9B,GAAzD;AACA,iCAAI,CAAC3G,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCf,MAAjC,GAA0C2B,YAAY,CAACC,IAAb,CAAkB6B,MAA5D;AACA,iCAAI,CAACtK,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCd,QAAjC,GAA4C0B,YAAY,CAACC,IAAb,CAAkB3B,QAA9D;AACA,iCAAI,CAAC9G,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCb,QAAjC,GAA4CyB,YAAY,CAACC,IAAb,CAAkB1B,QAA9D;;AACA,iCAAI,CAACgB,QAAL,CAAcH,KAAd;;AAEA,iCAAI,CAACvH,kBAAL,CAAwBuH,KAAxB,EAA+Bf,MAA/B,GAAwC,IAAIW,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+Bc,YAAY,CAACC,IAAb,CAAkB6B,MAAjD,EAAyDlE,OAAzD,CAAiE,KAAjE,EAAwE,GAAxE,CAAxC;;AACA,iCAAI,CAAC4B,WAAL,CAAiBJ,KAAjB;AAED;AACF,uBAZD;;;;;;;;;AAaD;AAvpB4B;AAAA;AAAA,mCAypBpBA,KAzpBoB,EAypBb;AACd,iBAAK5H,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCZ,SAAjC,GAA6C,KAAKhH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiChB,OAAjC,GAA2C,KAAK5G,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCf,MAAzH;AACA,iBAAK7G,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiC/B,SAAjC,GAA6C,KAAK7F,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCZ,SAAjC,GAA6C,KAAKhH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCT,iBAA9E,GAAkG,GAA/I;AACA,iBAAKnH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCV,GAAjC,GAAuC,KAAKlH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCZ,SAAjC,GAA6C,KAAKhH,QAAL,CAAcG,WAAd,CAA0ByH,KAA1B,EAAiCX,WAA9E,GAA4F,GAAnI;AACD;AA7pB4B;AAAA;AAAA,0CAgqBb;AACd;AACA;AACA;AACA;AACA;AACA;AACA,iBAAKnH,WAAL,GAAmB,KAAKmB,YAAL,CAAkBiD,MAArC;AAED;AAzqB4B;AAAA;AAAA,yCA2qBR;;;;;;;;;;AACL,6BAAM,KAAKxF,eAAL,CAAqBwJ,MAArB,CAA4B;AAC9CpK,iCAAS,EAAE,kFADmC;AAE9CqK,gCAAQ,EAAE,WAFoC;AAG9CC,sCAAc,EAAE;AACd,sCAAY,KAAKxG,QADH;AAEd,oCAAU,KAAKf,SAAL,CAAekE;AAFX;AAH8B,uBAA5B,CAAN;;;AAARsD,2B;AAUNA,2BAAK,CAACC,YAAN,GAAqBC,IAArB,CAA0B,UAACC,YAAD,EAAkB;AAC1CjE,+BAAO,CAACC,GAAR,CAAYgE,YAAZ;AACA,+BAAI,CAACvH,YAAL,GAAoBkB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,kBAArB,KAA4C,IAAvD,CAApB;AACA,+BAAI,CAACxC,WAAL,GAAmB,OAAI,CAACmB,YAAL,CAAkBiD,MAArC;;AAEA,4BAAIsE,YAAY,CAACC,IAAjB,EAAuB;AACrB,iCAAI,CAACzI,QAAL,GAAgBwI,YAAY,CAACC,IAAb,CAAkBpC,IAAlC;AACA,iCAAI,CAACxG,GAAL,GAAW2I,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBkE,QAAlC;AACA,iCAAI,CAAC3K,KAAL,GAAa4I,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBmE,UAApC;AACA,iCAAI,CAACnK,kBAAL,GAA0B,EAA1B;;AACA,+BAAK,IAAIwE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2D,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC+D,MAAvD,EAA+DW,CAAC,EAAhE,EAAoE;AAElE,mCAAI,CAACxE,kBAAL,CAAwBmG,IAAxB,CAA6B;AAC3B,wCAAUgC,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsC0C,MADrB;AAE3B,sCAAQiB,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsC6B,IAFnB;AAG3B,qCAAO8B,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsC8B,GAHlB;AAI3B,wCAAU6B,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsCgC,MAAtC,GAA+C,IAAIW,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+Bc,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsCgC,MAArE,EAA6ET,OAA7E,CAAqF,KAArF,EAA4F,GAA5F,CAA/C,GAAkJ,GAJjI;AAK3B,yCAAW,IAAIoB,IAAI,CAACC,YAAT,GAAwBC,MAAxB,CAA+Bc,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsC+B,OAArE,EAA8ER,OAA9E,CAAsF,KAAtF,EAA6F,GAA7F,CALgB;AAM3B,mDAAqBoC,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsCsC,iBANhC;AAO3B,6CAAeqB,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsCoC,WAP1B;AAQ3B,0CAAYuB,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsCuC,QARvB;AAS3B,wCAAUoB,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsCwC,MATrB;AAU3B,yCAAWmB,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBlG,WAAvB,CAAmC0E,CAAnC,EAAsCyC;AAVtB,6BAA7B;AAYD;;AAGD,iCAAI,CAAClG,YAAL,GAAoB,OAAI,CAACf,kBAAL,CAAwB6D,MAA5C;AACA,iCAAI,CAACrC,cAAL,GAAsB2G,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuB3G,SAA7C;;AACA,iCAAI,CAAC6G,UAAL,CAAgB,OAAI,CAACvG,QAArB,EAxBqB,CA0BrB;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,8BAAI6C,GAAG,GAAG,IAAIC,IAAJ,EAAV;AACA,8BAAIC,IAAI,GAAGF,GAAG,CAACG,WAAJ,EAAX;AACA,8BAAIC,KAAK,GAAGJ,GAAG,CAACK,QAAJ,EAAZ;AACA,8BAAIC,MAAM,GAAGN,GAAG,CAACO,UAAJ,EAAb;AACA,iCAAI,CAACpD,QAAL,CAAcL,WAAd,GAA4BoD,IAAI,CAACM,QAAL,EAA5B;AACA,iCAAI,CAACrD,QAAL,CAAcyD,QAAd,GAAyBZ,GAAG,CAACa,WAAJ,GAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,EAA3B,cAAoC,OAAI,CAACC,UAAL,CAAgBX,KAAhB,CAApC,cAA8D,OAAI,CAACW,UAAL,CAAgBT,MAAhB,CAA9D,QAAzB;AACA,iCAAI,CAACnD,QAAL,CAAc6F,SAAd,GAA0B2C,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBR,SAAjD;AACA,iCAAI,CAAC7F,QAAL,CAAc8F,SAAd,GAA0B0C,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBP,SAAjD;AACA,iCAAI,CAAC7F,WAAL,GAAmB,OAAI,CAACf,YAAL,CAAkBgH,SAAlB,CAA4BC,MAAM,CAAC,OAAI,CAACnG,QAAL,CAAc6F,SAAf,CAAN,CAAgCO,OAAhC,CAAwC,KAAxC,EAA+C,EAA/C,EAAmDA,OAAnD,CAA2D,KAA3D,EAAkE,EAAlE,CAA5B,EAAmG,GAAnG,EAAwG,QAAxG,EAAkH,OAAlH,CAAnB;AACA,iCAAI,CAACpG,QAAL,CAAcN,SAAd,GAA0B8I,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuB3G,SAAjD;AACA,iCAAI,CAACM,QAAL,CAAc8D,IAAd,GAAqB0E,YAAY,CAACC,IAAb,CAAkBpC,IAAlB,CAAuBvC,IAA5C,CAnDqB,CAoDrB;AACA;AAED;AACF,uBA7DD;;AA8DO,6BAAMuE,KAAK,CAACO,OAAN,EAAN;;;;;;;;;;;;AACR;AArvB4B;AAAA;AAAA,0CAuvBb;AAAA;;AACd,iBAAK7I,MAAL,GAAc,IAAd;;AACA,gBAAI,CAAC,KAAKH,KAAV,EAAiB;AACf,mBAAKtB,YAAL,CAAkBmM,YAAlB,CAA+B,uBAA/B;AACA;AACD;;AACD,gBAAI,KAAKnJ,WAAL,IAAoB,CAAxB,EAA2B;AACzB;AACD;;AAED,iBAAK,IAAIuD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK7E,QAAL,CAAcG,WAAd,CAA0B+D,MAA9C,EAAsDW,CAAC,EAAvD,EAA2D;AACzD,mBAAK7E,QAAL,CAAcG,WAAd,CAA0B0E,CAA1B,EAA6BoB,IAA7B,GAAoC,KAAKvF,SAAL,IAAkB,UAAlB,GAA+B,IAA/B,GAAsC,IAA1E;AACD;;AAED,gBAAI,KAAK8C,IAAL,IAAac,SAAjB,EAA4B;AAC1B,mBAAK,IAAIO,EAAC,GAAG,CAAb,EAAgBA,EAAC,IAAI,KAAKH,YAAL,CAAkBR,MAAvC,EAA+CW,EAAC,EAAhD,EAAoD;AAClD,oBAAIwB,IAAI,GAAG,KAAK3B,YAAL,CAAkBG,EAAlB,CAAX;;AACA,oBAAIwB,IAAI,IAAI/B,SAAZ,EAAuB;AACrB,sBAAI+B,IAAI,CAACqE,MAAL,IAAe,KAAnB,EAA0B;AACxB,yBAAKlH,IAAL,GAAY6C,IAAI,CAAC7C,IAAjB;AACAe,2BAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB,KAAKhB,IAAxB;AACA,yBAAKxD,QAAL,CAAcwD,IAAd,GAAqB,KAAKA,IAA1B;AACD;AACF;AAEF;AACF;;AAED,gBAAI,KAAKzC,QAAL,IAAiB,QAArB,EAA+B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAKlC,YAAL,CAAkBmL,YAAlB,qEAAkEzB,IAAlE,CAAuE,UAAA0B,GAAG,EAAI;AAC5E,oBAAIA,GAAG,IAAI,MAAX,EAAmB;AACjB,yBAAI,CAACU,YAAL;AACD;AACF,eAJD,EAZ6B,CAiB7B;AACD,aAlBD,MAkBO;AACL,mBAAK9L,YAAL,CAAkBmL,YAAlB,sEAAiEzB,IAAjE,CAAsE,UAAA0B,GAAG,EAAI;AAC3E,oBAAIA,GAAG,IAAI,MAAX,EAAmB;AACjB,yBAAI,CAACW,YAAL;AACD;AACF,eAJD;AAKD;AAEF;AA7yB4B;AAAA;AAAA,yCA+yBd;AACb,iBAAK9L,aAAL,CAAmB+L,YAAnB,CAAgC,CAAC,WAAD,CAAhC,EAA+C;AAC7CtI,yBAAW,EAAE;AACX,4BAAY,KAAK1B,SAAL,CAAee,QADhB;AAEX,4BAAY,KAAKE;AAFN;AADgC,aAA/C;AAMD;AAtzB4B;AAAA;AAAA,yCAwzBd;AAAA;;AAEb,iBAAK/C,cAAL,CAAoB2G,QAApB,CAA6B,IAA7B;AACA,iBAAK9G,cAAL,CAAoBkM,cAApB,CAAmC,KAAK9K,QAAxC,EAAkDwC,SAAlD,CAA4D,UAACiC,QAAD,EAAmB;AAC7E,kBAAIA,QAAQ,CAACsG,IAAT,IAAiB,CAArB,EAAwB;AACtB,uBAAI,CAACzM,YAAL,CAAkB0M,YAAlB,CAA+BvG,QAAQ,CAACwG,OAAxC;;AACA,uBAAI,CAACC,SAAL;;AACA,uBAAI,CAACnM,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;;AACA,qBAAK,IAAIb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,OAAI,CAAC5D,YAAL,CAAkBiD,MAAtC,EAA8CW,CAAC,EAA/C,EAAmD;AACjD,sBAAI,OAAI,CAAC5D,YAAL,CAAkB4D,CAAlB,EAAqBnF,SAArB,IAAkC,OAAI,CAACmC,cAA3C,EAA2D;AACzD,2BAAI,CAACZ,YAAL,CAAkBiJ,MAAlB,CAAyBrF,CAAzB,EAA4B,CAA5B;;AACAxC,gCAAY,CAAC8H,OAAb,CAAqB,kBAArB,EAAyChI,IAAI,CAACgJ,SAAL,CAAe,OAAI,CAAClK,YAApB,CAAzC;;AACA,2BAAI,CAAC0B,aAAL;;AACA;AACD;AACF;AACF,eAZD,MAYO;AACL,uBAAI,CAACrE,YAAL,CAAkB8M,UAAlB,CAA6B3G,QAAQ,CAACwG,OAAtC;;AACA,uBAAI,CAAClM,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;AAED;AACF,aAlBD,EAkBG,UAACf,KAAD,EAAW;AACZ,qBAAI,CAAC5F,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;;AACAnB,qBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;AACD,aArBD;AAsBD;AAj1B4B;AAAA;AAAA,yCAo1Bd;AAAA;;AACb,iBAAK5F,cAAL,CAAoB2G,QAApB,CAA6B,IAA7B;AACA,iBAAK9G,cAAL,CAAoByM,cAApB,CAAmC,KAAKrL,QAAxC,EAAkDwC,SAAlD,CAA4D,UAACiC,QAAD,EAAmB;AAC7E,kBAAIA,QAAQ,CAACsG,IAAT,IAAiB,CAArB,EAAwB;AACtB,uBAAI,CAACzM,YAAL,CAAkB0M,YAAlB,CAA+BvG,QAAQ,CAACwG,OAAxC;;AACA,uBAAI,CAACrI,gBAAL;;AAEA,uBAAI,CAAC7D,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;AACD,eALD,MAKO;AACL,uBAAI,CAACpH,YAAL,CAAkB8M,UAAlB,CAA6B3G,QAAQ,CAACwG,OAAtC;;AACA,uBAAI,CAAClM,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;AACD,eAT4E,CAW7E;;AAED,aAbD,EAaG,UAACf,KAAD,EAAW;AACZ,qBAAI,CAAC5F,cAAL,CAAoB2G,QAApB,CAA6B,KAA7B;;AACAnB,qBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBG,KAArB;AACD,aAhBD;AAiBD;AAv2B4B;AAAA;AAAA,2CA02BZ;AACf,iBAAK3E,QAAL,CAAcuK,QAAd,GAAyB,KAAK1K,GAA9B;AACA,iBAAKG,QAAL,CAAcwK,UAAd,GAA2B,KAAK5K,KAAhC;AACA,iBAAKqB,YAAL,CAAkBuF,IAAlB,CAAuB,KAAKxG,QAA5B;AACAqC,wBAAY,CAAC8H,OAAb,CAAqB,kBAArB,EAAyChI,IAAI,CAACgJ,SAAL,CAAe,KAAKlK,YAApB,CAAzC;AACA,iBAAK0B,aAAL;AAEA,iBAAKuI,SAAL;AACA,iBAAK5M,YAAL,CAAkB0M,YAAlB,CAA+B,8BAA/B;AACD;AAn3B4B;AAAA;AAAA,qCAq3BlB;AACT,gBAAI,KAAKjJ,UAAL,IAAmB,MAAvB,EAA+B;AAC7B,mBAAKjD,aAAL,CAAmB+L,YAAnB,CAAgC,CAAC,WAAD,CAAhC;AACD,aAFD,MAEO;AACL,mBAAK/L,aAAL,CAAmB+L,YAAnB,CAAgC,CAAC,WAAD,CAAhC,EAA+C;AAC7CtI,2BAAW,EAAE;AACX,8BAAY,KAAKX,QADN;AAEX,8BAAY,KAAKE;AAFN;AADgC,eAA/C;AAMD;AAEF;AAj4B4B;;AAAA;AAAA,S;;;;gBAZtB;;gBALA;;gBALgB;;gBAE0D;;gBAAnD;;gBAcvB;;gBAHA;;gBANA;;gBALwC;;gBAOxC;;gBATA;;gBACc;;gBAHd;;gBAIuD;;gBAMvD;;gBATA;;gBAYA;;gBACA;;gBAVA;;;;AAoBIzD,wBAAkB,6DAL9B,gEAAU;AACTiN,gBAAQ,EAAE,qBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,wHAFS;;;;AAAA,OAAV,CAK8B,GAAlBlN,kBAAkB,CAAlB","file":"nhapkho-nhaphang-detail-nhaphang-detail-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-buttons (click)=\\\"openBack()\\\" slot=\\\"start\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"font-size: 25px;\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title style=\\\"font-weight: 600;\\\"\\r\\n      [style]=\\\"typePage == 'create' && LoaiCTByBill.length > 1 && sumTongTien > 0 ? 'text-align: left' : 'text-align: center'\\\">\\r\\n      {{convertHelper.typeChungTu(sendItem.LoaiCTID) }}\\r\\n\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-item (click)=\\\"handleBillWait()\\\" *ngIf=\\\"typePage == 'create' && sumTongTien > 0\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"duplicate-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item (click)=\\\"handleEdit()\\\" *ngIf=\\\"typePage == 'detail'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"create-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item (click)=\\\"handleDetail()\\\" *ngIf=\\\"typePage == 'edit'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n      <ion-item *ngIf=\\\"(typePage == 'create' || typePage == 'edit') && LoaiCTByBill.length > 1\\\"\\r\\n        (click)=\\\"openTypeChungTu()\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"funnel-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item (click)=\\\"backListBill()\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"menu-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <div class=\\\"synthetic\\\">\\r\\n\\r\\n    <div class=\\\"synthetic-item\\\" style=\\\"font-weight: 600; font-size: 16px; padding: 10px; border-top: 1px solid white;\\\">\\r\\n      <div class=\\\"synthetic-item-left\\\" style=\\\"display: flex; align-items: center; gap: 10px;\\\">\\r\\n        <ion-icon name=\\\"cloud-done-outline\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\r\\n        <span>{{kho}}</span>\\r\\n\\r\\n      </div>\\r\\n      <div *ngIf=\\\"typePage == 'create' || typePage == 'edit'\\\" (click)=\\\"openKho()\\\" class=\\\"synthetic-item-right\\\">\\r\\n        <ion-icon style=\\\"font-size: 24px;\\\" name=\\\"search-outline\\\"></ion-icon>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n  <div class=\\\"bill\\\">\\r\\n    <div class=\\\"bill-header \\\">\\r\\n      <ion-icon name=\\\"person-circle-outline\\\"></ion-icon>\\r\\n      Đơn vị\\r\\n      <ion-icon *ngIf=\\\"typePage == 'create' || typePage == 'edit'\\\" (click)=\\\"openUnit()\\\" class=\\\"bill-header-right\\\"\\r\\n        name=\\\"chevron-forward-outline\\\"></ion-icon>\\r\\n\\r\\n    </div>\\r\\n    <div *ngIf=\\\"donvi\\\" class=\\\"bill-item\\\">\\r\\n      {{donvi}}\\r\\n    </div>\\r\\n\\r\\n    <div *ngIf=\\\"submit && !donvi\\\" class=\\\"bill-item text-err\\\">\\r\\n      Trường bắt buộc nhập\\r\\n\\r\\n    </div>\\r\\n    <div class=\\\"bill-header \\\">\\r\\n      <ion-icon name=\\\"menu-outline\\\"></ion-icon>\\r\\n      Hàng hóa\\r\\n\\r\\n      <ion-icon *ngIf=\\\"typePage == 'create' || typePage == 'edit'\\\" (click)=\\\"openVattu()\\\" class=\\\"bill-header-right\\\"\\r\\n        name=\\\"chevron-forward-outline\\\"></ion-icon>\\r\\n    </div>\\r\\n\\r\\n    <div>\\r\\n      <div *ngFor=\\\"let item of displayChiTietHang; index as i\\\" class=\\\"bill-content\\\"\\r\\n        [style.border-bottom]=\\\"i+1 == countProduct ? 'none' : '1px dashed var(--gray-light3)'\\\">\\r\\n        <div class=\\\"bill-content-header\\\">\\r\\n          <p>{{i+1}}. {{item._TenVT}} ({{item.MaVT}})</p>\\r\\n\\r\\n          <!-- <ion-icon (click)=\\\"handleRemove(item, i)\\\" name=\\\"trash-outline\\\"></ion-icon> -->\\r\\n          <ion-icon (click)=\\\"handleRemove(item, i)\\\" class=\\\"bill-content-right\\\" name=\\\"trash-outline\\\"></ion-icon>\\r\\n\\r\\n        </div>\\r\\n        <table>\\r\\n\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div class=\\\"flex-item\\\">\\r\\n\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  ĐVT:\\r\\n                </div>\\r\\n                <div class=\\\"bill-select-form\\\">\\r\\n                  <div (click)=\\\"handleDVT(sendItem.ChiTietHang[i].MaVT, sendItem.ChiTietHang[i].DVT, i)\\\">\\r\\n                    {{sendItem.ChiTietHang[i].DVT}}</div>\\r\\n                  <ion-icon name=\\\"chevron-down-outline\\\"></ion-icon>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  Giá:\\r\\n                </div>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.DonGia\\\" (ngModelChange)=\\\"formatInput('DonGia', i)\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">SL:\\r\\n                </div>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.SoLuong\\\" (ngModelChange)=\\\"formatInput('SoLuong', i)\\\">\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">VAT:\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.VAT_Percent\\\" (ngModelChange)=\\\"setInput($event,'VAT_Percent', i)\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  C.K:\\r\\n                </div>\\r\\n\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.ChietKhau_Percent\\\"\\r\\n                  (ngModelChange)=\\\"setInput($event,'ChietKhau_Percent', i)\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  Lô:\\r\\n                </div>\\r\\n                <input style=\\\"text-align: left;\\\" type=\\\"text\\\" [(ngModel)]=\\\"sendItem.ChiTietHang[i].LoHang\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div style=\\\"display: flex; align-items: center; gap: 4px;\\\">\\r\\n                <div class=\\\"title-width\\\">H.D:\\r\\n                </div>\\r\\n                <!-- <span class=\\\"input-disable\\\" style=\\\"font-weight: 400;\\\">{{sendItem.ChiTietHang[i].HanDung}}</span> -->\\r\\n                <input style=\\\"text-align: left;\\\" type=\\\"date\\\" [(ngModel)]=\\\"sendItem.ChiTietHang[i].HanDung\\\">\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div style=\\\"display: flex; align-items: center; gap: 4px;\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  Tiền:\\r\\n                </div>\\r\\n                <span class=\\\"input-disable\\\">{{item.TongTien | number}} </span>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n\\r\\n\\r\\n        </table>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <div class=\\\"bill-header \\\">\\r\\n      <ion-icon name=\\\"reader-outline\\\"></ion-icon>\\r\\n      Thông tin thanh toán\\r\\n    </div>\\r\\n    <div class=\\\"bill-table\\\">\\r\\n      <table>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">T.Thành tiền</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumThanhTien | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">T.VAT</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumVAT | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">Chiết khấu HĐ</td>\\r\\n          <td class=\\\"text-right font-bold p-0\\\">\\r\\n            <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ChietKhau | number}} </div>\\r\\n            <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n              <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ChietKhauHD\\\"\\r\\n                (ngModelChange)=\\\"formatInputBill('ChietKhau', $event)\\\">\\r\\n\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">T.Chiết khấu</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumChietKhau | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">Đã thanh toán</td>\\r\\n          <td class=\\\"text-right font-bold p-0\\\">\\r\\n            <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ThanhToan | number}} </div>\\r\\n            <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n              <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ThanhToanHD\\\"\\r\\n                (ngModelChange)=\\\"formatInputBill('ThanhToan', $event)\\\">\\r\\n\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr style=\\\"border-bottom: none !important;\\\">\\r\\n          <td class=\\\"bill-table-left\\\">T.Tiền</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumTongTien | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">HTTT</td>\\r\\n          <td class=\\\"text-right\\\">\\r\\n            <div style=\\\"display: flex; float: right;font-weight: bold;color: #000;\\\">\\r\\n              <ion-select interface=\\\"action-sheet\\\" placeholder=\\\"Chọn tài khoản\\\" (ionChange)=\\\"onSoTKChange($event)\\\"\\r\\n                [(ngModel)]=\\\"SoTK\\\">\\r\\n                <ion-select-option *ngFor=\\\"let item of listTaiKhoan\\\" value=\\\"{{item.SoTK}}\\\">\\r\\n                  {{item.TenTK}}\\r\\n                </ion-select-option>\\r\\n              </ion-select>\\r\\n            </div>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  <!-- <div class=\\\"bill\\\">\\r\\n    <div class=\\\"bill-product\\\">\\r\\n      <div class=\\\"bill-header bill-header-p13\\\">\\r\\n        <div class=\\\"bill-header-left\\\">\\r\\n          THÔNG TIN HÓA ĐƠN\\r\\n          <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-table\\\">\\r\\n        <table>\\r\\n      \\r\\n          <tr *ngIf=\\\"typePage != 'create'\\\">\\r\\n            <td class=\\\"bill-table-left\\\">Số chứng từ</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div>\\r\\n                {{itemDetail.SoCT}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Loại CT</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n                <div style=\\\"display: flex; float: right;\\\">\\r\\n                  <div *ngIf=\\\"typePage == 'detail'\\\"> {{convertHelper.typeChungTu(sendItem.LoaiCTID) }} </div>\\r\\n                  <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"openTypeChungTu()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                    {{convertHelper.typeChungTu(sendItem.LoaiCTID) }}\\r\\n                  </div>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Đơn vị</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n                <div style=\\\"display: flex; float: right;\\\">\\r\\n                  <div *ngIf=\\\"typePage == 'detail'\\\"> {{donvi}} </div>\\r\\n                  <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"openUnit()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                    {{donvi}}\\r\\n                    <ion-icon *ngIf=\\\"!donvi\\\" name=\\\"pencil-outline\\\"></ion-icon>\\r\\n\\r\\n                  </div>\\r\\n\\r\\n              </div>\\r\\n\\r\\n\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr *ngIf=\\\"submit && !donvi\\\" style=\\\"border-top: none;\\\">\\r\\n            <td class=\\\"bill-table-left\\\" style=\\\"padding: 0 10px;\\\"></td>\\r\\n            <td class=\\\"text-right\\\" style=\\\"padding: 0 10px;\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div style=\\\"color: red;\\\">\\r\\n                  Trường bắt buộc nhập  \\r\\n\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Kho hàng</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div *ngIf=\\\"typePage == 'detail'\\\"> {{kho}} </div>\\r\\n                <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"openKho()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                  {{kho}}\\r\\n                  <ion-icon *ngIf=\\\"!kho\\\" name=\\\"pencil-outline\\\"></ion-icon>\\r\\n\\r\\n                </div>\\r\\n\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr *ngIf=\\\"typePage != 'create'\\\">\\r\\n            <td class=\\\"bill-table-left\\\">Thời gian</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div>\\r\\n                {{itemDetail.ThoiDiem | date:'dd/MM/yyyy HH:mm'}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n\\r\\n      \\r\\n\\r\\n      <div class=\\\"bill-header\\\" style=\\\"display: flex; align-items: center;\\\">\\r\\n        <div>\\r\\n          CHI TIẾT HÓA ĐƠN ({{countProduct}})\\r\\n        </div>\\r\\n        <ion-icon (click)=\\\"openVattu()\\\" *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" name=\\\"add-outline\\\"\\r\\n          style=\\\"margin-left: auto; font-size: 24px;  color: #2990f7;\\\"></ion-icon>\\r\\n\\r\\n      </div>\\r\\n      <div *ngIf=\\\"typePage == 'detail'\\\">\\r\\n\\r\\n        <div *ngFor=\\\"let item of itemDetail.ChiTietHang; index as i\\\" class=\\\"bill-item\\\">\\r\\n\\r\\n          <div class=\\\"bill-item-title\\\">\\r\\n            <p>{{i+1}}. {{item._TenVT}} - {{item.MaVT}}</p>\\r\\n          </div>\\r\\n          <table class=\\\"bill-table-content\\\">\\r\\n            <tr>\\r\\n              <td class=\\\"pr-20\\\">\\r\\n                <div>\\r\\n                  <span>ĐVT: </span> {{item.DVT}}\\r\\n                </div>\\r\\n\\r\\n              </td>\\r\\n              <td>\\r\\n                <span>Giá: </span>\\r\\n                {{item.DonGia | number}}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>SL: </span>\\r\\n                {{item.SoLuong | number}}\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td class=\\\" pr-20\\\">\\r\\n                <span>C.K: </span>\\r\\n                {{item.ChietKhau_Percent}}\\r\\n              </td>\\r\\n              <td>\\r\\n                <span>VAT(%): </span>\\r\\n                {{item.VAT_Percent}}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\" style=\\\"font-weight: 600;\\\">\\r\\n                <span style=\\\"font-weight: 400;\\\">T.Tiền: </span>\\r\\n                {{item.TongTien | number}}\\r\\n              </td>\\r\\n\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td class=\\\" pr-20\\\">\\r\\n                <span>Lô hàng: </span>\\r\\n                {{item.LoHang}}\\r\\n              </td>\\r\\n              <td colspan=\\\"2\\\">\\r\\n                <span>Hạn dùng: </span>\\r\\n                {{item.HanDung | date:'dd/MM/yyyy'}}\\r\\n              </td>\\r\\n\\r\\n\\r\\n            </tr>\\r\\n          </table>\\r\\n\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"typePage != 'detail'\\\">\\r\\n\\r\\n        <div *ngFor=\\\"let item of displayChiTietHang; index as i\\\" class=\\\"bill-item\\\">\\r\\n\\r\\n          <div class=\\\"bill-item-title\\\">\\r\\n            <p>{{i+1}}. {{item._TenVT}} - {{item.MaVT}}</p>\\r\\n            <ion-icon (click)=\\\"handleRemove(item, i)\\\" name=\\\"trash-outline\\\"></ion-icon>\\r\\n\\r\\n          </div>\\r\\n        \\r\\n          <table>\\r\\n\\r\\n            <tr>\\r\\n              <td class=\\\"bill-select\\\">\\r\\n                <span>ĐVT:&nbsp;</span>\\r\\n                <div class=\\\"bill-select-form\\\">\\r\\n                  <div (click)=\\\"handleDVT(sendItem.ChiTietHang[i].MaVT, sendItem.ChiTietHang[i].DVT, i)\\\">\\r\\n                    {{sendItem.ChiTietHang[i].DVT}}</div>\\r\\n                  <ion-icon name=\\\"chevron-down-outline\\\"></ion-icon>\\r\\n                </div>\\r\\n\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>Đơn giá: </span>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.DonGia\\\" (ngModelChange)=\\\"formatInput('DonGia', i)\\\">\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>\\r\\n                <span>SL:&nbsp;&nbsp;&nbsp; </span>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.SoLuong\\\" (ngModelChange)=\\\"formatInput('SoLuong', i)\\\">\\r\\n              </td>\\r\\n\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>VAT: </span>\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.VAT_Percent\\\" (ngModelChange)=\\\"setInput($event,'VAT_Percent', i)\\\">\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>\\r\\n                <span>C.K: &nbsp;</span>\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.ChietKhau_Percent\\\"\\r\\n                  (ngModelChange)=\\\"setInput($event,'ChietKhau_Percent', i)\\\">\\r\\n              </td>\\r\\n\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>Lô hàng: </span>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"sendItem.ChiTietHang[i].LoHang\\\">\\r\\n              </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n              <td>\\r\\n                <span>H.D: &nbsp;</span>\\r\\n                <input type=\\\"date\\\" [(ngModel)]=\\\"sendItem.ChiTietHang[i].HanDung\\\">\\r\\n              </td>\\r\\n\\r\\n              <td class=\\\"text-center\\\" style=\\\"display: flex; float: right; padding-top: 5px;\\\">\\r\\n                <span>Tổng tiền:&nbsp;</span>\\r\\n                <div style=\\\"width: 100px; font-weight: 600;\\\">\\r\\n                  {{item.TongTien | number}}\\r\\n\\r\\n                </div>\\r\\n              </td>\\r\\n            </tr>\\r\\n\\r\\n\\r\\n          </table>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <div class=\\\"bill-header bill-header-p13\\\">\\r\\n        <div class=\\\"bill-header-left\\\">\\r\\n          THÔNG TIN THANH TOÁN\\r\\n          <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-table\\\">\\r\\n        <table>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Thành tiền</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumThanhTien | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.VAT</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumVAT | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Chiết khấu HĐ</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ChietKhau | number}} </div>\\r\\n              <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n                <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ChietKhauHD\\\" (ngModelChange)=\\\"formatInputBill('ChietKhau', $event)\\\">\\r\\n\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Chiết khấu</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumChietKhau | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Đã thanh toán</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ThanhToan | number}} </div>\\r\\n              <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n                <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ThanhToanHD\\\" (ngModelChange)=\\\"formatInputBill('ThanhToan', $event)\\\">\\r\\n\\r\\n              </div>\\r\\n            </td>\\r\\n\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Tiền</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumTongTien | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">HTTT</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n\\r\\n                <div *ngIf=\\\"typePage == 'detail'\\\"> {{HTTT_name}} </div>\\r\\n                <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"handleHTTT()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                  {{HTTT_name}}\\r\\n\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div> -->\\r\\n</ion-content>\\r\\n<ion-footer *ngIf=\\\"typePage != 'detail'\\\">\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <div class=\\\"bill-footer\\\">\\r\\n      <table>\\r\\n\\r\\n        <tr>\\r\\n          <td class=\\\"bill-bold\\\" style=\\\"font-weight: 600;\\\">T.Tiền cần trả</td>\\r\\n          <td class=\\\"text-right\\\" style=\\\"font-weight: 600;\\\">{{sumTongTien | number}}</td>\\r\\n        </tr>\\r\\n      </table>\\r\\n\\r\\n\\r\\n\\r\\n      <div class=\\\"bill-btn\\\">\\r\\n\\r\\n        <div class=\\\"bill-btn-left\\\">\\r\\n          <div *ngIf=\\\"typePage == 'create' && sumBillWait > 0\\\" (click)=\\\"openBillWait()\\\" class=\\\"bill-btn-relative\\\">\\r\\n            <ion-icon name=\\\"receipt-outline\\\"></ion-icon>\\r\\n            <div>{{sumBillWait}}</div>\\r\\n          </div>\\r\\n          <button [class.w-full]=\\\"(typePage == 'create' && sumBillWait == 0) || typePage == 'edit'\\\"\\r\\n            [class.bg-gray-dark]=\\\"sumTongTien == 0\\\" (click)=\\\"confirmSubmit()\\\">LƯU HÓA ĐƠN</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-footer>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NhaphangDetailPage } from './nhaphang-detail.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NhaphangDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NhaphangDetailPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NhaphangDetailPageRoutingModule } from './nhaphang-detail-routing.module';\r\n\r\nimport { NhaphangDetailPage } from './nhaphang-detail.page';\r\nimport { DVTComponent } from 'src/app/donvitinh/dvt/dvt.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    NhaphangDetailPageRoutingModule\r\n  ],\r\n  declarations: [NhaphangDetailPage, DVTComponent]\r\n})\r\nexport class NhaphangDetailPageModule {}\r\n","export default \".bill-header {\\n  padding: 10px 0 10px 10px;\\n  font-weight: 600;\\n  font-size: 16px;\\n  display: flex;\\n  align-items: center;\\n  background: #F1F3F4;\\n  border-bottom: 4px solid white;\\n}\\n.bill-header-right {\\n  margin-left: auto;\\n}\\n.bill-header ion-icon {\\n  font-size: 24px;\\n  margin-right: 8px;\\n}\\n.bill-item {\\n  padding: 10px;\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-item-right {\\n  margin-left: auto;\\n}\\n.bill-content {\\n  padding: 10px;\\n  border-bottom: 1px dashed var(--gray-light3);\\n}\\n.bill-content-header {\\n  display: flex;\\n  margin-bottom: 10px;\\n}\\n.bill-content-header div {\\n  font-weight: 600;\\n}\\n.bill-content ion-icon {\\n  font-size: 22px;\\n  color: red;\\n  margin-left: auto;\\n}\\n.bill-select {\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-select-form {\\n  position: relative;\\n  width: 100% !important;\\n}\\n.bill-select-form div {\\n  border: 1px solid #afafaf;\\n  background: #F5F5F5;\\n  border-radius: 5px;\\n  padding: 6px 10px;\\n}\\n.bill-select-form ion-icon {\\n  position: absolute;\\n  top: 8px;\\n  right: 2px;\\n  color: gray;\\n  font-size: 20px;\\n}\\n.bill-table {\\n  padding: 0 10px;\\n}\\n.bill-table tr {\\n  border-bottom: 1px dashed var(--gray-light3);\\n}\\n.bill-table td {\\n  padding: 10px 0;\\n}\\n.bill-table ion-icon {\\n  float: right;\\n  color: var(--primary-color);\\n  font-size: 18px;\\n  width: 30px;\\n}\\n.bill-table-content ion-icon {\\n  font-size: 24px;\\n  color: var(--primary-color);\\n}\\n.bill-table-left {\\n  font-weight: 500;\\n  width: 150px;\\n}\\n.bill-footer {\\n  padding: 6px;\\n}\\n.bill-footer button {\\n  color: white;\\n  background: var(--background-color);\\n  width: calc(100% - 60px);\\n  padding: 12px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  border-radius: 5px;\\n  margin-left: auto;\\n}\\n.bill-btn-left {\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-btn-relative {\\n  position: absolute;\\n  width: 50px;\\n  height: 40px;\\n  background: #616161;\\n  /* height: 100%; */\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 5px;\\n  color: white;\\n}\\n.bill-btn-relative ion-icon {\\n  font-size: 18px;\\n}\\n.bill-btn-relative div {\\n  border-radius: 100vw;\\n  position: absolute;\\n  top: -4px;\\n  right: -7px;\\n  width: 20px;\\n  height: 20px;\\n  background: var(--background-color);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid white;\\n  font-size: 10px;\\n}\\ntable {\\n  width: 100%;\\n  table-layout: fixed;\\n}\\ntd {\\n  padding-bottom: 10px;\\n}\\ntd i {\\n  font-size: 18px;\\n}\\n.pr-20 {\\n  padding-right: 20px;\\n}\\n.pr-44 {\\n  padding-right: 44px !important;\\n}\\n.pr-15 {\\n  padding-right: 15px !important;\\n}\\n.pb-0 {\\n  padding-bottom: 0 !important;\\n}\\ninput[type=text],\\ninput[type=number],\\ninput[type=date] {\\n  width: 100%;\\n  border: 1px solid #afafaf;\\n  text-align: right;\\n  background: #F5F5F5;\\n  border-radius: 5px;\\n  padding: 6px 10px;\\n}\\n.input-disable {\\n  color: black !important;\\n  display: inline-block;\\n  text-align: right;\\n  width: 100%;\\n  border: 1px solid #b5b5b5;\\n  background: #e7e7e7;\\n  border-radius: 5px;\\n  padding: 6px 10px;\\n  min-height: 30px;\\n}\\n.input-no-border {\\n  text-align: right !important;\\n  border: none !important;\\n  padding: 6px 0px !important;\\n}\\nion-toggle {\\n  height: 26px;\\n  --handle-width: calc(28px - (2px * 2));\\n  --ion-color-base: var(--primary-color) !important;\\n}\\nion-footer {\\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\\n}\\np {\\n  margin-top: 0 !important;\\n  margin-bottom: 10px !important;\\n  font-weight: 600;\\n}\\ninput[type=checkbox] {\\n  zoom: 1.3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmhhcGtoby9uaGFwaGFuZy1kZXRhaWwvbmhhcGhhbmctZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHSTtFQUNJLHlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtBQUZSO0FBR1E7RUFDSSxpQkFBQTtBQURaO0FBSVE7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7QUFGWjtBQU1JO0VBQ0ksYUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQUpSO0FBTVE7RUFDSSxpQkFBQTtBQUpaO0FBUUk7RUFDSSxhQUFBO0VBQ0EsNENBQUE7QUFOUjtBQVFRO0VBQ0ksYUFBQTtFQUVBLG1CQUFBO0FBUFo7QUFTWTtFQUNJLGdCQUFBO0FBUGhCO0FBV1E7RUFDSSxlQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0FBVFo7QUFhSTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtBQVhSO0FBYVE7RUFDSSxrQkFBQTtFQUNBLHNCQUFBO0FBWFo7QUFhWTtFQUlJLHlCQUFBO0VBRUEsbUJBQUE7RUFHQSxrQkFBQTtFQUNBLGlCQUFBO0FBakJoQjtBQW9CWTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQWxCaEI7QUF1Qkk7RUFDSSxlQUFBO0FBckJSO0FBdUJRO0VBQ0ksNENBQUE7QUFyQlo7QUF3QlE7RUFDSSxlQUFBO0FBdEJaO0FBMEJRO0VBQ0ksWUFBQTtFQUNBLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUF4Qlo7QUE0Qlk7RUFDSSxlQUFBO0VBQ0EsMkJBQUE7QUExQmhCO0FBOEJRO0VBQ0ksZ0JBQUE7RUFDQSxZQUFBO0FBNUJaO0FBaUNJO0VBQ0ksWUFBQTtBQS9CUjtBQWlDUTtFQUNJLFlBQUE7RUFDQSxtQ0FBQTtFQUNBLHdCQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUEvQlo7QUFxQ1E7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUFuQ1o7QUFzQ1E7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBcENaO0FBc0NZO0VBQ0ksZUFBQTtBQXBDaEI7QUF1Q1k7RUFDSSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSx1QkFBQTtFQUNBLGVBQUE7QUFyQ2hCO0FBNENBO0VBQ0ksV0FBQTtFQUNBLG1CQUFBO0FBekNKO0FBNENBO0VBQ0ksb0JBQUE7QUF6Q0o7QUErQ0k7RUFDSSxlQUFBO0FBN0NSO0FBaURBO0VBQ0ksbUJBQUE7QUE5Q0o7QUFpREE7RUFDSSw4QkFBQTtBQTlDSjtBQWlEQTtFQUNJLDhCQUFBO0FBOUNKO0FBaURBO0VBQ0ksNEJBQUE7QUE5Q0o7QUFpREE7OztFQU9JLFdBQUE7RUFDQSx5QkFBQTtFQUVBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBbkRKO0FBdURBO0VBQ0ksdUJBQUE7RUFDQSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUFwREo7QUF1REE7RUFDSSw0QkFBQTtFQUNBLHVCQUFBO0VBQ0EsMkJBQUE7QUFwREo7QUF1REE7RUFDSSxZQUFBO0VBQ0Esc0NBQUE7RUFDQSxpREFBQTtBQXBESjtBQXVEQTtFQUNJLHFGQUFBO0FBcERKO0FBd0RBO0VBQ0ksd0JBQUE7RUFDQSw4QkFBQTtFQUNBLGdCQUFBO0FBckRKO0FBeURBO0VBQ0ksU0FBQTtBQXRESiIsImZpbGUiOiJzcmMvYXBwL25oYXBraG8vbmhhcGhhbmctZGV0YWlsL25oYXBoYW5nLWRldGFpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmlsbCB7XHJcbiAgICAvLyBiYWNrZ3JvdW5kOiAjRjFGM0Y0O1xyXG5cclxuICAgICYtaGVhZGVyIHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4IDAgMTBweCAxMHB4O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjRjFGM0Y0O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCB3aGl0ZTtcclxuICAgICAgICAmLXJpZ2h0IHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYtaXRlbSB7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgICAgICYtcmlnaHQge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1jb250ZW50IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgdmFyKC0tZ3JheS1saWdodDMpO1xyXG5cclxuICAgICAgICAmLWhlYWRlciB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIC8vIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcblxyXG4gICAgICAgICAgICBkaXYge1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmLXNlbGVjdCB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgICAgICAmLWZvcm0ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcblxyXG4gICAgICAgICAgICBkaXYge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNhZmFmYWY7XHJcbiAgICAgICAgICAgICAgICAvLyB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRjVGNUY1O1xyXG4gICAgICAgICAgICAgICAgLy8gdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZDogI2NhZWVmZjtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxMHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDhweDtcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAycHg7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogZ3JheTtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmLXRhYmxlIHtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcblxyXG4gICAgICAgIHRyIHtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCB2YXIoLS1ncmF5LWxpZ2h0Myk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0ZCB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMDtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi1jb250ZW50IHtcclxuICAgICAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLWxlZnQge1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgICAgICB3aWR0aDogMTUwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICYtZm9vdGVyIHtcclxuICAgICAgICBwYWRkaW5nOiA2cHg7XHJcblxyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbiAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2MHB4KTtcclxuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1idG4ge1xyXG4gICAgICAgICYtbGVmdCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLXJlbGF0aXZlIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjE2MTYxO1xyXG4gICAgICAgICAgICAvKiBoZWlnaHQ6IDEwMCU7ICovXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuXHJcbiAgICAgICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGl2IHtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMHZ3O1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgdG9wOiAtNHB4O1xyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IC03cHg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjBweDtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgICAgIFxyXG59XHJcblxyXG50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XHJcbn1cclxuXHJcbnRkIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG5cclxuICAgIC8vIHNwYW4ge1xyXG4gICAgLy8gICAgIGNvbG9yOiBncmF5O1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGkge1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIH1cclxufVxyXG5cclxuLnByLTIwIHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5wci00NCB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiA0NHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5wci0xNSB7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5wYi0wIHtcclxuICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG5pbnB1dFt0eXBlPVwibnVtYmVyXCJdLFxyXG5pbnB1dFt0eXBlPVwiZGF0ZVwiXSB7XHJcbiAgICAvLyB3aWR0aDogMTAwcHg7XHJcbiAgICAvLyBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuICAgIC8vIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuICAgIC8vIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2FmYWZhZjtcclxuICAgIC8vIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgYmFja2dyb3VuZDogI0Y1RjVGNTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDZweCAxMHB4O1xyXG59XHJcblxyXG5cclxuLmlucHV0LWRpc2FibGUge1xyXG4gICAgY29sb3I6IGJsYWNrICFpbXBvcnRhbnQ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2I1YjViNTtcclxuICAgIGJhY2tncm91bmQ6ICNlN2U3ZTc7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBwYWRkaW5nOiA2cHggMTBweDtcclxuICAgIG1pbi1oZWlnaHQ6IDMwcHg7XHJcbn1cclxuXHJcbi5pbnB1dC1uby1ib3JkZXIge1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcclxuICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZzogNnB4IDBweCAhaW1wb3J0YW50OyBcclxufVxyXG5cclxuaW9uLXRvZ2dsZSB7XHJcbiAgICBoZWlnaHQ6IDI2cHg7XHJcbiAgICAtLWhhbmRsZS13aWR0aDogY2FsYygyOHB4IC0gKDJweCAqIDIpKTtcclxuICAgIC0taW9uLWNvbG9yLWJhc2U6IHZhcigtLXByaW1hcnktY29sb3IpICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbmlvbi1mb290ZXIge1xyXG4gICAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjA1KSAwcHggNnB4IDI0cHggMHB4LCByZ2JhKDAsIDAsIDAsIDAuMDgpIDBweCAwcHggMHB4IDFweDtcclxuICAgIC8vIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZDlkNWQ1O1xyXG59XHJcblxyXG5wIHtcclxuICAgIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcblxyXG5pbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0ge1xyXG4gICAgem9vbTogMS4zO1xyXG59XHJcblxyXG5cclxuLy8gLmJpbGwge1xyXG5cclxuLy8gICAgICYtaGVhZGVyIHtcclxuLy8gICAgICAgICBiYWNrZ3JvdW5kOiAjZTllOWU5O1xyXG4vLyAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbi8vICAgICAgICAgZGlzcGxheTogZmxleDtcclxuLy8gICAgICAgICBnYXA6IDhweDtcclxuLy8gICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4vLyAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcclxuLy8gICAgICAgICBjb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcblxyXG4vLyAgICAgICAgICYtcDEzIHtcclxuLy8gICAgICAgICAgICAgcGFkZGluZzogMTBweDtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICYtbGVmdCB7XHJcbi8vICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbi8vICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbi8vICAgICAgICAgICAgIGdhcDogNXB4O1xyXG5cclxuLy8gICAgICAgICAgICAgaW9uLWljb24ge1xyXG4vLyAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgICYtaXRlbSB7XHJcbi8vICAgICAgICAgcGFkZGluZzogMTBweDtcclxuLy8gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Q3ZDdkNztcclxuXHJcbi8vICAgICAgICAgJi10aXRsZSB7XHJcbi8vICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbi8vICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbi8vICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEycHggIWltcG9ydGFudDtcclxuXHJcbi8vICAgICAgICAgICAgIHAge1xyXG4vLyAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4vLyAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuLy8gICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgaW9uLWljb24ge1xyXG4vLyAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbi8vICAgICAgICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XHJcbi8vICAgICAgICAgICAgICAgICBjb2xvcjogI2RkMDAwMDtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAmLXRhYmxlIHtcclxuLy8gICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcblxyXG4vLyAgICAgICAgIHRyIHtcclxuLy8gICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkN2Q3ZDc7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB0ZCB7XHJcbi8vICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMDtcclxuXHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICBpb24taWNvbiB7XHJcbi8vICAgICAgICAgICAgIGZsb2F0OiByaWdodDtcclxuLy8gICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4vLyAgICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbi8vICAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgJi1jb250ZW50IHtcclxuLy8gICAgICAgICAgICAgaW9uLWljb24ge1xyXG4vLyAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4vLyAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAmLWxlZnQge1xyXG4vLyAgICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4vLyAgICAgICAgICAgICB3aWR0aDogMTUwcHg7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgICYtZm9vdGVyIHtcclxuLy8gICAgICAgICBwYWRkaW5nOiA2cHg7XHJcblxyXG4vLyAgICAgICAgIGJ1dHRvbiB7XHJcbi8vICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuLy8gICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbi8vICAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2MHB4KTtcclxuLy8gICAgICAgICAgICAgcGFkZGluZzogMTJweDtcclxuLy8gICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4vLyAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4vLyAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbi8vICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1idG4ge1xyXG4vLyAgICAgICAgICYtbGVmdCB7XHJcbi8vICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbi8vICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAmLXJlbGF0aXZlIHtcclxuLy8gICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgICAgICAgICB3aWR0aDogNTBweDtcclxuLy8gICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4vLyAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjE2MTYxO1xyXG4vLyAgICAgICAgICAgICAvKiBoZWlnaHQ6IDEwMCU7ICovXHJcbi8vICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbi8vICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbi8vICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4vLyAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbi8vICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuXHJcbi8vICAgICAgICAgICAgIGlvbi1pY29uIHtcclxuLy8gICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgZGl2IHtcclxuLy8gICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMHZ3O1xyXG4vLyAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgICAgICAgICAgICAgdG9wOiAtNHB4O1xyXG4vLyAgICAgICAgICAgICAgICAgcmlnaHQ6IC03cHg7XHJcbi8vICAgICAgICAgICAgICAgICB3aWR0aDogMjBweDtcclxuLy8gICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDtcclxuLy8gICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4vLyAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuLy8gICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbi8vICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuLy8gICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG4vLyAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuXHJcbi8vICAgICAmLWJvbGQge1xyXG4vLyAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1yaWdodCB7XHJcbi8vICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbi8vICAgICB9XHJcblxyXG5cclxuLy8gICAgICYtc2VsZWN0IHtcclxuLy8gICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4vLyAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4vLyAgICAgICAgICYtZm9ybSB7XHJcbi8vICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbi8vICAgICAgICAgICAgIGRpdiB7XHJcblxyXG4vLyAgICAgICAgICAgICAgICAgd2lkdGg6IDEwNXB4O1xyXG4vLyAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcbi8vICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbi8vICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjY2FlZWZmO1xyXG4vLyAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4vLyAgICAgICAgICAgICAgICAgcGFkZGluZzogNnB4IDA7XHJcbi8vICAgICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICAgIGlvbi1pY29uIHtcclxuLy8gICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuLy8gICAgICAgICAgICAgICAgIHRvcDogOHB4O1xyXG4vLyAgICAgICAgICAgICAgICAgcmlnaHQ6IDJweDtcclxuLy8gICAgICAgICAgICAgICAgIGNvbG9yOiBncmF5O1xyXG4vLyAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG5cclxuXHJcbi8vICAgICB9XHJcblxyXG4vLyB9XHJcblxyXG4vLyB0YWJsZSB7XHJcbi8vICAgICB3aWR0aDogMTAwJTtcclxuLy8gICAgIHRhYmxlLWxheW91dDogZml4ZWQ7XHJcbi8vIH1cclxuXHJcbi8vIHRkIHtcclxuLy8gICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG5cclxuLy8gICAgIHNwYW4ge1xyXG4vLyAgICAgICAgIGNvbG9yOiBncmF5O1xyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIGkge1xyXG4vLyAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gLnByLTIwIHtcclxuLy8gICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XHJcbi8vIH1cclxuXHJcbi8vIC5wci00NCB7XHJcbi8vICAgICBwYWRkaW5nLXJpZ2h0OiA0NHB4ICFpbXBvcnRhbnQ7XHJcbi8vIH1cclxuXHJcbi8vIC5wci0xNSB7XHJcbi8vICAgICBwYWRkaW5nLXJpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7XHJcbi8vIH1cclxuXHJcbi8vIC5wYi0wIHtcclxuLy8gICAgIHBhZGRpbmctYm90dG9tOiAwICFpbXBvcnRhbnQ7XHJcbi8vIH1cclxuXHJcbi8vIGlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG4vLyBpbnB1dFt0eXBlPVwibnVtYmVyXCJdLFxyXG4vLyBpbnB1dFt0eXBlPVwiZGF0ZVwiXSB7XHJcbi8vICAgICB3aWR0aDogMTA1cHg7XHJcbi8vICAgICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuLy8gICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuLy8gICAgIGJhY2tncm91bmQ6ICNjYWVlZmY7XHJcbi8vICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbi8vICAgICBwYWRkaW5nOiA2cHggMDtcclxuLy8gfVxyXG5cclxuLy8gLmlucHV0LW5vLWJvcmRlcntcclxuLy8gICAgIGJhY2tncm91bmQ6IHdoaXRlICFpbXBvcnRhbnQ7XHJcbi8vICAgICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xyXG5cclxuLy8gfVxyXG5cclxuLy8gaW9uLXRvZ2dsZSB7XHJcbi8vICAgICBoZWlnaHQ6IDI2cHg7XHJcbi8vICAgICAtLWhhbmRsZS13aWR0aDogY2FsYygyOHB4IC0gKDJweCAqIDIpKTtcclxuLy8gICAgIC0taW9uLWNvbG9yLWJhc2U6IHZhcigtLXByaW1hcnktY29sb3IpICFpbXBvcnRhbnQ7XHJcbi8vIH1cclxuXHJcbi8vIGlvbi1mb290ZXIge1xyXG4vLyAgICAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjA1KSAwcHggNnB4IDI0cHggMHB4LCByZ2JhKDAsIDAsIDAsIDAuMDgpIDBweCAwcHggMHB4IDFweDtcclxuLy8gfVxyXG5cclxuLy8gcHtcclxuLy8gICAgIG1hcmdpbi10b3A6IDAgIWltcG9ydGFudDtcclxuLy8gICAgIG1hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDtcclxuLy8gICB9Il19 */\";","import { CurrencyPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PrintOptions, Printer } from '@ionic-native/printer/ngx';\r\nimport { ActionSheetController, ModalController, NavController, PopoverController, ToastController } from '@ionic/angular';\r\nimport { BillWaitPage } from 'src/app/bill/bill-wait/bill-wait.page';\r\nimport { DonviIndexPage } from 'src/app/donvi/donvi-index/donvi-index.page';\r\nimport { FunctionService } from 'src/app/function.service';\r\nimport { KhoIndexPage } from 'src/app/kho/kho-index/kho-index.page';\r\nimport { AlertService } from 'src/app/service/AlertService';\r\nimport { KhoService } from 'src/app/service/kho.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { ToastService } from 'src/app/service/toastService';\r\nimport { UnitService } from 'src/app/service/unit.service';\r\nimport { VattuService } from 'src/app/service/vattu.service';\r\nimport { XuatkhoService } from 'src/app/service/xuatkho.service';\r\nimport { DVTComponent } from 'src/app/donvitinh/dvt/dvt.component';\r\nimport { VattuIndexPage } from 'src/app/vattu/vattu-index/vattu-index.page';\r\nimport { convertHelper } from 'src/app/share/helper';\r\n@Component({\r\n  selector: 'app-nhaphang-detail',\r\n  templateUrl: './nhaphang-detail.page.html',\r\n  styleUrls: ['./nhaphang-detail.page.scss'],\r\n})\r\nexport class NhaphangDetailPage implements OnInit {\r\n  chungchi: any = {\r\n    ChungTuID: '',\r\n    nam_du_lieu: ''\r\n  };\r\n  donvi: string = '';\r\n  kho: string = '';\r\n  sumBillWait: number = 0;\r\n  submit: boolean = false;\r\n  sendItem: any = {\r\n    \"DVNhap\": \"\",\r\n    \"KhoNhap\": \"\",\r\n    \"nam_du_lieu\": \"\",\r\n    \"LoaiCTID\": 2,\r\n    \"ChungTuID\": 0,\r\n    // \"BanTheoDon\": false,\r\n    \"SoCT\": \"\",\r\n    \"ThoiDiem\": \"\",\r\n    \"DienGiai\": \"\",\r\n    \"ChietKhau\": 0,\r\n    \"ThanhToan\": 0,\r\n    \"ChiTietHang\": [],\r\n    \"SoTK\": \"\",\r\n  }\r\n  ChietKhauHD: string = '0';\r\n  ThanhToanHD: string = '0';\r\n  ChiTietHang = {\r\n    \"NhapXuatID\": 0,\r\n    \"MaVT\": \"\",\r\n    \"DVT\": \"\",\r\n    \"SoLuong\": 0,\r\n    \"DonGia\": 0,\r\n    \"GiaBanLe\": 0,\r\n    \"GiaBanSy\": 0,\r\n    \"ThanhTien\": 0,\r\n    \"VAT_Percent\": 0,\r\n    \"VAT\": 0,\r\n    \"ChietKhau_Percent\": 0,\r\n    \"ChietKhau\": 0,\r\n    \"TongTien\": 0,\r\n    \"HTTT\": \"TM\",\r\n    \"LoHang\": \"\",\r\n    \"HanDung\": \"\"\r\n  }\r\n  xuatam: any;\r\n\r\n  sendVattu = {\r\n    \"loainx\": \"''\",\r\n    \"khohang\": \"\",\r\n    \"banggia\": \"\",\r\n    \"xuatam\": 0\r\n  }\r\n  displayChiTietHang: any = [];\r\n  listKho: any = [];\r\n  listUnit: any = [];\r\n  listVattu: any = [];\r\n  listTaiKhoan: Array<{ Id: number, LoaiTK: string, SoTK: string, TenTK: string, }>;\r\n  banggia: any = [];\r\n  HTTT_name: string = 'Tiền mặt';\r\n  sendChungChi: any = {\r\n    isCreate: false,\r\n    ChungTuID: '',\r\n    nam_du_lieu: ''\r\n  };\r\n  loaiCTNow: any = {};\r\n  title: string = '';\r\n  typePage: string = '';\r\n  itemDetail: any = [];\r\n  listBillWait: any = [];\r\n  check: boolean = false;\r\n  indexItem: boolean[] = [];\r\n  countProduct: number = 0;\r\n  sumThanhTien: number = 0;\r\n  sumTongTien: number = 0;\r\n  sumTongTienTemp: number = 0;\r\n  sumVAT: number = 0;\r\n  sumChietKhau: number = 0;\r\n  sumChietKhauTemp: number = 0;\r\n  // sumThanhToan: number = 0;\r\n  loaiCT_name: string = '';\r\n  LoaiCTID: number = 0;\r\n  checkChungTuID: number = 0;\r\n  DienGiai: string = '';\r\n  pageParent: string = '';\r\n  LoaiCTByBill: any = [];\r\n  loainx: string = '';\r\n  SoTK: string;\r\n\r\n  constructor(\r\n    private ToastService: ToastService,\r\n    public FunctionService: FunctionService,\r\n    public router: Router,\r\n    public toastController: ToastController,\r\n    private modalController: ModalController,\r\n    public convertHelper: convertHelper,\r\n    private XuatkhoService: XuatkhoService,\r\n    private AlertService: AlertService,\r\n    private navController: NavController,\r\n    private LoadingService: LoadingService,\r\n    private route: ActivatedRoute,\r\n    private printer: Printer,\r\n    private currencyPipe: CurrencyPipe,\r\n    public popoverController: PopoverController,\r\n    private KhoService: KhoService,\r\n    private cdr: ChangeDetectorRef,\r\n    private UnitService: UnitService,\r\n    private VattuService: VattuService,\r\n    private actionSheetController: ActionSheetController,\r\n\r\n\r\n  ) {\r\n    this.getDSTK();\r\n    this.listBillWait = JSON.parse(localStorage.getItem('billWaitNhapHang') || '[]');\r\n\r\n    this.route.queryParams.subscribe(params => {\r\n      this.chungchi.ChungTuID = params.ChungTuID;\r\n      this.chungchi.nam_du_lieu = params.nam_du_lieu;\r\n      this.sendChungChi.ChungTuID = params.ChungTuID;\r\n      this.sendChungChi.nam_du_lieu = params.nam_du_lieu;\r\n      this.LoaiCTID = params.LoaiCTID;\r\n      this.DienGiai = params.DienGiai;\r\n      this.typePage = params.Type;\r\n      this.pageParent = params.pageParent;\r\n\r\n      this.title = params.Type == 'detail' ? 'Chi tiết' : params.Type == 'create' ? 'Thêm' : 'Sửa';\r\n      this.countBillWait();\r\n\r\n\r\n      if (this.typePage == 'detail' || this.typePage == 'edit') {\r\n        this.getChungTuDetail();\r\n      } else {\r\n        var now = new Date();\r\n        var year = now.getFullYear();\r\n        var hours = now.getHours();\r\n        var minute = now.getMinutes();\r\n        this.sendItem.nam_du_lieu = year.toString();\r\n\r\n        var LoaiCT = JSON.parse(localStorage.getItem('loaiNhapHang') || '[]');\r\n        if (params.LoaiCTID) {\r\n          this.loaiCTNow = this.convertHelper.typeChungTuObj(params.LoaiCTID);\r\n          this.loaiCT_name = this.loaiCTNow.DienGiai;\r\n          this.sendItem.LoaiCTID = this.loaiCTNow.LoaiCTID;\r\n        } else {\r\n          this.loaiCTNow = LoaiCT[0];\r\n          this.loaiCT_name = LoaiCT[0].DienGiai;\r\n          this.sendItem.LoaiCTID = LoaiCT[0].LoaiCTID;\r\n        }\r\n        this.sendItem.SoTK = this.SoTK;\r\n        this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n        this.sendItem.ChungTuID = new Date().getTime();\r\n        this.sendItem.SoCT = `${this.getInitials(LoaiCT[0].DienGiai)}${this.sendItem.ChungTuID}`;\r\n        this.getLoaiCT();\r\n\r\n      }\r\n      this.getUnit();\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.sumBillWait = this.listBillWait.length;\r\n  }\r\n\r\n  onSoTKChange($event) {\r\n    this.SoTK = \"111\";\r\n    if ($event.target.value == undefined) {\r\n      this.SoTK = \"111\";\r\n    }\r\n    else {\r\n      this.SoTK = $event.target.value;\r\n      console.log(\"197\", this.SoTK);\r\n      this.sendItem.SoTK = this.SoTK;\r\n    }\r\n  }\r\n\r\n  getDSTK()//Lấy danh sách tài khoản\r\n  {\r\n    this.FunctionService.getDSTK().subscribe((response: any) => {\r\n      // console.log(\"212\", response)\r\n      this.listTaiKhoan = response;\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n\r\n  getLoaiCT() {\r\n    this.LoaiCTByBill = JSON.parse(localStorage.getItem('loaiNhapHang') || '[]');\r\n    for (let i = 0; i < this.LoaiCTByBill.length; i++) {\r\n\r\n      if (this.LoaiCTByBill[i].LoaiCTID == this.sendItem.LoaiCTID) {\r\n        this.loaiCTNow = this.LoaiCTByBill[i];\r\n        this.loaiCT_name = this.LoaiCTByBill[i].DienGiai;\r\n        this.banggia = this.LoaiCTByBill[i].BangGia;\r\n        this.loainx = this.LoaiCTByBill[i].LoaiNX;\r\n        this.xuatam = this.LoaiCTByBill[i].XuatAm;\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.getKho();\r\n  }\r\n\r\n  getKho() {\r\n\r\n    this.KhoService.getKho().subscribe((response: any) => {\r\n      this.listKho = response;\r\n      if (this.typePage == 'create') {\r\n        // this.makho = response[0].MaKho;\r\n        this.kho = response[0].TenKho;\r\n        // this.sendItem.KhoXuat = response[0].MaKho;\r\n        this.sendItem.KhoNhap = response[0].MaKho;\r\n      }\r\n\r\n      this.getVattu();\r\n\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getUnit() {\r\n    this.UnitService.getUnit().subscribe((response: any) => {\r\n      this.listUnit = response;\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getVattu() {\r\n    this.sendVattu.loainx = this.loainx;\r\n    this.sendVattu.banggia = this.banggia;\r\n    this.sendVattu.xuatam = this.xuatam ? 1 : 0;\r\n    this.sendVattu.khohang = this.sendItem.KhoNhap;\r\n    this.VattuService.GetListVT(this.sendVattu).subscribe((response: any) => {\r\n      this.listVattu = response;\r\n    }, (error) => {\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  convNumber(number) {\r\n    return number < 10 ? '0' + number : number;\r\n  }\r\n\r\n  handleEdit() {\r\n    this.typePage = 'edit';\r\n  }\r\n\r\n  handleDetail() {\r\n    this.typePage = 'detail';\r\n  }\r\n\r\n  getChungTuDetail() {\r\n    this.LoadingService.setValue(true);\r\n\r\n    this.XuatkhoService.xuatHangDetail(this.chungchi).subscribe((response: any) => {\r\n      this.itemDetail = response[0];\r\n      this.countProduct = response[0].ChiTietHang.length;\r\n\r\n      // this.sendItem.BanTheoDon = response[0].BanTheoDon;\r\n      this.sendItem.ChungTuID = response[0].ChungTuID;\r\n\r\n      this.sendItem.LoaiCTID = response[0].LoaiCTID;\r\n      this.sendItem.SoCT = response[0].SoCT;\r\n      this.sendItem.ThoiDiem = response[0].ThoiDiem;\r\n      this.sendItem.nam_du_lieu = this.chungchi.nam_du_lieu;\r\n\r\n      this.sendItem.DVNhap = response[0].DVNhap;\r\n      this.sendItem.KhoNhap = response[0].KhoNhap;\r\n      this.sendItem.ChietKhau = response[0].ChietKhau;\r\n      this.sendItem.ThanhToan = response[0].ThanhToan;\r\n      this.donvi = response[0]._TenDVNhap;\r\n      this.kho = response[0]._TenKhoNhap;\r\n      this.HTTT_name = response[0].ChiTietHang[0].HTTT == 'CK' ? 'Chuyển khoản' : 'Tiền mặt';\r\n      this.ChietKhauHD = this.currencyPipe.transform(String(response[0].ChietKhau).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n      for (let i = 0; i <= this.listTaiKhoan.length; i++) {\r\n        let item = this.listTaiKhoan[i];\r\n        if (item != undefined) {\r\n          if (item.SoTK == response[0].SoTK) {\r\n            this.SoTK = item.SoTK;\r\n          }\r\n        }\r\n\r\n      }\r\n      this.getLoaiCT();\r\n\r\n      this.setChietHang();\r\n      this.LoadingService.setValue(false);\r\n      this.countMoney(response[0]);\r\n    }, (error) => {\r\n      console.log('error', error);\r\n      this.LoadingService.setValue(false);\r\n\r\n    });\r\n  }\r\n\r\n  setChietHang() {\r\n    this.sendItem.ChiTietHang = [];\r\n    this.displayChiTietHang = [];\r\n\r\n    for (let i = 0; i < this.itemDetail.ChiTietHang.length; i++) {\r\n      this.sendItem.ChiTietHang.push({\r\n        \"NhapXuatID\": this.itemDetail.ChiTietHang[i].NhapXuatID,\r\n        \"MaVT\": this.itemDetail.ChiTietHang[i].MaVT,\r\n        \"DVT\": this.itemDetail.ChiTietHang[i].DVT,\r\n        \"SoLuong\": this.itemDetail.ChiTietHang[i].SoLuong,\r\n        \"DonGia\": this.itemDetail.ChiTietHang[i].DonGia,\r\n        \"GiaBanLe\": this.itemDetail.ChiTietHang[i].GiaBanLe ? this.itemDetail.ChiTietHang[i].GiaBanLe : 0,\r\n        \"GiaBanSy\": this.itemDetail.ChiTietHang[i].GiaBanSy ? this.itemDetail.ChiTietHang[i].GiaBanSy : 0,\r\n        \"ThanhTien\": this.itemDetail.ChiTietHang[i].ThanhTien,\r\n        \"VAT_Percent\": this.itemDetail.ChiTietHang[i].VAT_Percent,\r\n        \"VAT\": this.itemDetail.ChiTietHang[i].VAT,\r\n        \"ChietKhau_Percent\": this.itemDetail.ChiTietHang[i].ChietKhau_Percent,\r\n        \"ChietKhau\": this.itemDetail.ChiTietHang[i].ChietKhau,\r\n        \"TongTien\": this.itemDetail.ChiTietHang[i].TongTien,\r\n        \"HTTT\": this.itemDetail.ChiTietHang[i].HTTT ? this.itemDetail.ChiTietHang[i].HTTT : '',\r\n        \"LoHang\": this.itemDetail.ChiTietHang[i].LoHang ? this.itemDetail.ChiTietHang[i].LoHang : '',\r\n        \"HanDung\": this.itemDetail.ChiTietHang[i].HanDung ? this.itemDetail.ChiTietHang[i].HanDung : ''\r\n      })\r\n\r\n      this.displayChiTietHang.push({\r\n        \"_TenVT\": this.itemDetail.ChiTietHang[i]._TenVT,\r\n        \"MaVT\": this.itemDetail.ChiTietHang[i].MaVT,\r\n        \"DVT\": this.itemDetail.ChiTietHang[i].DVT,\r\n        'DonGia': this.itemDetail.ChiTietHang[i].DonGia ? new Intl.NumberFormat().format(this.itemDetail.ChiTietHang[i].DonGia).replace(/\\./g, ',') : '0',\r\n        'SoLuong': new Intl.NumberFormat().format(this.itemDetail.ChiTietHang[i].SoLuong).replace(/\\./g, ','),\r\n        \"ChietKhau_Percent\": this.itemDetail.ChiTietHang[i].ChietKhau_Percent,\r\n        \"VAT_Percent\": this.itemDetail.ChiTietHang[i].VAT_Percent,\r\n        \"TongTien\": this.itemDetail.ChiTietHang[i].TongTien,\r\n      })\r\n    }\r\n  }\r\n\r\n  countMoney(billDetail) {\r\n    this.sumThanhTien = 0;\r\n    this.sumTongTien = 0;\r\n    this.sumVAT = 0;\r\n    this.sumChietKhau = 0;\r\n    this.sumChietKhauTemp = 0;\r\n    // this.sumThanhToan = 0;\r\n    if (this.typePage != 'create') {\r\n      this.sumChietKhau = this.itemDetail.ChietKhau ? this.itemDetail.ChietKhau : 0;\r\n    }\r\n\r\n    for (let i = 0; i < billDetail.ChiTietHang.length; i++) {\r\n\r\n      this.sumThanhTien = this.sumThanhTien + billDetail.ChiTietHang[i].ThanhTien;\r\n      this.sumTongTien = this.sumTongTien + billDetail.ChiTietHang[i].TongTien;\r\n      this.sumVAT = this.sumVAT + billDetail.ChiTietHang[i].VAT;\r\n      this.sumChietKhauTemp = this.sumChietKhauTemp + billDetail.ChiTietHang[i].ChietKhau;\r\n      // this.sumChietKhauTemp = this.sumChietKhau + billDetail.ChiTietHang[i].ChietKhau;\r\n\r\n    }\r\n\r\n    this.sumChietKhau = this.sumChietKhauTemp + billDetail.ChietKhau;\r\n    this.sumTongTien -= billDetail.ChietKhau;\r\n    if (this.typePage == 'create') {\r\n      this.sendItem.ThanhToan = this.sumTongTien;\r\n      this.ThanhToanHD = this.currencyPipe.transform(String(this.sumTongTien).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n    } else {\r\n      this.ThanhToanHD = this.currencyPipe.transform(String(this.sendItem.ThanhToan).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n\r\n    }\r\n    this.sumTongTienTemp = this.sumTongTien;\r\n\r\n  }\r\n\r\n  formatInput(item, index, type?) {\r\n    // if (type && type == 'plus') {\r\n    //   this.displayChiTietHang[index][item] = String(Number(this.displayChiTietHang[index][item].replace(/,/g, '')) + 1);\r\n    // }\r\n    // if (type && type == 'subtraction') {\r\n    //   this.displayChiTietHang[index][item] = String(Number(this.displayChiTietHang[index][item].replace(/,/g, '')) - 1);\r\n    // }\r\n\r\n    var convNumber = this.currencyPipe.transform(this.displayChiTietHang[index][item].replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n    this.displayChiTietHang[index][item] = convNumber;\r\n    if (item == \"DonGia\" || item == \"SoLuong\") {\r\n      this.sendItem.ChiTietHang[index][item] = Number(this.displayChiTietHang[index][item].replace(/,/g, ''));\r\n      this.sumMoney(index);\r\n\r\n      this.getTongTien(index);\r\n\r\n    }\r\n\r\n  }\r\n\r\n  formatInputBill(item, e) {\r\n    // var tesst = Number(this.sendItem[item].replace(/,/g, ''));\r\n    // var test = e;\r\n    // console.log('tesst', test, e);\r\n    this.sendItem[item] = Number(e.replace(/,/g, ''));\r\n    var convNumber = this.currencyPipe.transform(e.replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0');\r\n    if (item == 'ChietKhau') {\r\n      this.ChietKhauHD = convNumber;\r\n      this.sumChietKhau = this.sumChietKhauTemp;\r\n      this.sumChietKhau += this.sendItem.ChietKhau;\r\n\r\n      this.sumTongTien = this.sumThanhTien + this.sumVAT - this.sumChietKhau;\r\n      this.sendItem.ThanhToan = this.sumTongTien;\r\n      this.ThanhToanHD = this.currencyPipe.transform(String(this.sumTongTien).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0');\r\n\r\n    } else if (item == 'ThanhToan') {\r\n      this.ThanhToanHD = convNumber;\r\n    }\r\n\r\n  }\r\n\r\n  async openUnit() {\r\n    const modal = await this.modalController.create({\r\n      component: DonviIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        'page': 'nhapmua'\r\n        // \"listUnit\": this.listUnit,\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log(dataReturned);\r\n\r\n      if (dataReturned.data) {\r\n        this.sendItem.DVNhap = dataReturned.data.MaDV;\r\n        this.donvi = dataReturned.data.TenDV;\r\n\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openKho() {\r\n    const modal = await this.modalController.create({\r\n      component: KhoIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        // \"listKho\": this.listKho,\r\n      }\r\n\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned.data) {\r\n        // this.makho = dataReturned.data.MaKho;\r\n        this.sendItem.KhoNhap = dataReturned.data.MaKho;\r\n        this.kho = dataReturned.data.TenKho;\r\n        this.getVattu();\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openVattu() {\r\n    // if (!this.makho) {\r\n    //   return;\r\n    // }\r\n    // this.LoadingService.setValue(true);\r\n\r\n    const modal = await this.modalController.create({\r\n      component: VattuIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        // \"makho\": this.sendItem.KhoNhap,\r\n        \"page\": \"nhapmua\",\r\n        \"listVattu\": this.listVattu,\r\n        \"listItem\": this.sendItem.ChiTietHang,\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned && dataReturned.data) {\r\n        this.displayChiTietHang = [];\r\n\r\n        for (let i = 0; i < dataReturned.data.length; i++) {\r\n          let foundVattu = this.listVattu.find((o: any) => o.MaVT === dataReturned.data[i].MaVT);\r\n\r\n          this.displayChiTietHang.push({\r\n            \"_TenVT\": foundVattu.TenVT,\r\n            \"MaVT\": dataReturned.data[i].MaVT,\r\n            \"DVT\": dataReturned.data[i].DVT,\r\n            'DonGia': dataReturned.data[i].DonGia ? new Intl.NumberFormat().format(dataReturned.data[i].DonGia).replace(/\\./g, ',') : '0',\r\n            'SoLuong': new Intl.NumberFormat().format(dataReturned.data[i].SoLuong).replace(/\\./g, ','),\r\n            \"ChietKhau_Percent\": dataReturned.data[i].ChietKhau_Percent,\r\n            \"VAT_Percent\": dataReturned.data[i].VAT_Percent,\r\n            \"TongTien\": dataReturned.data[i].TongTien,\r\n          })\r\n        }\r\n        this.sendItem.ChiTietHang = dataReturned.data;\r\n        this.countProduct = this.displayChiTietHang.length;\r\n        this.countMoney(this.sendItem);\r\n\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openTypeChungTu() {\r\n    var arrBtn = [];\r\n    for (let i = 0; i < this.LoaiCTByBill.length; i++) {\r\n      arrBtn.push({\r\n        text: this.LoaiCTByBill[i].DienGiai,\r\n        icon: 'cash-outline',\r\n        cssClass: this.sendItem.LoaiCTID == this.LoaiCTByBill[i].LoaiCTID ? 'buttonSheetOn' : 'buttonSheetOff',\r\n        handler: () => {\r\n          this.loaiCT_name = this.LoaiCTByBill[i].DienGiai;\r\n          this.sendItem.LoaiCTID = this.LoaiCTByBill[i].LoaiCTID;\r\n          this.sendItem.SoCT = `${this.getInitials(this.LoaiCTByBill[i].DienGiai)}${this.sendItem.ChungTuID}`;\r\n          this.loaiCTNow = this.LoaiCTByBill[i];\r\n\r\n        }\r\n      })\r\n    }\r\n    const actionSheet = await this.actionSheetController.create({\r\n      cssClass: 'left-align-buttons',\r\n      buttons: arrBtn\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n  }\r\n\r\n  getInitials(text) {\r\n    const words = text.split(' ');\r\n    const initials = words.map(word => word.charAt(0).toUpperCase());\r\n    return initials.join('');\r\n  }\r\n\r\n  async handleHTTT() {\r\n\r\n    const actionSheet = await this.actionSheetController.create({\r\n      cssClass: 'left-align-buttons',\r\n      buttons: [\r\n        {\r\n          text: 'Tiền mặt',\r\n          icon: 'cash-outline',\r\n          cssClass: this.HTTT_name == 'Tiền mặt' ? 'buttonSheetOn' : 'buttonSheetOff',\r\n          handler: () => {\r\n            this.HTTT_name = 'Tiền mặt'\r\n          }\r\n        },\r\n        {\r\n          text: 'Chuyển khoản',\r\n          icon: 'card-outline',\r\n          cssClass: this.HTTT_name == 'Chuyển khoản' ? 'buttonSheetOn' : 'buttonSheetOff',\r\n          handler: () => {\r\n            this.HTTT_name = 'Chuyển khoản'\r\n\r\n          },\r\n        }\r\n      ]\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n  }\r\n\r\n  setInput(e, item, index) {\r\n    this.sendItem.ChiTietHang[index][item] = e;\r\n    if (item == \"ChietKhau_Percent\") {\r\n      this.sendItem.ChiTietHang[index].ChietKhau = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].ChietKhau_Percent / 100;\r\n      this.getTongTien(index);\r\n    }\r\n\r\n    if (item == \"VAT_Percent\") {\r\n      this.sendItem.ChiTietHang[index].VAT = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].VAT_Percent / 100;\r\n      this.getTongTien(index);\r\n    }\r\n  }\r\n\r\n  getTongTien(index) {\r\n    this.sendItem.ChiTietHang[index].TongTien = this.sendItem.ChiTietHang[index].ThanhTien + this.sendItem.ChiTietHang[index].VAT - this.sendItem.ChiTietHang[index].ChietKhau;\r\n    this.displayChiTietHang[index].TongTien = this.sendItem.ChiTietHang[index].TongTien;\r\n    this.countMoney(this.sendItem);\r\n  }\r\n\r\n  handleRemove(item, index) {\r\n    this.AlertService.presentAlert(`Bạn có chắc muốn xóa mặt hàng \"${item._TenVT}\"?`).then(res => {\r\n      if (res == 'true') {\r\n        // console.log('eeee');\r\n        this.displayChiTietHang.splice(index, 1);\r\n        this.sendItem.ChiTietHang.splice(index, 1);\r\n        this.countMoney(this.sendItem);\r\n        // this.countMoney(this.displayChiTietHang);\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  resetItem() {\r\n\r\n    this.submit = false;\r\n\r\n    this.sendItem = {\r\n      \"DVNhap\": \"\",\r\n      \"KhoNhap\": this.sendItem.KhoNhap,\r\n      \"nam_du_lieu\": \"\",\r\n      \"LoaiCTID\": this.sendItem.LoaiCTID,\r\n      \"ChungTuID\": 0,\r\n      \"SoCT\": \"\",\r\n      \"ThoiDiem\": \"\",\r\n      \"DienGiai\": \"\",\r\n      \"ChietKhau\": 0,\r\n      \"ThanhToan\": 0,\r\n      \"ChiTietHang\": []\r\n    }\r\n    this.ChietKhauHD = '0';\r\n    this.ThanhToanHD = '0';\r\n    this.donvi = \"\";\r\n    this.sendItem.ChiTietHang = [];\r\n    this.displayChiTietHang = [];\r\n    this.sumThanhTien = 0;\r\n    this.sumTongTien = 0;\r\n    this.sumVAT = 0;\r\n    this.sumChietKhau = 0;\r\n    this.sumChietKhauTemp = 0;\r\n    this.sumTongTienTemp = 0;\r\n    // this.sumThanhToan = 0;\r\n    this.countProduct = 0;\r\n    var now = new Date();\r\n    var year = now.getFullYear();\r\n    var hours = now.getHours();\r\n    var minute = now.getMinutes();\r\n    this.sendItem.nam_du_lieu = year.toString();\r\n    this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n    this.sumTongTien = 0;\r\n\r\n    this.sendItem.ChungTuID = new Date().getTime();\r\n    this.sendItem.SoCT = `${this.getInitials(this.loaiCTNow.DienGiai)}${this.sendItem.ChungTuID}`;\r\n    this.getVattu();\r\n  }\r\n\r\n  async handleDVT(MaVT, DVT, index) {\r\n    localStorage.setItem(\"InOutType\", \"N\");\r\n    const popover = await this.popoverController.create({\r\n      component: DVTComponent,\r\n      cssClass: 'popup-cont-info',\r\n      componentProps: {\r\n        \"MaVT\": MaVT,\r\n        \"DVT\": DVT\r\n      },\r\n      translucent: true,\r\n\r\n    });\r\n    await popover.present();\r\n\r\n    popover.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned.data) {\r\n        this.sendItem.ChiTietHang[index].DVT = dataReturned.data.DVT;\r\n        this.sendItem.ChiTietHang[index].DonGia = dataReturned.data.GiaMua;\r\n        this.sendItem.ChiTietHang[index].GiaBanLe = dataReturned.data.GiaBanLe;\r\n        this.sendItem.ChiTietHang[index].GiaBanSy = dataReturned.data.GiaBanSy;\r\n        this.sumMoney(index);\r\n\r\n        this.displayChiTietHang[index].DonGia = new Intl.NumberFormat().format(dataReturned.data.GiaMua).replace(/\\./g, ',');\r\n        this.getTongTien(index);\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  sumMoney(index) {\r\n    this.sendItem.ChiTietHang[index].ThanhTien = this.sendItem.ChiTietHang[index].SoLuong * this.sendItem.ChiTietHang[index].DonGia;\r\n    this.sendItem.ChiTietHang[index].ChietKhau = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].ChietKhau_Percent / 100;\r\n    this.sendItem.ChiTietHang[index].VAT = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].VAT_Percent / 100;\r\n  }\r\n\r\n\r\n  countBillWait() {\r\n    // this.sumBillWait = 0;\r\n    // for (let i = 0; i < this.listBillWait.length; i++) {\r\n    //   if (this.listBillWait[i].LoaiCTID == this.LoaiCTID) {\r\n    //     this.sumBillWait += 1;\r\n    //   }\r\n    // }\r\n    this.sumBillWait = this.listBillWait.length;\r\n\r\n  }\r\n\r\n  async openBillWait() {\r\n    const modal = await this.modalController.create({\r\n      component: BillWaitPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        \"LoaiCTID\": this.LoaiCTID,\r\n        \"LoaiNX\": this.loaiCTNow.LoaiNX\r\n\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log(dataReturned);\r\n      this.listBillWait = JSON.parse(localStorage.getItem('billWaitNhapHang') || '[]');\r\n      this.sumBillWait = this.listBillWait.length;\r\n\r\n      if (dataReturned.data) {\r\n        this.sendItem = dataReturned.data.item;\r\n        this.kho = dataReturned.data.item.kho_name;\r\n        this.donvi = dataReturned.data.item.donvi_name;\r\n        this.displayChiTietHang = [];\r\n        for (let i = 0; i < dataReturned.data.item.ChiTietHang.length; i++) {\r\n\r\n          this.displayChiTietHang.push({\r\n            \"_TenVT\": dataReturned.data.item.ChiTietHang[i]._TenVT,\r\n            \"MaVT\": dataReturned.data.item.ChiTietHang[i].MaVT,\r\n            \"DVT\": dataReturned.data.item.ChiTietHang[i].DVT,\r\n            'DonGia': dataReturned.data.item.ChiTietHang[i].DonGia ? new Intl.NumberFormat().format(dataReturned.data.item.ChiTietHang[i].DonGia).replace(/\\./g, ',') : '0',\r\n            'SoLuong': new Intl.NumberFormat().format(dataReturned.data.item.ChiTietHang[i].SoLuong).replace(/\\./g, ','),\r\n            \"ChietKhau_Percent\": dataReturned.data.item.ChiTietHang[i].ChietKhau_Percent,\r\n            \"VAT_Percent\": dataReturned.data.item.ChiTietHang[i].VAT_Percent,\r\n            \"TongTien\": dataReturned.data.item.ChiTietHang[i].TongTien,\r\n            \"LoHang\": dataReturned.data.item.ChiTietHang[i].LoHang,\r\n            \"HanDung\": dataReturned.data.item.ChiTietHang[i].HanDung,\r\n          })\r\n        }\r\n\r\n\r\n        this.countProduct = this.displayChiTietHang.length;\r\n        this.checkChungTuID = dataReturned.data.item.ChungTuID;\r\n        this.countMoney(this.sendItem);\r\n\r\n        // for (let i = 0; i < this.listKho.length; i++) {\r\n        //   if (this.listKho[i].MaKho == dataReturned.data.item.KhoNhap) {\r\n        //     this.kho = this.listKho[i].TenKho;\r\n        //     break;\r\n        //   }\r\n        // }\r\n\r\n        // if (dataReturned.data.item.DVNhap) {\r\n        //   for (let i = 0; i < this.listUnit.length; i++) {\r\n        //     if (this.listUnit[i].MaDV == dataReturned.data.item.DVNhap) {\r\n        //       this.donvi = this.listUnit[i].TenDV;\r\n        //       break;\r\n        //     }\r\n        //   }\r\n        // }\r\n        var now = new Date();\r\n        var year = now.getFullYear();\r\n        var hours = now.getHours();\r\n        var minute = now.getMinutes();\r\n        this.sendItem.nam_du_lieu = year.toString();\r\n        this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n        this.sendItem.ChietKhau = dataReturned.data.item.ChietKhau;\r\n        this.sendItem.ThanhToan = dataReturned.data.item.ThanhToan;\r\n        this.ChietKhauHD = this.currencyPipe.transform(String(this.sendItem.ChietKhau).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0');\r\n        this.sendItem.ChungTuID = dataReturned.data.item.ChungTuID;\r\n        this.sendItem.SoCT = dataReturned.data.item.SoCT;\r\n        // this.sendItem.ChungTuID = new Date().getTime();\r\n        // this.sendItem.SoCT = `${this.getInitials(this.loaiCTNow.DienGiai)}${this.sendItem.ChungTuID}`;\r\n\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  confirmSubmit() {\r\n    this.submit = true;\r\n    if (!this.donvi) {\r\n      this.ToastService.warningToast(\"Vui lòng chọn đơn vị!\");\r\n      return;\r\n    }\r\n    if (this.sumTongTien == 0) {\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < this.sendItem.ChiTietHang.length; i++) {\r\n      this.sendItem.ChiTietHang[i].HTTT = this.HTTT_name == 'Tiền mặt' ? 'TM' : 'CK';\r\n    }\r\n\r\n    if (this.SoTK == undefined) {\r\n      for (let i = 0; i <= this.listTaiKhoan.length; i++) {\r\n        let item = this.listTaiKhoan[i];\r\n        if (item != undefined) {\r\n          if (item.LoaiTK == \"111\") {\r\n            this.SoTK = item.SoTK;\r\n            console.log(\"827\", this.SoTK);\r\n            this.sendItem.SoTK = this.SoTK;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    if (this.typePage == 'create') {\r\n      // var checkExit = false;\r\n      // if (this.sendItem.ChiTietHang.length != 0) {\r\n      //   for (let i = 0; i < this.sendItem.ChiTietHang.length; i++) {\r\n      //     if (!this.sendItem.ChiTietHang[i].SoLuong) {\r\n      //       checkExit = true;\r\n      //     }\r\n      //   }\r\n      // } else {\r\n      //   checkExit = true;\r\n      // }\r\n      // if (!checkExit) {\r\n      this.AlertService.presentAlert(`Bạn có chắc muốn thêm hóa đơn?`,).then(res => {\r\n        if (res == 'true') {\r\n          this.createImport();\r\n        }\r\n      });\r\n      // }\r\n    } else {\r\n      this.AlertService.presentAlert(`Bạn có chắc muốn sửa hóa đơn?`,).then(res => {\r\n        if (res == 'true') {\r\n          this.updateImport();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  backListBill() {\r\n    this.navController.navigateBack([\"bill-list\"], {\r\n      queryParams: {\r\n        'LoaiCTID': this.loaiCTNow.LoaiCTID,\r\n        'DienGiai': this.DienGiai\r\n      }\r\n    });\r\n  }\r\n\r\n  createImport() {\r\n\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.createXuatHang(this.sendItem).subscribe((response: any) => {\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        this.resetItem();\r\n        this.LoadingService.setValue(false);\r\n        for (let i = 0; i < this.listBillWait.length; i++) {\r\n          if (this.listBillWait[i].ChungTuID == this.checkChungTuID) {\r\n            this.listBillWait.splice(i, 1);\r\n            localStorage.setItem('billWaitNhapHang', JSON.stringify(this.listBillWait));\r\n            this.countBillWait();\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n\r\n      }\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n  updateImport() {\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.updateXuatHang(this.sendItem).subscribe((response: any) => {\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        this.getChungTuDetail();\r\n\r\n        this.LoadingService.setValue(false);\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n      }\r\n\r\n      // this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n  handleBillWait() {\r\n    this.sendItem.kho_name = this.kho;\r\n    this.sendItem.donvi_name = this.donvi;\r\n    this.listBillWait.push(this.sendItem);\r\n    localStorage.setItem('billWaitNhapHang', JSON.stringify(this.listBillWait));\r\n    this.countBillWait();\r\n\r\n    this.resetItem();\r\n    this.ToastService.successToast('Thêm hóa đơn chờ thành công!');\r\n  }\r\n\r\n  openBack() {\r\n    if (this.pageParent == 'home') {\r\n      this.navController.navigateBack(['tabs/tab3']);\r\n    } else {\r\n      this.navController.navigateBack([\"bill-list\"], {\r\n        queryParams: {\r\n          'LoaiCTID': this.LoaiCTID,\r\n          'DienGiai': this.DienGiai\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n}\r\n"]}
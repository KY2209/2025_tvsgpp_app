{"version":3,"sources":["webpack:///src/app/xuatkho/xuathang-detail/xuathang-detail.page.html","webpack:///src/app/xuatkho/xuathang-detail/xuathang-detail-routing.module.ts","webpack:///src/app/xuatkho/xuathang-detail/xuathang-detail.module.ts","webpack:///src/app/xuatkho/xuathang-detail/xuathang-detail.page.scss","webpack:///src/app/xuatkho/xuathang-detail/xuathang-detail.page.ts"],"names":["routes","path","component","XuathangDetailPageRoutingModule","imports","forChild","exports","XuathangDetailPageModule","declarations","XuathangDetailPage","ToastService","FunctionService","popoverController","router","toastController","modalController","XuatkhoService","AlertService","navController","LoadingService","route","printer","currencyPipe","KhoService","cdr","actionSheetController","UnitService","VattuService","convertHelper","chungchi","ChungTuID","nam_du_lieu","donvi","submit","kho","HTTT","sendItem","loaiCT_name","LoaiCTByBill","ChiTietHang","sendVattu","checkToggle","displayChiTietHang","listKho","sumBillWait","listUnit","listVattu","banggia","itemDetail2","sendChungChi","isCreate","checkChungTuID","ChietKhauHD","ThanhToanHD","sumChietKhauTemp","sumTongTienTemp","title","typePage","itemDetail","check","indexItem","listBillWait","countProduct","sumThanhTien","sumTongTien","sumVAT","sumChietKhau","LoaiCTID","DienGiai","loainx","HTTT_name","loaiCTNow","pageParent","getDSTK","JSON","parse","localStorage","getItem","queryParams","subscribe","params","Type","countBillWait","getDSTKAndDetail","now","Date","year","getFullYear","hours","getHours","minute","getMinutes","toString","LoaiCT","typeChungTuObj","SoTK","ThoiDiem","toISOString","slice","convNumber","getTime","SoCT","getInitials","getLoaiCT","getUnit","$event","target","value","undefined","console","log","text","words","split","initials","map","word","charAt","toUpperCase","join","i","length","BangGia","LoaiNX","xuatam","XuatAm","getKho","response","listTaiKhoan","error","setTimeout","getChungTuDetail","TenKho","KhoXuat","MaKho","getVattu","khohang","GetListVT","number","MaVT","DVT","index","setItem","create","cssClass","componentProps","translucent","popover","present","onDidDismiss","then","dataReturned","data","DonGia","GiaBanLe","GiaBanSy","sumMoney","Intl","NumberFormat","format","replace","getTongTien","ThanhTien","SoLuong","ChietKhau","ChietKhau_Percent","VAT","VAT_Percent","print","setValue","xuatHangDetail","DVXuat","ThanhToan","_TenDVXuat","_TenKhoXuat","transform","String","item","openPrint","setChietHang","countMoney","detectChanges","push","NhapXuatID","TongTien","LoHang","HanDung","_TenVT","billDetail","type","Number","e","modal","MaDV","TenDV","foundVattu","find","o","TenVT","presentAlert","res","splice","arrBtn","icon","handler","buttons","actionSheet","role","kho_name","donvi_name","warningToast","LoaiTK","createImport","updateImport","createXuatHang","code","successToast","message","resetItem","getChungTuDetail2","stringify","errorToast","updateXuatHang","myDiv","document","getElementById","divContent","outerHTML","isAvailable","onsuccess","options","err","navigateBack","selector","template"],"mappings":"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","file":"xuatkho-xuathang-detail-xuathang-detail-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-buttons (click)=\\\"openBack()\\\" slot=\\\"start\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"font-size: 25px;\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title style=\\\"font-weight: 600;\\\"\\r\\n      [style]=\\\"typePage == 'create' && LoaiCTByBill.length > 1 && sumTongTien > 0 ? 'text-align: left' : 'text-align: center'\\\">\\r\\n      {{convertHelper.typeChungTu(sendItem.LoaiCTID) }}\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-item (click)=\\\"handleBillWait()\\\" *ngIf=\\\"typePage == 'create' && sumTongTien > 0\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"duplicate-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n      <ion-item (click)=\\\"openPrint()\\\" *ngIf=\\\"typePage == 'detail'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"print-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item (click)=\\\"handleEdit()\\\" *ngIf=\\\"typePage == 'detail'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"create-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n\\r\\n      <!-- <ion-item (click)=\\\"handleDetail()\\\" *ngIf=\\\"typePage == 'edit'\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\r\\n      </ion-item> -->\\r\\n      <ion-item *ngIf=\\\"(typePage == 'create' || typePage == 'edit') && LoaiCTByBill.length > 1\\\"\\r\\n        (click)=\\\"openTypeChungTu()\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"funnel-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n      <ion-item (click)=\\\"backListBill()\\\" lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"menu-outline\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <div class=\\\"synthetic\\\">\\r\\n\\r\\n    <div class=\\\"synthetic-item\\\" style=\\\"font-weight: 600; font-size: 16px; padding: 10px; border-top: 1px solid white;\\\">\\r\\n      <div class=\\\"synthetic-item-left\\\" style=\\\"display: flex; align-items: center; gap: 10px;\\\">\\r\\n        <ion-icon name=\\\"cloud-done-outline\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\r\\n        <span>{{kho}}</span>\\r\\n\\r\\n      </div>\\r\\n      <div *ngIf=\\\"typePage == 'create' || typePage == 'edit'\\\" (click)=\\\"openKho()\\\" class=\\\"synthetic-item-right\\\">\\r\\n        <ion-icon style=\\\"font-size: 24px;\\\" name=\\\"search-outline\\\"></ion-icon>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n  <div class=\\\"bill\\\">\\r\\n    <div class=\\\"bill-header \\\">\\r\\n      <ion-icon name=\\\"person-circle-outline\\\"></ion-icon>\\r\\n      Khách hàng\\r\\n      <ion-icon *ngIf=\\\"typePage == 'create' || typePage == 'edit'\\\" (click)=\\\"openUnit()\\\" class=\\\"bill-header-right\\\"\\r\\n        name=\\\"chevron-forward-outline\\\"></ion-icon>\\r\\n\\r\\n    </div>\\r\\n    <div *ngIf=\\\"donvi\\\" class=\\\"bill-item\\\">\\r\\n      {{donvi}}\\r\\n    </div>\\r\\n    <div *ngIf=\\\"submit && !donvi && sendItem.ThanhToan < sumTongTien\\\" class=\\\"bill-item text-err\\\">\\r\\n      Trường bắt buộc nhập\\r\\n    </div>\\r\\n    <div class=\\\"bill-header \\\">\\r\\n      <ion-icon name=\\\"menu-outline\\\"></ion-icon>\\r\\n      Hàng hóa\\r\\n\\r\\n      <ion-icon *ngIf=\\\"typePage == 'create' || typePage == 'edit'\\\" (click)=\\\"openVattu()\\\" class=\\\"bill-header-right\\\"\\r\\n        name=\\\"chevron-forward-outline\\\"></ion-icon>\\r\\n    </div>\\r\\n\\r\\n    <div>\\r\\n      <div *ngFor=\\\"let item of displayChiTietHang; index as i\\\" class=\\\"bill-content\\\"\\r\\n        [style.border-bottom]=\\\"i+1 == countProduct ? 'none' : '1px dashed var(--gray-light3)'\\\">\\r\\n        <div class=\\\"bill-content-header\\\">\\r\\n          <p>{{i+1}}. {{item._TenVT}} ({{item.MaVT}})</p>\\r\\n\\r\\n          <!-- <ion-icon (click)=\\\"handleRemove(item, i)\\\" name=\\\"trash-outline\\\"></ion-icon> -->\\r\\n          <ion-icon (click)=\\\"handleRemove(item, i)\\\" class=\\\"bill-content-right\\\" name=\\\"trash-outline\\\"></ion-icon>\\r\\n\\r\\n        </div>\\r\\n        <table>\\r\\n\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div class=\\\"flex-item\\\">\\r\\n\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  ĐVT:\\r\\n                </div>\\r\\n                <div class=\\\"bill-select-form\\\">\\r\\n                  <div (click)=\\\"handleDVT(sendItem.ChiTietHang[i].MaVT, sendItem.ChiTietHang[i].DVT, i)\\\">\\r\\n                    {{sendItem.ChiTietHang[i].DVT}}</div>\\r\\n                  <ion-icon name=\\\"chevron-down-outline\\\"></ion-icon>\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  Giá:\\r\\n                </div>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.DonGia\\\" (ngModelChange)=\\\"formatInput('DonGia', i)\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">SL:\\r\\n                </div>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.SoLuong\\\" (ngModelChange)=\\\"formatInput('SoLuong', i)\\\">\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">VAT:\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.VAT_Percent\\\" (ngModelChange)=\\\"setInput($event,'VAT_Percent', i)\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  C.K:\\r\\n                </div>\\r\\n\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.ChietKhau_Percent\\\"\\r\\n                  (ngModelChange)=\\\"setInput($event,'ChietKhau_Percent', i)\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div class=\\\"text-right flex-item\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  Lô:\\r\\n                </div>\\r\\n                <span class=\\\"input-disable\\\">{{sendItem.ChiTietHang[i].LoHang}}</span>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n\\r\\n          <tr>\\r\\n            <td class=\\\"pr-10\\\">\\r\\n              <div style=\\\"display: flex; align-items: center; gap: 4px;\\\">\\r\\n                <div class=\\\"title-width\\\">H.D:\\r\\n                </div>\\r\\n                <span class=\\\"input-disable\\\" style=\\\"font-weight: 400;\\\">{{sendItem.ChiTietHang[i].HanDung}}</span>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n\\r\\n            <td class=\\\"pl-10\\\">\\r\\n              <div style=\\\"display: flex; align-items: center; gap: 4px;\\\">\\r\\n                <div class=\\\"title-width\\\">\\r\\n                  Tiền:\\r\\n                </div>\\r\\n                <span class=\\\"input-disable\\\">{{item.TongTien | number}} </span>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n\\r\\n\\r\\n        </table>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"bill-header \\\">\\r\\n      <ion-icon name=\\\"reader-outline\\\"></ion-icon>\\r\\n      Thông tin thanh toán\\r\\n    </div>\\r\\n    <div class=\\\"bill-table\\\">\\r\\n      <table>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">T.Thành tiền</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumThanhTien | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">T.VAT</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumVAT | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">Chiết khấu HĐ</td>\\r\\n          <td class=\\\"text-right font-bold p-0\\\">\\r\\n            <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ChietKhau | number}} </div>\\r\\n            <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n              <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ChietKhauHD\\\"\\r\\n                (ngModelChange)=\\\"formatInputBill('ChietKhau', $event)\\\">\\r\\n\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">T.Chiết khấu</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumChietKhau | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">Đã thanh toán</td>\\r\\n          <td class=\\\"text-right font-bold p-0\\\">\\r\\n            <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ThanhToan | number}} </div>\\r\\n            <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n              <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ThanhToanHD\\\"\\r\\n                (ngModelChange)=\\\"formatInputBill('ThanhToan', $event)\\\">\\r\\n\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <tr style=\\\"border-bottom: none !important;\\\">\\r\\n          <td class=\\\"bill-table-left\\\">T.Tiền</td>\\r\\n          <td class=\\\"text-right font-bold\\\">\\r\\n            <div>\\r\\n              {{sumTongTien | number}}\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n        <!-- <tr>\\r\\n          <td class=\\\"bill-table-left\\\">HTTT</td>\\r\\n          <td class=\\\"text-right\\\">\\r\\n            <div style=\\\"display: flex; float: right;\\\">\\r\\n              <div *ngIf=\\\"typePage == 'detail'\\\"> {{HTTT_name}} </div>\\r\\n              <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"handleHTTT()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                {{HTTT_name}}\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n          </td>\\r\\n        </tr> -->\\r\\n        <tr>\\r\\n          <td class=\\\"bill-table-left\\\">HTTT</td>\\r\\n          <td class=\\\"text-right\\\">\\r\\n            <div style=\\\"display: flex; float: right;font-weight: bold;color: #000;\\\">\\r\\n              <ion-select interface=\\\"action-sheet\\\" placeholder=\\\"Chọn tài khoản\\\" (ionChange)=\\\"onSoTKChange($event)\\\"\\r\\n                [(ngModel)]=\\\"SoTK\\\">\\r\\n                <ion-select-option *ngFor=\\\"let item of listTaiKhoan\\\" value=\\\"{{item.SoTK}}\\\">\\r\\n                  {{item.TenTK}}\\r\\n                </ion-select-option>\\r\\n              </ion-select>\\r\\n            </div>\\r\\n\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  <!-- <div class=\\\"bill\\\" style=\\\"margin-top: 50px;\\\">\\r\\n    <div class=\\\"bill-product\\\">\\r\\n      <div class=\\\"bill-header bill-header-p13\\\">\\r\\n        <div class=\\\"bill-header-left\\\">\\r\\n          THÔNG TIN HÓA ĐƠN\\r\\n          <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-table\\\">\\r\\n        <table>\\r\\n          \\r\\n          <tr *ngIf=\\\"typePage != 'create'\\\">\\r\\n            <td class=\\\"bill-table-left\\\">Số chứng từ</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div>\\r\\n                {{itemDetail.SoCT}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Loại CT</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n                <div style=\\\"display: flex; float: right;\\\">\\r\\n                  <div *ngIf=\\\"typePage == 'detail'\\\"> {{convertHelper.typeChungTu(sendItem.LoaiCTID) }} </div>\\r\\n                  <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"openTypeChungTu()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                    {{convertHelper.typeChungTu(sendItem.LoaiCTID) }}\\r\\n                  </div>\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Khách hàng</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div *ngIf=\\\"typePage == 'detail'\\\"> {{donvi}} </div>\\r\\n                <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"openUnit()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                  {{donvi}}\\r\\n                  <ion-icon *ngIf=\\\"!donvi\\\" name=\\\"pencil-outline\\\"></ion-icon>\\r\\n\\r\\n                </div>\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n          </td>\\r\\n          </tr>\\r\\n          <tr style=\\\"border-top: none;\\\" *ngIf=\\\"submit && !donvi && sendItem.ThanhToan < sumTongTien\\\">\\r\\n            <td class=\\\"bill-table-left\\\" style=\\\"padding: 0 10px;\\\"></td>\\r\\n            <td class=\\\"text-right\\\" style=\\\"padding: 0 10px;\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div style=\\\"color: red;\\\">\\r\\n                  Trường bắt buộc nhập  \\r\\n\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Kho hàng</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div *ngIf=\\\"typePage == 'detail'\\\"> {{kho}} </div>\\r\\n                <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"openKho()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                  {{kho}}\\r\\n                  <ion-icon *ngIf=\\\"!kho\\\" name=\\\"pencil-outline\\\"></ion-icon>\\r\\n\\r\\n                </div>\\r\\n\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr *ngIf=\\\"typePage != 'create'\\\">\\r\\n            <td class=\\\"bill-table-left\\\">Thời gian</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div>\\r\\n                {{itemDetail.ThoiDiem | date:'dd/MM/yyyy HH:mm'}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n\\r\\n    \\r\\n\\r\\n      <div class=\\\"bill-header\\\" style=\\\"display: flex; align-items: center;\\\">\\r\\n        <div>\\r\\n          CHI TIẾT HÓA ĐƠN ({{countProduct}})\\r\\n        </div>\\r\\n        <ion-icon (click)=\\\"openVattu()\\\" *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" name=\\\"add-outline\\\"\\r\\n          style=\\\"margin-left: auto; font-size: 24px;  color: #2990f7;\\\"></ion-icon>\\r\\n\\r\\n      </div>\\r\\n      <div *ngIf=\\\"typePage == 'detail'\\\">\\r\\n\\r\\n        <div *ngFor=\\\"let item of itemDetail.ChiTietHang; index as i\\\" class=\\\"bill-item\\\">\\r\\n\\r\\n          <div class=\\\"bill-item-title\\\">\\r\\n            <p>{{i+1}}. {{item._TenVT}} - {{item.MaVT}}</p>\\r\\n          </div>\\r\\n          <table class=\\\"bill-table-content\\\">\\r\\n            <tr>\\r\\n              <td class=\\\"pr-20\\\">\\r\\n                <div>\\r\\n                  <span>ĐVT: </span> {{item.DVT}}\\r\\n                </div>\\r\\n\\r\\n              </td>\\r\\n              <td>\\r\\n                <span>Giá: </span>\\r\\n                {{item.DonGia | number}}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>SL: </span>\\r\\n                {{item.SoLuong | number}}\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td class=\\\" pr-20\\\">\\r\\n                <span>C.K: </span>\\r\\n                {{item.ChietKhau_Percent}}\\r\\n              </td>\\r\\n              <td>\\r\\n                <span>VAT(%): </span>\\r\\n                {{item.VAT_Percent}}\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>T.Tiền: </span>\\r\\n                {{item.TongTien | number}}\\r\\n              </td>\\r\\n\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td class=\\\" pr-20\\\">\\r\\n                <span>Lô hàng: </span>\\r\\n                {{item.LoHang}}\\r\\n              </td>\\r\\n              <td colspan=\\\"2\\\">\\r\\n                <span>Hạn dùng: </span>\\r\\n                {{item.HanDung | date:'dd/MM/yyyy'}}\\r\\n              </td>\\r\\n          \\r\\n\\r\\n            </tr>\\r\\n          </table>\\r\\n\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div *ngIf=\\\"typePage != 'detail'\\\">\\r\\n\\r\\n        <div *ngFor=\\\"let item of displayChiTietHang; index as i\\\" class=\\\"bill-item\\\">\\r\\n\\r\\n          <div class=\\\"bill-item-title\\\">\\r\\n            <p>{{i+1}}. {{item._TenVT}} - {{item.MaVT}}</p>\\r\\n            <ion-icon (click)=\\\"handleRemove(item, i)\\\" name=\\\"trash-outline\\\"></ion-icon>\\r\\n\\r\\n          </div>\\r\\n         \\r\\n          <table>\\r\\n\\r\\n            <tr>\\r\\n              <td class=\\\"bill-select\\\">\\r\\n                <span>ĐVT:&nbsp;</span>\\r\\n                <div class=\\\"bill-select-form\\\">\\r\\n                  <div  (click)=\\\"handleDVT(sendItem.ChiTietHang[i].MaVT, sendItem.ChiTietHang[i].DVT, i)\\\">{{sendItem.ChiTietHang[i].DVT}}</div>\\r\\n                  <ion-icon name=\\\"chevron-down-outline\\\"></ion-icon>\\r\\n                </div>\\r\\n\\r\\n              </td>\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>Đơn giá: </span>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.DonGia\\\" (ngModelChange)=\\\"formatInput('DonGia', i)\\\">\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>\\r\\n                <span>SL:&nbsp;&nbsp;&nbsp; </span>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"item.SoLuong\\\" (ngModelChange)=\\\"formatInput('SoLuong', i)\\\">\\r\\n              </td>\\r\\n\\r\\n              <td class=\\\"text-right\\\">\\r\\n                <span>VAT: </span>\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.VAT_Percent\\\" (ngModelChange)=\\\"setInput($event,'VAT_Percent', i)\\\">\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td>\\r\\n                <span>C.K: &nbsp;</span>\\r\\n                <input type=\\\"number\\\" [(ngModel)]=\\\"item.ChietKhau_Percent\\\"\\r\\n                (ngModelChange)=\\\"setInput($event,'ChietKhau_Percent', i)\\\">              \\r\\n              </td>\\r\\n\\r\\n              <td>\\r\\n                <div  style=\\\"display: flex; align-items: center; gap: 4px;\\\">\\r\\n                  <span style=\\\"margin-left: auto;\\\">Lô hàng: </span> \\r\\n                  <span class=\\\"input-disable\\\">{{sendItem.ChiTietHang[i].LoHang}}</span>\\r\\n                </div>\\r\\n              </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n              <td>\\r\\n                <div style=\\\"display: flex; align-items: center; gap: 4px;\\\">\\r\\n                  <span>H.D: </span>\\r\\n                  <span class=\\\"input-disable\\\">{{sendItem.ChiTietHang[i].HanDung}}</span>\\r\\n                </div>\\r\\n              </td>\\r\\n\\r\\n              <td class=\\\"text-center\\\" style=\\\"display: flex; float: right; padding-top: 5px;\\\">\\r\\n                <span>Tổng tiền:&nbsp;</span>\\r\\n                <div style=\\\"width: 100px; font-weight: 600;\\\">\\r\\n                  {{item.TongTien | number}}              \\r\\n\\r\\n                </div>\\r\\n              </td>\\r\\n            </tr>\\r\\n\\r\\n           \\r\\n          </table>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n\\r\\n      <div class=\\\"bill-header bill-header-p13\\\">\\r\\n        <div class=\\\"bill-header-left\\\">\\r\\n          THÔNG TIN THANH TOÁN\\r\\n          <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n        </div>\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"bill-table\\\">\\r\\n        <table>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Thành tiền</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumThanhTien | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.VAT</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumVAT | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Chiết khấu HĐ</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ChietKhau | number}} </div>\\r\\n              <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n                <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ChietKhauHD\\\" (ngModelChange)=\\\"formatInputBill('ChietKhau', $event)\\\">\\r\\n\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Chiết khấu</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumChietKhau | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">Đã thanh toán</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div *ngIf=\\\"typePage == 'detail'\\\"> {{itemDetail.ThanhToan | number}} </div>\\r\\n              <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" style=\\\"color: #006bc6;\\\">\\r\\n                <input class=\\\"input-no-border\\\" type=\\\"text\\\" [(ngModel)]=\\\"ThanhToanHD\\\" (ngModelChange)=\\\"formatInputBill('ThanhToan', $event)\\\">\\r\\n\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">T.Tiền</td>\\r\\n            <td class=\\\"text-right font-bold\\\">\\r\\n              <div>\\r\\n                {{sumTongTien | number}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td class=\\\"bill-table-left\\\">HTTT</td>\\r\\n            <td class=\\\"text-right\\\">\\r\\n              <div style=\\\"display: flex; float: right;\\\">\\r\\n                <div *ngIf=\\\"typePage == 'detail'\\\"> {{HTTT_name}} </div>\\r\\n                <div *ngIf=\\\"typePage == 'edit' || typePage == 'create'\\\" (click)=\\\"handleHTTT()\\\" style=\\\"color: #006bc6;\\\">\\r\\n                  {{HTTT_name}}\\r\\n                </div>\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div> -->\\r\\n\\r\\n  <div id=\\\"myDiv\\\" class=\\\"printBill\\\">\\r\\n    <app-print-bill [data]=\\\"itemDetail2\\\"></app-print-bill>\\r\\n  </div>\\r\\n</ion-content>\\r\\n<ion-footer *ngIf=\\\"typePage != 'detail'\\\">\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <div class=\\\"bill-footer\\\">\\r\\n      <table>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-bold\\\" style=\\\"font-weight: 600;\\\">T.Tiền cần trả</td>\\r\\n          <td class=\\\"text-right font-bold\\\" style=\\\"font-weight: 600;\\\">{{sumTongTien | number}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td class=\\\"bill-bold flex-item\\\" style=\\\"padding-bottom: 20px;\\\">\\r\\n            <input type=\\\"checkbox\\\" class=\\\"mr-5\\\" [(ngModel)]=\\\"checkToggle\\\" id=\\\"printBill\\\">\\r\\n            <label for=\\\"printBill\\\"> In hóa đơn</label>\\r\\n          </td>\\r\\n          <!-- <td class=\\\"text-right\\\">\\r\\n            <ion-toggle [(ngModel)]=\\\"checkToggle\\\" color=\\\"primary\\\"></ion-toggle>\\r\\n          </td> -->\\r\\n        </tr>\\r\\n\\r\\n      </table>\\r\\n\\r\\n\\r\\n\\r\\n      <div class=\\\"bill-btn\\\">\\r\\n\\r\\n        <div class=\\\"bill-btn-left\\\">\\r\\n          <div *ngIf=\\\"typePage == 'create' && sumBillWait > 0\\\" (click)=\\\"openBillWait()\\\" class=\\\"bill-btn-relative\\\">\\r\\n            <ion-icon name=\\\"receipt-outline\\\"></ion-icon>\\r\\n            <div>{{sumBillWait}}</div>\\r\\n          </div>\\r\\n          <button [class.w-full]=\\\"(typePage == 'create' && sumBillWait == 0) || typePage == 'edit'\\\"\\r\\n            [class.bg-gray-dark]=\\\"sumTongTien == 0\\\" (click)=\\\"confirmSubmit()\\\">LƯU HÓA ĐƠN</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-footer>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { XuathangDetailPage } from './xuathang-detail.page';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: XuathangDetailPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class XuathangDetailPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { XuathangDetailPageRoutingModule } from './xuathang-detail-routing.module';\r\n\r\nimport { PrintBillComponent } from 'src/app/share/print-bill/print-bill.component';\r\nimport { DVTComponent } from 'src/app/donvitinh/dvt/dvt.component';\r\nimport { XuathangDetailPage } from './xuathang-detail.page';\r\n// import { PrintBillComponent } from 'src/app/share/print-bill/print-bill.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    XuathangDetailPageRoutingModule\r\n  ],\r\n  declarations: [XuathangDetailPage, PrintBillComponent, DVTComponent]\r\n})\r\nexport class XuathangDetailPageModule {}\r\n","export default \".bill-header {\\n  padding: 10px 0 10px 10px;\\n  font-weight: 600;\\n  font-size: 16px;\\n  display: flex;\\n  align-items: center;\\n  background: #F1F3F4;\\n  border-bottom: 4px solid white;\\n}\\n.bill-header-right {\\n  margin-left: auto;\\n}\\n.bill-header ion-icon {\\n  font-size: 24px;\\n  margin-right: 8px;\\n}\\n.bill-item {\\n  padding: 10px;\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-item-right {\\n  margin-left: auto;\\n}\\n.bill-content {\\n  padding: 10px;\\n  border-bottom: 1px dashed var(--gray-light3);\\n}\\n.bill-content-header {\\n  display: flex;\\n  margin-bottom: 10px;\\n}\\n.bill-content-header div {\\n  font-weight: 600;\\n}\\n.bill-content ion-icon {\\n  font-size: 22px;\\n  color: red;\\n  margin-left: auto;\\n}\\n.bill-select {\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-select-form {\\n  position: relative;\\n  width: 100% !important;\\n}\\n.bill-select-form div {\\n  border: 1px solid #afafaf;\\n  background: #F5F5F5;\\n  border-radius: 5px;\\n  padding: 6px 10px;\\n}\\n.bill-select-form ion-icon {\\n  position: absolute;\\n  top: 8px;\\n  right: 2px;\\n  color: gray;\\n  font-size: 20px;\\n}\\n.bill-table {\\n  padding: 0 10px;\\n}\\n.bill-table tr {\\n  border-bottom: 1px dashed var(--gray-light3);\\n}\\n.bill-table td {\\n  padding: 10px 0;\\n}\\n.bill-table ion-icon {\\n  float: right;\\n  color: var(--primary-color);\\n  font-size: 18px;\\n  width: 30px;\\n}\\n.bill-table-content ion-icon {\\n  font-size: 24px;\\n  color: var(--primary-color);\\n}\\n.bill-table-left {\\n  font-weight: 500;\\n  width: 150px;\\n}\\n.bill-footer {\\n  padding: 6px;\\n}\\n.bill-footer button {\\n  color: white;\\n  background: var(--background-color);\\n  width: calc(100% - 60px);\\n  padding: 12px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  border-radius: 5px;\\n  margin-left: auto;\\n}\\n.bill-btn-left {\\n  display: flex;\\n  align-items: center;\\n}\\n.bill-btn-relative {\\n  position: absolute;\\n  width: 50px;\\n  height: 40px;\\n  background: #616161;\\n  /* height: 100%; */\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 5px;\\n  color: white;\\n}\\n.bill-btn-relative ion-icon {\\n  font-size: 18px;\\n}\\n.bill-btn-relative div {\\n  border-radius: 100vw;\\n  position: absolute;\\n  top: -4px;\\n  right: -7px;\\n  width: 20px;\\n  height: 20px;\\n  background: var(--background-color);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid white;\\n  font-size: 10px;\\n}\\ntable {\\n  width: 100%;\\n  table-layout: fixed;\\n}\\ntd {\\n  padding-bottom: 10px;\\n}\\ntd i {\\n  font-size: 18px;\\n}\\n.pr-20 {\\n  padding-right: 20px;\\n}\\n.pr-44 {\\n  padding-right: 44px !important;\\n}\\n.pr-15 {\\n  padding-right: 15px !important;\\n}\\n.pb-0 {\\n  padding-bottom: 0 !important;\\n}\\ninput[type=text],\\ninput[type=number],\\ninput[type=date] {\\n  width: 100%;\\n  border: 1px solid #afafaf;\\n  text-align: right;\\n  background: #F5F5F5;\\n  border-radius: 5px;\\n  padding: 6px 10px;\\n}\\n.input-disable {\\n  color: black !important;\\n  display: inline-block;\\n  text-align: right;\\n  width: 100%;\\n  border: 1px solid #b5b5b5;\\n  background: #e7e7e7;\\n  border-radius: 5px;\\n  padding: 6px 10px;\\n  min-height: 30px;\\n}\\n.input-no-border {\\n  text-align: right !important;\\n  border: none !important;\\n  padding: 6px 0px !important;\\n}\\nion-toggle {\\n  height: 26px;\\n  --handle-width: calc(28px - (2px * 2));\\n  --ion-color-base: var(--primary-color) !important;\\n}\\nion-footer {\\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\\n}\\np {\\n  margin-top: 0 !important;\\n  margin-bottom: 10px !important;\\n  font-weight: 600;\\n}\\ninput[type=checkbox] {\\n  zoom: 1.3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAveHVhdGtoby94dWF0aGFuZy1kZXRhaWwveHVhdGhhbmctZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHSTtFQUNJLHlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtBQUZSO0FBR1E7RUFDSSxpQkFBQTtBQURaO0FBSVE7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7QUFGWjtBQU1JO0VBQ0ksYUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQUpSO0FBTVE7RUFDSSxpQkFBQTtBQUpaO0FBUUk7RUFDSSxhQUFBO0VBQ0EsNENBQUE7QUFOUjtBQVFRO0VBQ0ksYUFBQTtFQUVBLG1CQUFBO0FBUFo7QUFTWTtFQUNJLGdCQUFBO0FBUGhCO0FBV1E7RUFDSSxlQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0FBVFo7QUFhSTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtBQVhSO0FBYVE7RUFDSSxrQkFBQTtFQUNBLHNCQUFBO0FBWFo7QUFhWTtFQUlJLHlCQUFBO0VBRUEsbUJBQUE7RUFHQSxrQkFBQTtFQUNBLGlCQUFBO0FBakJoQjtBQW9CWTtFQUNJLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQWxCaEI7QUF1Qkk7RUFDSSxlQUFBO0FBckJSO0FBdUJRO0VBQ0ksNENBQUE7QUFyQlo7QUF3QlE7RUFDSSxlQUFBO0FBdEJaO0FBMEJRO0VBQ0ksWUFBQTtFQUNBLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUF4Qlo7QUE0Qlk7RUFDSSxlQUFBO0VBQ0EsMkJBQUE7QUExQmhCO0FBOEJRO0VBQ0ksZ0JBQUE7RUFDQSxZQUFBO0FBNUJaO0FBaUNJO0VBQ0ksWUFBQTtBQS9CUjtBQWlDUTtFQUNJLFlBQUE7RUFDQSxtQ0FBQTtFQUNBLHdCQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUEvQlo7QUFxQ1E7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUFuQ1o7QUFzQ1E7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBcENaO0FBc0NZO0VBQ0ksZUFBQTtBQXBDaEI7QUF1Q1k7RUFDSSxvQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG1DQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSx1QkFBQTtFQUNBLGVBQUE7QUFyQ2hCO0FBZ09BO0VBQ0ksV0FBQTtFQUNBLG1CQUFBO0FBN05KO0FBZ09BO0VBQ0ksb0JBQUE7QUE3Tko7QUFtT0k7RUFDSSxlQUFBO0FBak9SO0FBcU9BO0VBQ0ksbUJBQUE7QUFsT0o7QUFxT0E7RUFDSSw4QkFBQTtBQWxPSjtBQXFPQTtFQUNJLDhCQUFBO0FBbE9KO0FBcU9BO0VBQ0ksNEJBQUE7QUFsT0o7QUFxT0E7OztFQU9JLFdBQUE7RUFDQSx5QkFBQTtFQUVBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBdk9KO0FBMk9BO0VBQ0ksdUJBQUE7RUFDQSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUF4T0o7QUEyT0E7RUFDSSw0QkFBQTtFQUNBLHVCQUFBO0VBQ0EsMkJBQUE7QUF4T0o7QUEyT0E7RUFDSSxZQUFBO0VBQ0Esc0NBQUE7RUFDQSxpREFBQTtBQXhPSjtBQTJPQTtFQUNJLHFGQUFBO0FBeE9KO0FBNE9BO0VBQ0ksd0JBQUE7RUFDQSw4QkFBQTtFQUNBLGdCQUFBO0FBek9KO0FBNk9BO0VBQ0ksU0FBQTtBQTFPSiIsImZpbGUiOiJzcmMvYXBwL3h1YXRraG8veHVhdGhhbmctZGV0YWlsL3h1YXRoYW5nLWRldGFpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmlsbCB7XHJcbiAgICAvLyBiYWNrZ3JvdW5kOiAjRjFGM0Y0O1xyXG5cclxuICAgICYtaGVhZGVyIHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4IDAgMTBweCAxMHB4O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjRjFGM0Y0O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCB3aGl0ZTtcclxuICAgICAgICAmLXJpZ2h0IHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYtaXRlbSB7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgICAgICYtcmlnaHQge1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1jb250ZW50IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgdmFyKC0tZ3JheS1saWdodDMpO1xyXG5cclxuICAgICAgICAmLWhlYWRlciB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIC8vIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcblxyXG4gICAgICAgICAgICBkaXYge1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmLXNlbGVjdCB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgICAgICAmLWZvcm0ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcblxyXG4gICAgICAgICAgICBkaXYge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICAvLyBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNhZmFmYWY7XHJcbiAgICAgICAgICAgICAgICAvLyB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRjVGNUY1O1xyXG4gICAgICAgICAgICAgICAgLy8gdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgLy8gYmFja2dyb3VuZDogI2NhZWVmZjtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDZweCAxMHB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDhweDtcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAycHg7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogZ3JheTtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmLXRhYmxlIHtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcblxyXG4gICAgICAgIHRyIHtcclxuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCB2YXIoLS1ncmF5LWxpZ2h0Myk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0ZCB7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMDtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIGZsb2F0OiByaWdodDtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi1jb250ZW50IHtcclxuICAgICAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLWxlZnQge1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgICAgICB3aWR0aDogMTUwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICYtZm9vdGVyIHtcclxuICAgICAgICBwYWRkaW5nOiA2cHg7XHJcblxyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbiAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA2MHB4KTtcclxuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1idG4ge1xyXG4gICAgICAgICYtbGVmdCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLXJlbGF0aXZlIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjNjE2MTYxO1xyXG4gICAgICAgICAgICAvKiBoZWlnaHQ6IDEwMCU7ICovXHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuXHJcbiAgICAgICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGl2IHtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMHZ3O1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgdG9wOiAtNHB4O1xyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IC03cHg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMjBweDtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMjBweDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgICAgIFxyXG59XHJcblxyXG5cclxuXHJcblxyXG4vLyAuYmlsbCB7XHJcbi8vICAgICBiYWNrZ3JvdW5kOiAjRjFGM0Y0O1xyXG4vLyAgICAgJi1oZWFkZXIge1xyXG4vLyAgICAgICAgIGJhY2tncm91bmQ6ICNlOWU5ZTk7XHJcbi8vICAgICAgICAgcGFkZGluZzogMTBweDtcclxuLy8gICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4vLyAgICAgICAgIGdhcDogOHB4O1xyXG4vLyAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbi8vICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4vLyAgICAgICAgIGNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcclxuXHJcbi8vICAgICAgICAgJi1wMTMge1xyXG4vLyAgICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgJi1sZWZ0IHtcclxuLy8gICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuLy8gICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuLy8gICAgICAgICAgICAgZ2FwOiA1cHg7XHJcblxyXG4vLyAgICAgICAgICAgICBpb24taWNvbiB7XHJcbi8vICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1pdGVtIHtcclxuLy8gICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4vLyAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDdkN2Q3O1xyXG5cclxuLy8gICAgICAgICAmLXRpdGxlIHtcclxuLy8gICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuLy8gICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuLy8gICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweCAhaW1wb3J0YW50O1xyXG5cclxuLy8gICAgICAgICAgICAgcCB7XHJcbi8vICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbi8vICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4vLyAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBpb24taWNvbiB7XHJcbi8vICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuLy8gICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuLy8gICAgICAgICAgICAgICAgIGNvbG9yOiAjZGQwMDAwO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgICYtdGFibGUge1xyXG4vLyAgICAgICAgIHBhZGRpbmc6IDAgMTBweDtcclxuXHJcbi8vICAgICAgICAgdHIge1xyXG4vLyAgICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2Q3ZDdkNztcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRkIHtcclxuLy8gICAgICAgICAgICAgcGFkZGluZzogMTBweCAwO1xyXG5cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIGlvbi1pY29uIHtcclxuLy8gICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0O1xyXG4vLyAgICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbi8vICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuLy8gICAgICAgICAgICAgd2lkdGg6IDMwcHg7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAmLWNvbnRlbnQge1xyXG4vLyAgICAgICAgICAgICBpb24taWNvbiB7XHJcbi8vICAgICAgICAgICAgICAgICBmb250LXNpemU6IDI0cHg7XHJcbi8vICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICYtbGVmdCB7XHJcbi8vICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbi8vICAgICAgICAgICAgIHdpZHRoOiAxNTBweDtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG4vLyAgICAgJi1mb290ZXIge1xyXG4vLyAgICAgICAgIHBhZGRpbmc6IDZweDtcclxuXHJcbi8vICAgICAgICAgYnV0dG9uIHtcclxuLy8gICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4vLyAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcclxuLy8gICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDYwcHgpO1xyXG4vLyAgICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xyXG4vLyAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbi8vICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbi8vICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuLy8gICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcblxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAmLWJ0biB7XHJcbi8vICAgICAgICAgJi1sZWZ0IHtcclxuLy8gICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuLy8gICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICYtcmVsYXRpdmUge1xyXG4vLyAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbi8vICAgICAgICAgICAgIHdpZHRoOiA1MHB4O1xyXG4vLyAgICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbi8vICAgICAgICAgICAgIGJhY2tncm91bmQ6ICM2MTYxNjE7XHJcbi8vICAgICAgICAgICAgIC8qIGhlaWdodDogMTAwJTsgKi9cclxuLy8gICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuLy8gICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuLy8gICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbi8vICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuLy8gICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG5cclxuLy8gICAgICAgICAgICAgaW9uLWljb24ge1xyXG4vLyAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4vLyAgICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgICBkaXYge1xyXG4vLyAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwdnc7XHJcbi8vICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbi8vICAgICAgICAgICAgICAgICB0b3A6IC00cHg7XHJcbi8vICAgICAgICAgICAgICAgICByaWdodDogLTdweDtcclxuLy8gICAgICAgICAgICAgICAgIHdpZHRoOiAyMHB4O1xyXG4vLyAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4vLyAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbi8vICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4vLyAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuLy8gICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4vLyAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcbi8vICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcblxyXG5cclxuLy8gICAgICYtYm9sZCB7XHJcbi8vICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICAmLXJpZ2h0IHtcclxuLy8gICAgICAgICB0ZXh0LWFsaWduOiByaWdodDtcclxuLy8gICAgIH1cclxuXHJcblxyXG4vLyAgICAgJi1zZWxlY3Qge1xyXG4vLyAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbi8vICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbi8vICAgICAgICAgJi1mb3JtIHtcclxuLy8gICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG5cclxuLy8gICAgICAgICAgICAgZGl2IHtcclxuXHJcbi8vICAgICAgICAgICAgICAgICB3aWR0aDogMTA1cHg7XHJcbi8vICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcclxuLy8gICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuLy8gICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICNjYWVlZmY7XHJcbi8vICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbi8vICAgICAgICAgICAgICAgICBwYWRkaW5nOiA2cHggMDtcclxuLy8gICAgICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICAgICAgaW9uLWljb24ge1xyXG4vLyAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4vLyAgICAgICAgICAgICAgICAgdG9wOiA4cHg7XHJcbi8vICAgICAgICAgICAgICAgICByaWdodDogMnB4O1xyXG4vLyAgICAgICAgICAgICAgICAgY29sb3I6IGdyYXk7XHJcbi8vICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG5cclxuLy8gICAgIH1cclxuXHJcbi8vIH1cclxuXHJcbnRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgdGFibGUtbGF5b3V0OiBmaXhlZDtcclxufVxyXG5cclxudGQge1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcblxyXG4gICAgLy8gc3BhbiB7XHJcbiAgICAvLyAgICAgY29sb3I6IGdyYXk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgaSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4ucHItMjAge1xyXG4gICAgcGFkZGluZy1yaWdodDogMjBweDtcclxufVxyXG5cclxuLnByLTQ0IHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDQ0cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLnByLTE1IHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDE1cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLnBiLTAge1xyXG4gICAgcGFkZGluZy1ib3R0b206IDAgIWltcG9ydGFudDtcclxufVxyXG5cclxuaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcbmlucHV0W3R5cGU9XCJudW1iZXJcIl0sXHJcbmlucHV0W3R5cGU9XCJkYXRlXCJdIHtcclxuICAgIC8vIHdpZHRoOiAxMDBweDtcclxuICAgIC8vIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgLy8gYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgLy8gdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYWZhZmFmO1xyXG4gICAgLy8gdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgICBiYWNrZ3JvdW5kOiAjRjVGNUY1O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgcGFkZGluZzogNnB4IDEwcHg7XHJcbn1cclxuXHJcblxyXG4uaW5wdXQtZGlzYWJsZSB7XHJcbiAgICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYjViNWI1O1xyXG4gICAgYmFja2dyb3VuZDogI2U3ZTdlNztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDZweCAxMHB4O1xyXG4gICAgbWluLWhlaWdodDogMzBweDtcclxufVxyXG5cclxuLmlucHV0LW5vLWJvcmRlciB7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodCAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XHJcbiAgICBwYWRkaW5nOiA2cHggMHB4ICFpbXBvcnRhbnQ7IFxyXG59XHJcblxyXG5pb24tdG9nZ2xlIHtcclxuICAgIGhlaWdodDogMjZweDtcclxuICAgIC0taGFuZGxlLXdpZHRoOiBjYWxjKDI4cHggLSAoMnB4ICogMikpO1xyXG4gICAgLS1pb24tY29sb3ItYmFzZTogdmFyKC0tcHJpbWFyeS1jb2xvcikgIWltcG9ydGFudDtcclxufVxyXG5cclxuaW9uLWZvb3RlciB7XHJcbiAgICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMDUpIDBweCA2cHggMjRweCAwcHgsIHJnYmEoMCwgMCwgMCwgMC4wOCkgMHB4IDBweCAwcHggMXB4O1xyXG4gICAgLy8gYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkOWQ1ZDU7XHJcbn1cclxuXHJcbnAge1xyXG4gICAgbWFyZ2luLXRvcDogMCAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweCAhaW1wb3J0YW50O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuXHJcbmlucHV0W3R5cGU9XCJjaGVja2JveFwiXSB7XHJcbiAgICB6b29tOiAxLjM7XHJcbn0iXX0= */\";","import { CurrencyPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PrintOptions, Printer } from '@ionic-native/printer/ngx';\r\nimport { ActionSheetController, ModalController, NavController, PopoverController, ToastController } from '@ionic/angular';\r\nimport { BillWaitPage } from 'src/app/bill/bill-wait/bill-wait.page';\r\nimport { DonviIndexPage } from 'src/app/donvi/donvi-index/donvi-index.page';\r\nimport { FunctionService } from 'src/app/function.service';\r\nimport { KhoIndexPage } from 'src/app/kho/kho-index/kho-index.page';\r\nimport { AlertService } from 'src/app/service/AlertService';\r\nimport { KhoService } from 'src/app/service/kho.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { ToastService } from 'src/app/service/toastService';\r\nimport { UnitService } from 'src/app/service/unit.service';\r\nimport { VattuService } from 'src/app/service/vattu.service';\r\nimport { XuatkhoService } from 'src/app/service/xuatkho.service';\r\nimport { DVTComponent } from 'src/app/donvitinh/dvt/dvt.component';\r\nimport { VattuIndexPage } from 'src/app/vattu/vattu-index/vattu-index.page';\r\nimport { convertHelper } from 'src/app/share/helper';\r\n@Component({\r\n  selector: 'app-xuathang-detail',\r\n  templateUrl: './xuathang-detail.page.html',\r\n  styleUrls: ['./xuathang-detail.page.scss'],\r\n})\r\nexport class XuathangDetailPage implements OnInit {\r\n  chungchi: any = {\r\n    ChungTuID: '',\r\n    nam_du_lieu: ''\r\n  };\r\n  donvi: string = '';\r\n  submit: boolean = false;\r\n  kho: string = '';\r\n  HTTT: string = 'TM';\r\n  sendItem: any = {\r\n    \"DVXuat\": \"\",\r\n    \"KhoXuat\": \"\",\r\n    \"nam_du_lieu\": \"\",\r\n    \"LoaiCTID\": 2,\r\n    \"ChungTuID\": 0,\r\n    \"BanTheoDon\": false,\r\n    \"SoCT\": \"\",\r\n    \"ThoiDiem\": \"\",\r\n    \"DienGiai\": \"\",\r\n    \"ChietKhau\": 0,\r\n    \"ThanhToan\": 0,\r\n    \"SoTK\": \"\",\r\n    \"ChiTietHang\": []\r\n  }\r\n  loaiCT_name: string = '';\r\n  LoaiCTByBill: any = [];\r\n\r\n  ChiTietHang = {\r\n    \"NhapXuatID\": 0,\r\n    \"MaVT\": \"\",\r\n    \"DVT\": \"\",\r\n    \"SoLuong\": 0,\r\n    \"DonGia\": 0,\r\n    \"GiaBanLe\": 0,\r\n    \"GiaBanSy\": 0,\r\n    \"ThanhTien\": 0,\r\n    \"VAT_Percent\": 0,\r\n    \"VAT\": 0,\r\n    \"ChietKhau_Percent\": 0,\r\n    \"ChietKhau\": 0,\r\n    \"TongTien\": 0,\r\n    \"LoHang\": \"\",\r\n    \"HanDung\": \"\"\r\n  }\r\n\r\n  sendVattu = {\r\n    \"loainx\": \"''\",\r\n    \"khohang\": \"\",\r\n    \"xuatam\": 0,\r\n    \"banggia\": \"\"\r\n  }\r\n  checkToggle: boolean = false;\r\n  displayChiTietHang: any = [];\r\n  listKho: any = [];\r\n  sumBillWait: number = 0;\r\n  listUnit: any = [];\r\n  listVattu: any = [];\r\n  listTaiKhoan: Array<{ Id: number, LoaiTK: string, SoTK: string, TenTK: string, }>;\r\n  banggia: any = [];\r\n  itemDetail2: any = [];\r\n  sendChungChi: any = {\r\n    isCreate: false,\r\n    ChungTuID: '',\r\n    nam_du_lieu: ''\r\n  };\r\n  checkChungTuID: number = 0;\r\n  ChietKhauHD: string = '0';\r\n  ThanhToanHD: string = '0';\r\n  sumChietKhauTemp = 0;\r\n  sumTongTienTemp = 0;\r\n  title: string = '';\r\n  typePage: string = '';\r\n  itemDetail: any = [];\r\n  check: boolean = false;\r\n  indexItem: boolean[] = [];\r\n  listBillWait: any = [];\r\n  countProduct: number = 0;\r\n  sumThanhTien: number = 0;\r\n  sumTongTien: number = 0;\r\n  sumVAT: number = 0;\r\n  sumChietKhau: number = 0;\r\n  // sumThanhToan: number = 0;\r\n  LoaiCTID: number = 0;\r\n  xuatam: any;\r\n  DienGiai: string = '';\r\n  loainx: string = '';\r\n  HTTT_name: string = 'Tiền mặt';\r\n  SoTK: string;\r\n\r\n  loaiCTNow: any = {};\r\n  pageParent: string = '';\r\n  constructor(\r\n    private ToastService: ToastService,\r\n    public FunctionService: FunctionService,\r\n    public popoverController: PopoverController,\r\n    public router: Router,\r\n    public toastController: ToastController,\r\n    private modalController: ModalController,\r\n    private XuatkhoService: XuatkhoService,\r\n    private AlertService: AlertService,\r\n    private navController: NavController,\r\n    private LoadingService: LoadingService,\r\n    private route: ActivatedRoute,\r\n    private printer: Printer,\r\n    private currencyPipe: CurrencyPipe,\r\n    private KhoService: KhoService,\r\n    private cdr: ChangeDetectorRef,\r\n    private actionSheetController: ActionSheetController,\r\n    private UnitService: UnitService,\r\n    private VattuService: VattuService,\r\n    public convertHelper: convertHelper\r\n\r\n  ) {\r\n    this.getDSTK();\r\n\r\n    this.listBillWait = JSON.parse(localStorage.getItem('billWaitXuatHang') || '[]');\r\n\r\n    this.route.queryParams.subscribe(params => {\r\n      this.chungchi.ChungTuID = params.ChungTuID;\r\n      this.chungchi.nam_du_lieu = params.nam_du_lieu;\r\n      this.sendChungChi.ChungTuID = params.ChungTuID;\r\n      this.sendChungChi.nam_du_lieu = params.nam_du_lieu;\r\n      this.LoaiCTID = params.LoaiCTID;\r\n      this.DienGiai = params.DienGiai;\r\n      this.typePage = params.Type;\r\n      this.pageParent = params.pageParent;\r\n      this.title = params.Type == 'detail' ? 'Chi tiết' : params.Type == 'create' ? 'Thêm' : 'Sửa';\r\n      this.countBillWait();\r\n      \r\n      if (this.typePage == 'detail' || this.typePage == 'edit') {\r\n        this.getDSTKAndDetail();\r\n      } else {\r\n        var now = new Date();\r\n        var year = now.getFullYear();\r\n        var hours = now.getHours();\r\n        var minute = now.getMinutes();\r\n        this.sendItem.nam_du_lieu = year.toString();\r\n        var LoaiCT = JSON.parse(localStorage.getItem('loaiBanle') || '[]');\r\n\r\n        if (params.LoaiCTID) {\r\n          this.loaiCTNow = this.convertHelper.typeChungTuObj(params.LoaiCTID);\r\n          // this.loaiCT_name = this.loaiCTNow.DienGiai;\r\n          this.sendItem.LoaiCTID = this.loaiCTNow.LoaiCTID;\r\n        } else {\r\n          this.loaiCTNow = LoaiCT[0];\r\n          this.sendItem.LoaiCTID = LoaiCT[0].LoaiCTID;\r\n        }\r\n\r\n        this.sendItem.SoTK = this.SoTK;\r\n        this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n        this.sendItem.ChungTuID = new Date().getTime();\r\n        this.sendItem.SoCT = `${this.getInitials(this.loaiCTNow.DienGiai)}${this.sendItem.ChungTuID}`;\r\n        this.chungchi.ChungTuID = this.sendItem.ChungTuID;\r\n        this.chungchi.nam_du_lieu = year.toString();\r\n        this.getLoaiCT();\r\n\r\n      }\r\n      this.getUnit();\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getDSTK();\r\n  }\r\n\r\n  onSoTKChange($event) {\r\n    this.SoTK = \"111\";\r\n    if ($event.target.value == undefined) {\r\n      this.SoTK = \"111\";\r\n    }\r\n    else {\r\n      this.SoTK = $event.target.value;\r\n      console.log(\"197\", this.SoTK);\r\n      this.sendItem.SoTK = this.SoTK;\r\n    }\r\n  }\r\n\r\n  getInitials(text) {\r\n    const words = text.split(' ');\r\n    const initials = words.map(word => word.charAt(0).toUpperCase());\r\n    return initials.join('');\r\n  }\r\n\r\n  getLoaiCT() {\r\n    this.LoaiCTByBill = JSON.parse(localStorage.getItem('loaiBanle') || '[]');\r\n    for (let i = 0; i < this.LoaiCTByBill.length; i++) {\r\n\r\n      if (this.LoaiCTByBill[i].LoaiCTID == this.sendItem.LoaiCTID) {\r\n        this.loaiCTNow = this.LoaiCTByBill[i];\r\n        // this.loaiCT_name = this.LoaiCTByBill[i].DienGiai;\r\n        this.banggia = this.LoaiCTByBill[i].BangGia;\r\n        this.loainx = this.LoaiCTByBill[i].LoaiNX;\r\n        this.xuatam = this.LoaiCTByBill[i].XuatAm;\r\n        break;\r\n      }\r\n    }\r\n    this.getKho();\r\n\r\n  }\r\n\r\n  getDSTK()//Lấy danh sách tài khoản\r\n  {\r\n    this.FunctionService.getDSTK().subscribe((response: any) => {\r\n      this.listTaiKhoan = response;\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n  getDSTKAndDetail()//Lấy danh sách tài khoản\r\n  {\r\n    this.FunctionService.getDSTK().subscribe((response: any) => {\r\n      this.listTaiKhoan = response;\r\n      this.getChungTuDetail();\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n  getKho() {\r\n\r\n    this.KhoService.getKho().subscribe((response: any) => {\r\n      this.listKho = response;\r\n      if (this.typePage == 'create') {\r\n        // this.makho = response[0].MaKho;\r\n        this.kho = response[0].TenKho;\r\n        // this.sendItem.KhoXuat = response[0].MaKho;\r\n        this.sendItem.KhoXuat = response[0].MaKho;\r\n      }\r\n\r\n      this.getVattu();\r\n\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getUnit() {\r\n    this.UnitService.getUnit().subscribe((response: any) => {\r\n      this.listUnit = response;\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  getVattu() {\r\n    this.sendVattu.loainx = this.loainx;\r\n    this.sendVattu.banggia = this.banggia;\r\n    this.sendVattu.khohang = this.sendItem.KhoXuat;\r\n    this.sendVattu.xuatam = this.xuatam ? 1 : 0;\r\n\r\n    this.VattuService.GetListVT(this.sendVattu).subscribe((response: any) => {\r\n      // console.log('llllllllllll', response);\r\n\r\n      this.listVattu = response;\r\n    }, (error) => {\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  convNumber(number) {\r\n    return number < 10 ? '0' + number : number;\r\n  }\r\n\r\n\r\n  async handleDVT(MaVT, DVT, index) {\r\n    localStorage.setItem(\"InOutType\", \"X\");\r\n    const popover = await this.popoverController.create({\r\n      component: DVTComponent,\r\n      cssClass: 'popup-cont-info',\r\n      componentProps: {\r\n        \"MaVT\": MaVT,\r\n        \"DVT\": DVT\r\n      },\r\n      translucent: true,\r\n\r\n    });\r\n    await popover.present();\r\n\r\n    popover.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned.data) {\r\n        this.sendItem.ChiTietHang[index].DVT = dataReturned.data.DVT;\r\n        this.sendItem.ChiTietHang[index].DonGia = dataReturned.data.GiaBanLe;\r\n        this.sendItem.ChiTietHang[index].GiaBanLe = dataReturned.data.GiaBanLe;\r\n        this.sendItem.ChiTietHang[index].GiaBanSy = dataReturned.data.GiaBanSy;\r\n        this.sumMoney(index);\r\n        this.displayChiTietHang[index].DonGia = new Intl.NumberFormat().format(dataReturned.data.GiaBanLe).replace(/\\./g, ',');\r\n        this.getTongTien(index);\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  sumMoney(index) {\r\n    this.sendItem.ChiTietHang[index].ThanhTien = this.sendItem.ChiTietHang[index].SoLuong * this.sendItem.ChiTietHang[index].DonGia;\r\n    this.sendItem.ChiTietHang[index].ChietKhau = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].ChietKhau_Percent / 100;\r\n    this.sendItem.ChiTietHang[index].VAT = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].VAT_Percent / 100;\r\n  }\r\n\r\n  handleEdit() {\r\n    this.typePage = 'edit';\r\n  }\r\n\r\n  handleDetail() {\r\n    this.typePage = 'detail';\r\n  }\r\n\r\n  getChungTuDetail(print?) {\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.xuatHangDetail(this.chungchi).subscribe((response: any) => {\r\n      this.itemDetail = response[0];\r\n      console.log(this.itemDetail);\r\n      this.itemDetail2 = response[0];\r\n\r\n      this.countProduct = response[0].ChiTietHang.length;\r\n\r\n      // this.sendItem.BanTheoDon = response[0].BanTheoDon;\r\n      this.sendItem.ChungTuID = response[0].ChungTuID;\r\n\r\n      this.sendItem.LoaiCTID = response[0].LoaiCTID;\r\n      this.sendItem.SoCT = response[0].SoCT;\r\n      this.sendItem.ThoiDiem = response[0].ThoiDiem;\r\n      this.sendItem.nam_du_lieu = this.chungchi.nam_du_lieu;\r\n\r\n      this.sendItem.DVXuat = response[0].DVXuat;\r\n      this.sendItem.KhoXuat = response[0].KhoXuat;\r\n      this.sendItem.ChietKhau = response[0].ChietKhau;\r\n      this.sendItem.ThanhToan = response[0].ThanhToan;\r\n\r\n      this.donvi = response[0]._TenDVXuat;\r\n      this.kho = response[0]._TenKhoXuat;\r\n      this.HTTT_name = response[0].ChiTietHang[0].HTTT == 'CK' ? 'Chuyển khoản' : 'Tiền mặt';\r\n      this.ChietKhauHD = this.currencyPipe.transform(String(response[0].ChietKhau).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n     \r\n      try{\r\n        for (let i = 0; i <= this.listTaiKhoan.length; i++) {\r\n          let item = this.listTaiKhoan[i];\r\n          \r\n          if (item != undefined) {\r\n            if (item.SoTK == response[0].SoTK) {\r\n              this.SoTK = item.SoTK;\r\n            }\r\n          }\r\n  \r\n        }\r\n      }\r\n      catch{}\r\n\r\n      if (print) {\r\n        setTimeout(() => {\r\n          this.LoadingService.setValue(false);\r\n          this.openPrint();\r\n        }, 3000);\r\n      } else {\r\n        this.LoadingService.setValue(false);\r\n      }\r\n      this.getLoaiCT();\r\n      this.setChietHang();\r\n      this.countMoney(response[0]);\r\n    }, (error) => {\r\n      console.log('error', error);\r\n      this.LoadingService.setValue(false);\r\n\r\n    });\r\n  }\r\n\r\n  getChungTuDetail2() {\r\n    // this.LoadingService.setValue(true);\r\n    this.XuatkhoService.xuatHangDetail(this.chungchi).subscribe((response: any) => {\r\n\r\n      this.itemDetail2 = response[0];\r\n      this.cdr.detectChanges();\r\n\r\n      setTimeout(() => {\r\n        this.LoadingService.setValue(false);\r\n        this.openPrint();\r\n      }, 3000);\r\n\r\n    }, (error) => {\r\n      console.log('error', error);\r\n      this.LoadingService.setValue(false);\r\n    });\r\n  }\r\n\r\n\r\n  setChietHang() {\r\n    this.sendItem.ChiTietHang = [];\r\n    this.displayChiTietHang = [];\r\n\r\n    for (let i = 0; i < this.itemDetail.ChiTietHang.length; i++) {\r\n      this.sendItem.ChiTietHang.push({\r\n        \"NhapXuatID\": this.itemDetail.ChiTietHang[i].NhapXuatID,\r\n        \"MaVT\": this.itemDetail.ChiTietHang[i].MaVT,\r\n        \"DVT\": this.itemDetail.ChiTietHang[i].DVT,\r\n        \"SoLuong\": this.itemDetail.ChiTietHang[i].SoLuong,\r\n        \"DonGia\": this.itemDetail.ChiTietHang[i].DonGia,\r\n        \"GiaBanLe\": this.itemDetail.ChiTietHang[i].GiaBanLe ? this.itemDetail.ChiTietHang[i].GiaBanLe : 0,\r\n        \"GiaBanSy\": this.itemDetail.ChiTietHang[i].GiaBanSy ? this.itemDetail.ChiTietHang[i].GiaBanSy : 0,\r\n        \"ThanhTien\": this.itemDetail.ChiTietHang[i].ThanhTien,\r\n        \"VAT_Percent\": this.itemDetail.ChiTietHang[i].VAT_Percent,\r\n        \"VAT\": this.itemDetail.ChiTietHang[i].VAT,\r\n        \"ChietKhau_Percent\": this.itemDetail.ChiTietHang[i].ChietKhau_Percent,\r\n        \"ChietKhau\": this.itemDetail.ChiTietHang[i].ChietKhau,\r\n        \"TongTien\": this.itemDetail.ChiTietHang[i].TongTien,\r\n        \"HTTT\": this.itemDetail.ChiTietHang[i].HTTT ? this.itemDetail.ChiTietHang[i].HTTT : '',\r\n        \"LoHang\": this.itemDetail.ChiTietHang[i].LoHang ? this.itemDetail.ChiTietHang[i].LoHang : '',\r\n        \"HanDung\": this.itemDetail.ChiTietHang[i].HanDung ? this.itemDetail.ChiTietHang[i].HanDung : ''\r\n      })\r\n\r\n      this.displayChiTietHang.push({\r\n        \"_TenVT\": this.itemDetail.ChiTietHang[i]._TenVT,\r\n        \"MaVT\": this.itemDetail.ChiTietHang[i].MaVT,\r\n        \"DVT\": this.itemDetail.ChiTietHang[i].DVT,\r\n        'DonGia': this.itemDetail.ChiTietHang[i].DonGia ? new Intl.NumberFormat().format(this.itemDetail.ChiTietHang[i].DonGia).replace(/\\./g, ',') : '0',\r\n        'SoLuong': new Intl.NumberFormat().format(this.itemDetail.ChiTietHang[i].SoLuong).replace(/\\./g, ','),\r\n        \"ChietKhau_Percent\": this.itemDetail.ChiTietHang[i].ChietKhau_Percent,\r\n        \"VAT_Percent\": this.itemDetail.ChiTietHang[i].VAT_Percent,\r\n        \"TongTien\": this.itemDetail.ChiTietHang[i].TongTien,\r\n      })\r\n    }\r\n  }\r\n\r\n  countMoney(billDetail) {\r\n    this.sumThanhTien = 0;\r\n    this.sumTongTien = 0;\r\n    this.sumVAT = 0;\r\n    this.sumChietKhau = 0;\r\n    this.sumChietKhauTemp = 0;\r\n    // this.sumThanhToan = 0;\r\n    if (this.typePage != 'create') {\r\n      this.sumChietKhau = this.itemDetail.ChietKhau ? this.itemDetail.ChietKhau : 0;\r\n    }\r\n    for (let i = 0; i < billDetail.ChiTietHang.length; i++) {\r\n\r\n      this.sumThanhTien = this.sumThanhTien + billDetail.ChiTietHang[i].ThanhTien;\r\n      this.sumTongTien = this.sumTongTien + billDetail.ChiTietHang[i].TongTien;\r\n      this.sumVAT = this.sumVAT + billDetail.ChiTietHang[i].VAT;\r\n      this.sumChietKhauTemp = this.sumChietKhauTemp + billDetail.ChiTietHang[i].ChietKhau;\r\n      // this.sumChietKhauTemp = this.sumChietKhau + billDetail.ChiTietHang[i].ChietKhau;\r\n\r\n    }\r\n    this.sumChietKhau = this.sumChietKhauTemp + billDetail.ChietKhau;\r\n    this.sumTongTien -= billDetail.ChietKhau;\r\n\r\n    if (this.typePage == 'create') {\r\n      this.sendItem.ThanhToan = this.sumTongTien;\r\n      this.ThanhToanHD = this.currencyPipe.transform(String(this.sumTongTien).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n    } else {\r\n      this.ThanhToanHD = this.currencyPipe.transform(String(this.sendItem.ThanhToan).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n\r\n    }\r\n    this.sumTongTienTemp = this.sumTongTien;\r\n\r\n  }\r\n\r\n  formatInput(item, index, type?) {\r\n    // if (type && type == 'plus') {\r\n    //   this.displayChiTietHang[index][item] = String(Number(this.displayChiTietHang[index][item].replace(/,/g, '')) + 1);\r\n    // }\r\n    // if (type && type == 'subtraction') {\r\n    //   this.displayChiTietHang[index][item] = String(Number(this.displayChiTietHang[index][item].replace(/,/g, '')) - 1);\r\n    // }\r\n\r\n    var convNumber = this.currencyPipe.transform(this.displayChiTietHang[index][item].replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n    this.displayChiTietHang[index][item] = convNumber;\r\n    this.sendItem.ChiTietHang[index][item] = Number(convNumber.replace(/,/g, ''));\r\n    if (item == \"DonGia\" || item == \"SoLuong\") {\r\n      this.sendItem.ChiTietHang[index][item] = Number(this.displayChiTietHang[index][item].replace(/,/g, ''));\r\n      this.sumMoney(index);\r\n\r\n      this.getTongTien(index);\r\n\r\n    }\r\n  }\r\n\r\n  formatInputBill(item, e) {\r\n    // var tesst = Number(this.sendItem[item].replace(/,/g, ''));\r\n    // var test = e;\r\n    // console.log('tesst', test, e);\r\n    this.sendItem[item] = Number(e.replace(/,/g, ''));\r\n    var convNumber = this.currencyPipe.transform(e.replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0');\r\n    if (item == 'ChietKhau') {\r\n      this.ChietKhauHD = convNumber;\r\n      this.sumChietKhau = this.sumChietKhauTemp;\r\n      this.sumChietKhau += this.sendItem.ChietKhau;\r\n\r\n      this.sumTongTien = this.sumThanhTien + this.sumVAT - this.sumChietKhau;\r\n      this.sendItem.ThanhToan = this.sumTongTien;\r\n      this.ThanhToanHD = this.currencyPipe.transform(String(this.sumTongTien).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0');\r\n\r\n    } else if (item == 'ThanhToan') {\r\n      this.ThanhToanHD = convNumber;\r\n    }\r\n  }\r\n\r\n  async openUnit() {\r\n    const modal = await this.modalController.create({\r\n      component: DonviIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        'page': 'xuatbanle'\r\n\r\n        // \"listUnit\": this.listUnit,\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log(dataReturned);\r\n\r\n      if (dataReturned.data) {\r\n        this.sendItem.DVXuat = dataReturned.data.MaDV;\r\n        this.donvi = dataReturned.data.TenDV;\r\n\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openKho() {\r\n    const modal = await this.modalController.create({\r\n      component: KhoIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        // \"listKho\": this.listKho,\r\n      }\r\n\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned.data) {\r\n        // this.makho = dataReturned.data.MaKho;\r\n        this.sendItem.KhoXuat = dataReturned.data.MaKho;\r\n        this.kho = dataReturned.data.TenKho;\r\n        this.getVattu();\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async openVattu() {\r\n    // if (!this.makho) {\r\n    //   return;\r\n    // }\r\n    // this.LoadingService.setValue(true);\r\n\r\n    const modal = await this.modalController.create({\r\n      component: VattuIndexPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        // \"makho\": this.sendItem.KhoXuat,\r\n        // \"banggia\": this.banggia,\r\n        \"page\": \"xuatbanle\",\r\n        \"listVattu\": this.listVattu,\r\n        \"listItem\": this.sendItem.ChiTietHang,\r\n      },\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      if (dataReturned && dataReturned.data) {\r\n        this.displayChiTietHang = [];\r\n\r\n        for (let i = 0; i < dataReturned.data.length; i++) {\r\n          let foundVattu = this.listVattu.find((o: any) => o.MaVT === dataReturned.data[i].MaVT);\r\n\r\n          this.displayChiTietHang.push({\r\n            \"_TenVT\": foundVattu.TenVT,\r\n            \"MaVT\": dataReturned.data[i].MaVT,\r\n            \"DVT\": dataReturned.data[i].DVT,\r\n            'DonGia': dataReturned.data[i].DonGia ? new Intl.NumberFormat().format(dataReturned.data[i].DonGia).replace(/\\./g, ',') : '0',\r\n            'SoLuong': new Intl.NumberFormat().format(dataReturned.data[i].SoLuong).replace(/\\./g, ','),\r\n            \"ChietKhau_Percent\": dataReturned.data[i].ChietKhau_Percent,\r\n            \"VAT_Percent\": dataReturned.data[i].VAT_Percent,\r\n            \"TongTien\": dataReturned.data[i].TongTien,\r\n          })\r\n        }\r\n        this.sendItem.ChiTietHang = dataReturned.data;\r\n        this.countProduct = this.displayChiTietHang.length;\r\n        this.countMoney(this.sendItem)\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n\r\n  setInput(e, item, index) {\r\n    this.sendItem.ChiTietHang[index][item] = e;\r\n    if (item == \"ChietKhau_Percent\") {\r\n      this.sendItem.ChiTietHang[index].ChietKhau = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].ChietKhau_Percent / 100;\r\n      this.getTongTien(index);\r\n    }\r\n\r\n    if (item == \"VAT_Percent\") {\r\n      this.sendItem.ChiTietHang[index].VAT = this.sendItem.ChiTietHang[index].ThanhTien * this.sendItem.ChiTietHang[index].VAT_Percent / 100;\r\n      this.getTongTien(index);\r\n    }\r\n  }\r\n\r\n  getTongTien(index) {\r\n    this.sendItem.ChiTietHang[index].TongTien = this.sendItem.ChiTietHang[index].ThanhTien + this.sendItem.ChiTietHang[index].VAT - this.sendItem.ChiTietHang[index].ChietKhau;\r\n    this.displayChiTietHang[index].TongTien = this.sendItem.ChiTietHang[index].TongTien\r\n    this.countMoney(this.sendItem);\r\n  }\r\n\r\n  handleRemove(item, index) {\r\n    this.AlertService.presentAlert(`Bạn có chắc muốn xóa mặt hàng \"${item._TenVT}\"?`).then(res => {\r\n      if (res == 'true') {\r\n        // console.log('eeee');\r\n        this.displayChiTietHang.splice(index, 1);\r\n        this.sendItem.ChiTietHang.splice(index, 1);\r\n        this.countMoney(this.sendItem);\r\n        // this.countMoney(this.displayChiTietHang);\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  async openTypeChungTu() {\r\n    var arrBtn = [];\r\n    for (let i = 0; i < this.LoaiCTByBill.length; i++) {\r\n      arrBtn.push({\r\n        text: this.LoaiCTByBill[i].DienGiai,\r\n        icon: 'cash-outline',\r\n        cssClass: this.sendItem.LoaiCTID == this.LoaiCTByBill[i].LoaiCTID ? 'buttonSheetOn' : 'buttonSheetOff',\r\n        handler: () => {\r\n          // this.loaiCT_name = this.LoaiCTByBill[i].DienGiai;\r\n          this.sendItem.LoaiCTID = this.LoaiCTByBill[i].LoaiCTID;\r\n          this.sendItem.SoCT = `${this.getInitials(this.LoaiCTByBill[i].DienGiai)}${this.sendItem.ChungTuID}`;\r\n          this.loaiCTNow = this.LoaiCTByBill[i];\r\n        }\r\n      })\r\n    }\r\n    const actionSheet = await this.actionSheetController.create({\r\n      cssClass: 'left-align-buttons',\r\n      buttons: arrBtn\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n  }\r\n\r\n\r\n  resetItem() {\r\n\r\n    this.submit = false;\r\n\r\n    this.sendItem = {\r\n      \"DVXuat\": \"\",\r\n      \"KhoXuat\": this.sendItem.KhoXuat,\r\n      \"BanTheoDon\": false,\r\n      \"nam_du_lieu\": \"\",\r\n      \"LoaiCTID\": this.sendItem.LoaiCTID,\r\n      \"ChungTuID\": 0,\r\n      \"SoCT\": \"\",\r\n      \"ThoiDiem\": \"\",\r\n      \"DienGiai\": \"\",\r\n      \"ChietKhau\": 0,\r\n      \"ThanhToan\": 0,\r\n      \"SoTK\": \"111\",\r\n      \"ChiTietHang\": []\r\n    }\r\n    this.ChietKhauHD = '0';\r\n    this.ThanhToanHD = '0';\r\n    this.sumChietKhauTemp = 0;\r\n    this.sumTongTienTemp = 0;\r\n\r\n    this.donvi = \"\";\r\n    this.sendItem.ChiTietHang = [];\r\n    this.displayChiTietHang = [];\r\n    this.sumThanhTien = 0;\r\n    this.sumTongTien = 0;\r\n    this.sumVAT = 0;\r\n    this.sumChietKhau = 0;\r\n    // this.sumThanhToan = 0;\r\n    this.countProduct = 0;\r\n\r\n    var now = new Date();\r\n    var year = now.getFullYear();\r\n    var hours = now.getHours();\r\n    var minute = now.getMinutes();\r\n    this.sendItem.nam_du_lieu = year.toString();\r\n    this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n    this.sumTongTien = 0;\r\n\r\n    this.sendItem.ChungTuID = new Date().getTime();\r\n    this.sendItem.SoCT = `${this.getInitials(this.loaiCTNow.DienGiai)}${this.sendItem.ChungTuID}`;\r\n    this.getVattu();\r\n    setTimeout(() => {\r\n      this.chungchi.ChungTuID = this.sendItem.ChungTuID;\r\n      this.chungchi.nam_du_lieu = this.sendItem.nam_du_lieu;\r\n    }, 4000);\r\n  }\r\n\r\n  async openBillWait() {\r\n    const modal = await this.modalController.create({\r\n      component: BillWaitPage,\r\n      cssClass: 'modalOpen',\r\n      componentProps: {\r\n        \"LoaiCTID\": this.LoaiCTID,\r\n        \"LoaiNX\": this.loaiCTNow.LoaiNX\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log(dataReturned);\r\n      this.listBillWait = JSON.parse(localStorage.getItem('billWaitXuatHang') || '[]');\r\n      this.sumBillWait = this.listBillWait.length;\r\n      if (dataReturned.data) {\r\n        this.sendItem = dataReturned.data.item;\r\n        this.kho = dataReturned.data.item.kho_name;\r\n        this.donvi = dataReturned.data.item.donvi_name;\r\n\r\n        this.displayChiTietHang = [];\r\n        for (let i = 0; i < dataReturned.data.item.ChiTietHang.length; i++) {\r\n\r\n          this.displayChiTietHang.push({\r\n            \"_TenVT\": dataReturned.data.item.ChiTietHang[i]._TenVT,\r\n            \"MaVT\": dataReturned.data.item.ChiTietHang[i].MaVT,\r\n            \"DVT\": dataReturned.data.item.ChiTietHang[i].DVT,\r\n            'DonGia': dataReturned.data.item.ChiTietHang[i].DonGia ? new Intl.NumberFormat().format(dataReturned.data.item.ChiTietHang[i].DonGia).replace(/\\./g, ',') : '0',\r\n            'SoLuong': new Intl.NumberFormat().format(dataReturned.data.item.ChiTietHang[i].SoLuong).replace(/\\./g, ','),\r\n            \"ChietKhau_Percent\": dataReturned.data.item.ChiTietHang[i].ChietKhau_Percent,\r\n            \"VAT_Percent\": dataReturned.data.item.ChiTietHang[i].VAT_Percent,\r\n            \"TongTien\": dataReturned.data.item.ChiTietHang[i].TongTien,\r\n          })\r\n        }\r\n\r\n\r\n        this.countProduct = this.displayChiTietHang.length;\r\n        this.checkChungTuID = dataReturned.data.item.ChungTuID;\r\n        this.countMoney(this.sendItem);\r\n        // for (let i = 0; i < this.listKho.length; i++) {\r\n        //   if (this.listKho[i].MaKho == dataReturned.data.item.KhoNhap) {\r\n        //     this.kho = this.listKho[i].TenKho;\r\n        //     break;\r\n        //   }\r\n        // }\r\n\r\n        // if (dataReturned.data.item.DVNhap) {\r\n        //   for (let i = 0; i < this.listUnit.length; i++) {\r\n        //     if (this.listUnit[i].MaDV == dataReturned.data.item.DVNhap) {\r\n        //       this.donvi = this.listUnit[i].TenDV;\r\n        //       break;\r\n        //     }\r\n        //   }\r\n        // }\r\n        var now = new Date();\r\n        var year = now.getFullYear();\r\n        var hours = now.getHours();\r\n        var minute = now.getMinutes();\r\n        this.sendItem.nam_du_lieu = year.toString();\r\n        this.sendItem.ThoiDiem = now.toISOString().slice(0, 11) + `${this.convNumber(hours)}:${this.convNumber(minute)}:00`;\r\n        this.sendItem.ChietKhau = dataReturned.data.item.ChietKhau;\r\n        this.sendItem.ThanhToan = dataReturned.data.item.ThanhToan;\r\n        this.ChietKhauHD = this.currencyPipe.transform(String(this.sendItem.ChietKhau).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0');\r\n        // this.ThanhToanHD = this.currencyPipe.transform(String(this.sendItem.ThanhToan).replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0');\r\n        this.sendItem.ChungTuID = dataReturned.data.item.ChungTuID;\r\n        this.sendItem.SoCT = dataReturned.data.item.SoCT;\r\n      }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  countBillWait() {\r\n    // this.sumBillWait = 0;\r\n    // for (let i = 0; i < this.listBillWait.length; i++) {\r\n    //   if (this.listBillWait[i].LoaiCTID == this.LoaiCTID) {\r\n    //     this.sumBillWait += 1;\r\n    //   }\r\n    // }\r\n    this.sumBillWait = this.listBillWait.length;\r\n\r\n  }\r\n\r\n  async handleHTTT() {\r\n\r\n    const actionSheet = await this.actionSheetController.create({\r\n      cssClass: 'left-align-buttons',\r\n      buttons: [\r\n        {\r\n          text: 'Tiền mặt',\r\n          icon: 'cash-outline',\r\n          cssClass: this.HTTT_name == 'Tiền mặt' ? 'buttonSheetOn' : 'buttonSheetOff',\r\n          handler: () => {\r\n            this.HTTT_name = 'Tiền mặt'\r\n            this.HTTT = 'TM'\r\n          }\r\n        },\r\n        {\r\n          text: 'Chuyển khoản',\r\n          icon: 'card-outline',\r\n          cssClass: this.HTTT_name == 'Chuyển khoản' ? 'buttonSheetOn' : 'buttonSheetOff',\r\n          handler: () => {\r\n            this.HTTT_name = 'Chuyển khoản'\r\n            this.HTTT = 'CK'\r\n\r\n          },\r\n        }\r\n      ]\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n  }\r\n\r\n  confirmSubmit() {\r\n    this.submit = true;\r\n    if (this.sumTongTien == 0) {\r\n      return;\r\n    }\r\n\r\n    if (!this.donvi && (this.sendItem.ThanhToan < this.sumTongTien)) {\r\n      this.ToastService.warningToast(\"Vui lòng chọn khách hàng!\")\r\n      return;\r\n    }\r\n    if (this.SoTK == undefined) {\r\n      for (let i = 0; i <= this.listTaiKhoan.length; i++) {\r\n        let item = this.listTaiKhoan[i];\r\n        if (item != undefined) {\r\n          if (item.LoaiTK == \"111\") {\r\n            this.SoTK = item.SoTK;\r\n            console.log(\"827\", this.SoTK);\r\n            this.sendItem.SoTK = this.SoTK;\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    // console.log(\"820\", this.sendItem.SoTK);\r\n    // console.log('this.sendItem', this.sendItem);\r\n\r\n    if (this.typePage == 'create') {\r\n\r\n      // if (!checkExit) {\r\n      this.AlertService.presentAlert(`Bạn có chắc muốn thêm hóa đơn?`,).then(res => {\r\n        if (res == 'true') {\r\n          this.createImport();\r\n        }\r\n      });\r\n      // }\r\n    } else {\r\n      this.AlertService.presentAlert(`Bạn có chắc muốn sửa hóa đơn?`,).then(res => {\r\n        if (res == 'true') {\r\n          this.updateImport();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  createImport() {\r\n\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.createXuatHang(this.sendItem).subscribe((response: any) => {\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        this.resetItem();\r\n        this.getVattu()\r\n        if (this.checkToggle) {\r\n          this.getChungTuDetail2();\r\n        } else {\r\n          this.LoadingService.setValue(false);\r\n        }\r\n        for (let i = 0; i < this.listBillWait.length; i++) {\r\n          if (this.listBillWait[i].ChungTuID == this.checkChungTuID) {\r\n            this.listBillWait.splice(i, 1);\r\n            localStorage.setItem('billWaitXuatHang', JSON.stringify(this.listBillWait));\r\n            this.countBillWait();\r\n\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n\r\n      }\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n  updateImport() {\r\n    this.LoadingService.setValue(true);\r\n    this.XuatkhoService.updateXuatHang(this.sendItem).subscribe((response: any) => {\r\n      if (response.code == 0) {\r\n        this.ToastService.successToast(response.message);\r\n        // this.getChungTuDetail();\r\n        this.getVattu();\r\n\r\n        if (this.checkToggle) {\r\n          this.getChungTuDetail('print');\r\n        } else {\r\n          this.LoadingService.setValue(false);\r\n        }\r\n      } else {\r\n        this.ToastService.errorToast(response.message);\r\n        this.LoadingService.setValue(false);\r\n      }\r\n\r\n      // this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n\r\n  openPrint() {\r\n    var myDiv = document.getElementById(\"myDiv\");\r\n    var divContent = myDiv.outerHTML;\r\n\r\n    this.printer.isAvailable().then((onsuccess: any) => {\r\n\r\n      let options: PrintOptions = {\r\n\r\n      };\r\n      this.printer.print(divContent, options).then((value: any) => {\r\n        console.log('value:', value);\r\n      }, (error) => {\r\n        console.log('error:', error);\r\n      });\r\n\r\n    }, (err) => {\r\n      console.log('Error', err);\r\n    })\r\n  }\r\n\r\n  handleBillWait() {\r\n    this.sendItem.kho_name = this.kho;\r\n    this.sendItem.donvi_name = this.donvi;\r\n    this.listBillWait.push(this.sendItem);\r\n    localStorage.setItem('billWaitXuatHang', JSON.stringify(this.listBillWait));\r\n    this.countBillWait();\r\n    this.resetItem();\r\n    this.ToastService.successToast('Thêm hóa đơn chờ thành công!');\r\n  }\r\n\r\n  backListBill() {\r\n    this.navController.navigateBack([\"bill-list\"], {\r\n      queryParams: {\r\n        'LoaiCTID': this.loaiCTNow.LoaiCTID,\r\n        'DienGiai': this.DienGiai\r\n      }\r\n    });\r\n  }\r\n\r\n  handleTypeCT() {\r\n\r\n  }\r\n\r\n  openBack() {\r\n    if (this.pageParent == 'home') {\r\n      this.navController.navigateBack(['tabs/tab3']);\r\n    } else {\r\n      this.navController.navigateBack([\"bill-list\"], {\r\n        queryParams: {\r\n          'LoaiCTID': this.LoaiCTID,\r\n          'DienGiai': this.DienGiai\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n}\r\n"]}
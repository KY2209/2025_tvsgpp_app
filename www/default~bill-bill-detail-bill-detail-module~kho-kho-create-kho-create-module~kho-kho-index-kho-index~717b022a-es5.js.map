{"version":3,"sources":["webpack:///src/app/kho/kho-create/kho-create.page.html","webpack:///src/app/kho/kho-create/kho-create.page.scss","webpack:///src/app/kho/kho-create/kho-create.page.ts","webpack:///src/app/service/kho.service.ts"],"names":["KhoCreatePage","GlobalService","route","LoadingService","KhoService","ToastService","actionSheetController","isCreate","KhoItem","sendItem","submit","console","log","officeId","Number","localStorage","getItem","TenKho","setValue","createKho","subscribe","response","successToast","formatItem","error","setTimeout","closeModal","selector","template","http","router","toastController","convertHelper","http1","storage","modalController","apiUrl","urlGpp","_url","env","headers","append","get","pipe","res","json","item","post","id","providedIn"],"mappings":"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","file":"default~bill-bill-detail-bill-detail-module~kho-kho-create-kho-create-module~kho-kho-index-kho-index~717b022a-es5.js","sourcesContent":["export default \"<!-- <ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>donvi-create</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header> -->\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"unit\\\">\\r\\n    <div class=\\\"unit-header\\\">\\r\\n      <div class=\\\"unit-title\\\">{{isCreate == 'true' ? 'Thêm' : 'Sửa'}} kho</div>\\r\\n      <ion-icon (click)=\\\"closeModal()\\\" name=\\\"close-outline\\\"></ion-icon>\\r\\n    </div>\\r\\n    <table class=\\\"w-full\\\">\\r\\n      <tr>\\r\\n        <td colspan=\\\"2\\\">\\r\\n          <div class=\\\"unit-item\\\">\\r\\n            <label for=\\\"\\\">Tên kho <span class=\\\"text-err\\\">*</span></label>\\r\\n            <input type=\\\"text\\\" [(ngModel)]=\\\"sendItem.TenKho\\\">\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td *ngIf=\\\"submit && !sendItem.TenKho\\\" colspan=\\\"2\\\" style=\\\"padding-top: 10px;\\\">\\r\\n          <div class=\\\"text-err\\\">\\r\\n            Trường bắt buộc nhập\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n \\r\\n      <tr>\\r\\n        <td  colspan=\\\"2\\\">\\r\\n            <div class=\\\"unit-item\\\">\\r\\n              <label for=\\\"\\\">Địa chỉ</label>\\r\\n              <input type=\\\"text\\\" [(ngModel)]=\\\"sendItem.DiaChi\\\">\\r\\n            </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n  </div> \\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n\\r\\n  <div class=\\\"unit-footer\\\">\\r\\n    <button (click)=\\\"confirmSubmit()\\\">{{isCreate == 'true' ? 'THÊM' : 'SỬA'}} KHO </button>\\r\\n  </div>\\r\\n</ion-toolbar>\\r\\n\\r\\n</ion-footer>\";","export default \".unit {\\n  padding: 4px 10px;\\n}\\n.unit-header {\\n  display: flex;\\n  align-items: center;\\n  border-bottom: 1px solid #cbcbcb;\\n}\\n.unit-header ion-icon {\\n  font-size: 30px;\\n}\\n.unit-title {\\n  width: 100%;\\n  font-size: 18px;\\n  font-weight: 600;\\n  padding-bottom: 4px;\\n  color: #242424;\\n  padding: 8px 0 8px 0;\\n  color: var(--background-color);\\n}\\n.unit-footer {\\n  padding: 6px;\\n}\\n.unit-footer button {\\n  color: white;\\n  background: var(--background-color);\\n  width: 100%;\\n  padding: 12px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  border-radius: 5px;\\n  margin-left: auto;\\n}\\ninput[type=text],\\ninput[type=number],\\ninput[type=date], .unit-input {\\n  width: 100%;\\n  border: 1px solid white;\\n  background: #caeeff;\\n  border-radius: 5px;\\n  margin-top: 6px;\\n  padding: 8px 10px;\\n}\\nlabel {\\n  font-weight: 500;\\n}\\n.input-no-border {\\n  background: white !important;\\n  text-align: right !important;\\n}\\ntd {\\n  padding-top: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAva2hvL2toby1jcmVhdGUva2hvLWNyZWF0ZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtBQUNKO0FBQ0k7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQ0FBQTtBQUNSO0FBQ1E7RUFDSSxlQUFBO0FBQ1o7QUFJSTtFQUNJLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxvQkFBQTtFQUNBLDhCQUFBO0FBRlI7QUFLSTtFQUNJLFlBQUE7QUFIUjtBQUtRO0VBQ0ksWUFBQTtFQUNBLG1DQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBSFo7QUFTQTs7O0VBT0ksV0FBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQVZKO0FBYUE7RUFDSSxnQkFBQTtBQVZKO0FBYUE7RUFDSSw0QkFBQTtFQUNBLDRCQUFBO0FBVko7QUFjQTtFQUNJLGlCQUFBO0FBWEoiLCJmaWxlIjoic3JjL2FwcC9raG8va2hvLWNyZWF0ZS9raG8tY3JlYXRlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi51bml0e1xyXG4gICAgcGFkZGluZzogNHB4IDEwcHggICA7XHJcbiAgICBcclxuICAgICYtaGVhZGVye1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NiY2JjYjtcclxuXHJcbiAgICAgICAgaW9uLWljb257XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMzBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgJi10aXRsZXtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNHB4O1xyXG4gICAgICAgIGNvbG9yOiAjMjQyNDI0O1xyXG4gICAgICAgIHBhZGRpbmc6IDhweCAwIDhweCAwO1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKSAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgJi1mb290ZXJ7XHJcbiAgICAgICAgcGFkZGluZzogNnB4O1xyXG5cclxuICAgICAgICBidXR0b24ge1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG5pbnB1dFt0eXBlPVwibnVtYmVyXCJdLFxyXG5pbnB1dFt0eXBlPVwiZGF0ZVwiXSwgLnVuaXQtaW5wdXQge1xyXG4gICAgLy8gd2lkdGg6IDEwMHB4O1xyXG4gICAgLy8gYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcbiAgICAvLyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICAvLyB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgYmFja2dyb3VuZDogI2NhZWVmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIG1hcmdpbi10b3A6IDZweDtcclxuICAgIHBhZGRpbmc6IDhweCAxMHB4O1xyXG59XHJcblxyXG5sYWJlbHtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi5pbnB1dC1uby1ib3JkZXJ7XHJcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQgIWltcG9ydGFudDtcclxuXHJcbn1cclxuXHJcbnRke1xyXG4gICAgcGFkZGluZy10b3A6IDIwcHg7XHJcblxyXG59Il19 */\";","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ActionSheetController } from '@ionic/angular';\r\nimport { GlobalService } from 'src/app/service/global.service';\r\nimport { KhoService } from 'src/app/service/kho.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { ToastService } from 'src/app/service/toastService';\r\n@Component({\r\n  selector: 'app-kho-create',\r\n  templateUrl: './kho-create.page.html',\r\n  styleUrls: ['./kho-create.page.scss'],\r\n})\r\nexport class KhoCreatePage implements OnInit {\r\n  @Input() isCreate: string = '';\r\n  @Input() KhoItem: any = {};\r\n\r\n  sendItem: any = {\r\n    \"OfficeID\": 0,\r\n    \"KhoID\": 0,\r\n    \"TenKho\": \"\",\r\n    \"DiaChi\": \"\"\r\n  };\r\n  submit: boolean = false;\r\n\r\n\r\n  constructor(\r\n    private GlobalService: GlobalService,\r\n    private route: ActivatedRoute,\r\n    private LoadingService: LoadingService,\r\n    private KhoService: KhoService,\r\n    private ToastService: ToastService,\r\n    public actionSheetController: ActionSheetController\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.isCreate == 'false') {\r\n      this.sendItem = this.KhoItem;\r\n      console.log('KhoItem', this.KhoItem);\r\n    }\r\n\r\n    this.sendItem.officeId = Number(localStorage.getItem(\"officeId\"));\r\n  }\r\n\r\n  confirmSubmit() {\r\n    console.log('this.sendItem', this.sendItem);\r\n\r\n    this.submit = true;\r\n    if (!this.sendItem.TenKho) {\r\n      return;\r\n    }\r\n\r\n    this.LoadingService.setValue(true);\r\n\r\n    this.KhoService.createKho(this.sendItem).subscribe((response: any) => {\r\n      console.log('response', response);\r\n      this.ToastService.successToast('Cập nhật thành công!')\r\n      if (this.isCreate == 'true') {\r\n        this.formatItem();\r\n      }\r\n      this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n\r\n  formatItem() {\r\n    this.submit = false;\r\n\r\n    this.sendItem = {\r\n      \"OfficeID\": 0,\r\n      \"KhoID\": 0,\r\n      \"TenKho\": \"\",\r\n      \"DiaChi\": \"\"\r\n    };\r\n  }\r\n\r\n  closeModal() {\r\n    this.GlobalService.closeModal();\r\n\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestMethod, RequestOptions } from '@angular/http';\r\nimport { map } from \"rxjs/operators\";\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Buffer } from \"buffer\";\r\nimport { ModalController } from '@ionic/angular';\r\nimport { environment } from 'src/environments/environment';\r\nimport { convertHelper } from '../share/helper';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class KhoService {\r\n\r\n  apiUrl: string = environment.urlGpp;\r\n\r\n  constructor(\r\n    private http: Http,\r\n    public router: Router,\r\n    public toastController: ToastController,\r\n    public convertHelper: convertHelper,\r\n    private http1: HttpClient,\r\n    private storage: Storage,\r\n    private modalController: ModalController\r\n  ) { }\r\n\r\n\r\n  getKho() {\r\n    let _url = this.convertHelper.env() + \"Kho\";\r\n\r\n    const headers = new Headers();\r\n    headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n    return this.http.get(_url, { headers: headers }).pipe(map(res => res.json()));\r\n  }\r\n\r\n\r\n  createKho(item) {\r\n    let _url = this.convertHelper.env() + \"Kho\";\r\n\r\n    const headers = new Headers();\r\n    headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n    return this.http.post(_url, item, { headers: headers }).pipe(map(res => res.json()));\r\n  }\r\n\r\n  deleteKho(id) {\r\n    let _url = this.convertHelper.env() + \"Kho/\"+ id;\r\n    const headers = new Headers();\r\n    headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n    return this.http.delete(_url, new RequestOptions({\r\n        headers: headers,\r\n     }));\r\n}\r\n}\r\n"]}
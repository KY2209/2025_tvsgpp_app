{"version":3,"sources":["webpack:///src/app/share/print-bill/print-bill.component.html","webpack:///src/app/share/print-bill/print-bill.component.scss","webpack:///src/app/share/print-bill/print-bill.component.ts"],"names":["PrintBillComponent","XuatkhoService","cdr","convertHelper","ChungTuInfo","data","itemDetail","sumThanhTien","tenCongTy","diaChi","dienthoai","maQR","convStringTT","check","typePaper","sumTongTien","sumVAT","sumChietKhau","getHeThong","localStorage","getItem","changes","currentValue","ChungTuID","getChungTuDetail","detectChanges","LoaiCTID","countMoney","HeThong","JSON","parse","i","length","INIOption","INIValue","xuatHangDetail","subscribe","response","error","console","log","ChiTietHang","ThanhTien","TongTien","to_vietnamese","VAT","ChietKhau","selector","template"],"mappings":"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","file":"default~bill-bill-list-bill-list-module~xuatkho-xuathang-addnew-xuathang-addnew-module~xuatkho-xuath~971bda02-es5.js","sourcesContent":["export default \"<div style=\\\" padding: 10px; font-size: 14px; font-family: 'Times New Roman'\\\">\\r\\n\\r\\n  <div *ngIf=\\\"typePaper == '80'\\\" style=\\\"width: 300px;\\\">\\r\\n\\r\\n    <p style=\\\"font-weight: 600;\\\">Đơn vị: {{tenCongTy}}</p>\\r\\n    <p style=\\\"font-weight: 600;\\\">Địa chỉ: {{diaChi}}</p>\\r\\n    <p style=\\\"text-align: center; font-size: 16px; font-weight: 600; text-transform: uppercase;\\\">PHIẾU {{convertHelper.typeChungTu(itemDetail.LoaiCTID)}}</p>\\r\\n    <p>Họ và tên người nhận: {{itemDetail?._TenDVXuat}}</p>\\r\\n    <p>Lý do xuất kho:</p>\\r\\n\\r\\n    <table style=\\\"width: 100%; border: 1px solid black; border-spacing: 0;\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">STT</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; font-size: 14px\\\">Tên hàng</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">ĐVT</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">SL</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">Giá</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">T.Tiền</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let item of itemDetail?.ChiTietHang; index as i\\\">\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{i+1}}</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; font-size: 12px;\\\">{{item._TenVT}}</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{item._DVT}}</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{item.SoLuong}}\\r\\n          </td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{item.DonGia |\\r\\n            number}}</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px;\\\">{{item.ThanhTien |\\r\\n            number}}</td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n      <tfoot>\\r\\n        <tr>\\r\\n          <td colspan=\\\"5\\\"\\r\\n            style=\\\"border: 1px solid black; font-size: 14px; padding: 5px 2px; font-weight: 600; text-align: center;\\\">\\r\\n            Tổng tiền:</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px;\\\">{{sumTongTien |\\r\\n            number}}</td>\\r\\n        </tr>\\r\\n      </tfoot>\\r\\n    </table>\\r\\n\\r\\n    <p>Tổng số tiền: {{convStringTT}}</p>\\r\\n    <table style=\\\"width: 100%;\\\">\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center;\\\"><img style=\\\"width: 90px; height: 90px;\\\" [src]=\\\"maQR\\\" alt=\\\"\\\"></td>\\r\\n        <td style=\\\"text-align: center; display: block;\\\">\\r\\n          <p style=\\\"font-weight: 600;\\\">Thu ngân</p>\\r\\n          <i>(Ký, họ tên, đóng dấu)</i>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <div *ngIf=\\\"typePaper == 'A5'\\\">\\r\\n    <p style=\\\"font-weight: 600;\\\">Đơn vị: {{tenCongTy}}</p>\\r\\n    <p style=\\\"font-weight: 600;\\\">Địa chỉ: {{diaChi}}</p>\\r\\n    <p style=\\\"font-weight: 600;\\\">Điện thoại: {{dienthoai}}</p> \\r\\n    <div style=\\\"text-align: center; font-size: 16px; font-weight: 600;\\\">PHIẾU XUẤT KHO</div>\\r\\n    <div style=\\\"text-align: center; margin-top: 5px;\\\">Số CT: {{itemDetail.SoCT}}</div> \\r\\n    <div style=\\\"text-align: center; margin-top: 5px; font-style: italic;\\\">Ngày CT: {{dienthoai}}</div> \\r\\n\\r\\n    <table style=\\\"width: 100%;\\\">\\r\\n      <tr>\\r\\n        <td>Nhà cung cấp: {{itemDetail._TenDVXuat}}</td>\\r\\n        <td>Điện thoại</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td colspan=\\\"2\\\">Địa điểm:</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>Kho hàng: {{itemDetail._TenKhoXuat}}</td>\\r\\n        <td>Địa điểm: </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n\\r\\n    <table style=\\\"width: 100%; border: 1px solid black; border-spacing: 0; margin-top: 10px;\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">STT</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; font-size: 14px\\\">Sản phẩm</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">ĐVT</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">Lô hàng</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">Hạn dùng</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">SL</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">Đơn giá</th>\\r\\n          <th style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center;  font-size: 14px;\\\">T.Tiền</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let item of itemDetail?.ChiTietHang; index as i\\\">\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{i+1}}</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; font-size: 12px;\\\">{{item._TenVT}}</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{item._DVT}}</td>\\r\\n          \\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{item.LoHang}}\\r\\n          </td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{item.HanDung}}\\r\\n          </td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: center; font-size: 12px;\\\">{{item.SoLuong}}\\r\\n          </td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px;\\\">{{item.DonGia |\\r\\n            number}}</td>\\r\\n          <td style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px;\\\">{{item.ThanhTien |\\r\\n            number}}</td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n      <tfoot>\\r\\n        <tr>\\r\\n          <td colspan=\\\"4\\\"\\r\\n            style=\\\"border: 1px solid black; font-size: 14px; padding: 5px 2px; text-align: right; font-style: italic;\\\">\\r\\n            Tổng tiền VAT: {{sumVAT | number}}; Tổng tiền chiết khẩu: {{sumChietKhau | number}}</td>\\r\\n          <td colspan=\\\"2\\\" style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px; font-weight: 600;\\\">Tổng tiền hàng: </td>\\r\\n            <td colspan=\\\"2\\\" style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px; font-weight: 600;\\\">{{sumTongTien | number}}</td>\\r\\n        </tr>\\r\\n        <tr>\\r\\n          <td colspan=\\\"4\\\"\\r\\n            style=\\\"border: 1px solid black; font-size: 14px; padding: 5px 2px; text-align: right; font-style: italic;\\\">\\r\\n            Nợ cũ: ; Tổng nợ: </td>\\r\\n          <td colspan=\\\"2\\\" style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px; font-weight: 600;\\\">Tổng tiền phải trả: </td>\\r\\n            <td colspan=\\\"2\\\" style=\\\"border: 1px solid black; padding: 5px 2px; text-align: right; font-size: 12px; font-weight: 600;\\\">{{sumTongTien | number}}</td>\\r\\n        </tr>\\r\\n      </tfoot>\\r\\n    </table>\\r\\n\\r\\n    <p>Tổng số tiền (viết bằng chứ): {{convStringTT}}</p>\\r\\n    <table style=\\\"width: 100%; margin-top: 30px;\\\">\\r\\n      <tr>\\r\\n        <td style=\\\"text-align: center; font-weight: bold;\\\">Người lập phiếu</td>\\r\\n        <td style=\\\"text-align: center; font-weight: bold;\\\">Người giao hàng/Kiểm hàng</td>\\r\\n        <td style=\\\"text-align: center; font-weight: bold;\\\">Thủ kho</td>\\r\\n        <td style=\\\"text-align: center; font-weight: bold;\\\">Kế toán/Thủ trưởng đơn vị</td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td style=\\\"font-style: italic; text-align: center;\\\">(Ký, họ tên)</td>\\r\\n        <td style=\\\"font-style: italic; text-align: center;\\\">(Ký, họ tên)</td>\\r\\n        <td style=\\\"font-style: italic; text-align: center;\\\">(Ký, họ tên)</td>\\r\\n        <td style=\\\"font-style: italic; text-align: center;\\\">(Ký, họ tên, đóng dấu)</td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n</div>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlL3ByaW50LWJpbGwvcHJpbnQtYmlsbC5jb21wb25lbnQuc2NzcyJ9 */\";","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\r\nimport { XuatkhoService } from 'src/app/service/xuatkho.service';\r\nimport { convertHelper } from '../helper';\r\n\r\n@Component({\r\n  selector: 'app-print-bill',\r\n  templateUrl: './print-bill.component.html',\r\n  styleUrls: ['./print-bill.component.scss'],\r\n})\r\nexport class PrintBillComponent implements OnInit {\r\n  @Input() ChungTuInfo: any = {};\r\n  @Input() data: any = {};\r\n\r\n  itemDetail: any = [];\r\n  sumThanhTien: number = 0;\r\n  tenCongTy: string = '';\r\n  diaChi: string = '';\r\n  dienthoai: string = '';\r\n  maQR: string = '';\r\n  convStringTT: string = '';\r\n  check: number = 0;\r\n  typePaper: string = '';\r\n  sumTongTien: number = 0;\r\n  sumVAT: number = 0;\r\n  sumChietKhau: number = 0;\r\n  constructor(\r\n    private XuatkhoService: XuatkhoService,\r\n    private cdr: ChangeDetectorRef,\r\n    private convertHelper: convertHelper,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getHeThong();\r\n    this.typePaper = localStorage.getItem('setting') ? localStorage.getItem('setting') : 'A5';\r\n    // console.log('typePaper', this.typePaper);\r\n\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: any) {\r\n\r\n    if (changes.ChungTuInfo) {\r\n      // console.log('changes.ChungTuInfo', changes.ChungTuInfo.currentValue);\r\n      this.ChungTuInfo = changes.ChungTuInfo.currentValue;\r\n      if (this.ChungTuInfo.ChungTuID) {\r\n        this.sumThanhTien = 0;\r\n        this.getChungTuDetail();\r\n      }\r\n    }\r\n    if (changes.data && changes.data.currentValue) {\r\n      // setTimeout(() => {\r\n        this.cdr.detectChanges();\r\n\r\n        this.itemDetail = changes.data.currentValue;\r\n        this.cdr.detectChanges();\r\n\r\n        this.sumThanhTien = 0;\r\n        if(this.itemDetail.LoaiCTID){\r\n          this.countMoney();\r\n        }\r\n      // }, 3000);\r\n    }\r\n  }\r\n\r\n  getHeThong() {\r\n    // this.XuatkhoService.heThong().subscribe((response: any) => {\r\n      // console.log('response12343434', response);\r\n      var HeThong = JSON.parse(localStorage.getItem('HeThong') || '[]');\r\n\r\n      for (let i = 0; i < HeThong.length; i++) {\r\n        if (HeThong[i].INIOption == \"inpTenCongTy\") {\r\n          this.tenCongTy = HeThong[i].INIValue;\r\n        }\r\n\r\n        if (HeThong[i].INIOption == \"inpDiaChiCongTy\") {\r\n          this.diaChi = HeThong[i].INIValue;\r\n        }\r\n\r\n        if (HeThong[i].INIOption == \"imgQRCode\") {\r\n          this.maQR = HeThong[i].INIValue;\r\n        }\r\n\r\n        if (HeThong[i].INIOption == \"inpDienThoai\") {\r\n          this.dienthoai = HeThong[i].INIValue;\r\n        }\r\n\r\n      }\r\n  }\r\n\r\n\r\n  getChungTuDetail() {\r\n    this.XuatkhoService.xuatHangDetail(this.ChungTuInfo).subscribe((response: any) => {\r\n\r\n      this.itemDetail = response[0];\r\n\r\n      // console.log('response1111', response[0]);\r\n      if (response[0]) {\r\n        this.countMoney();\r\n\r\n      }\r\n    }, (error) => {\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  countMoney() {\r\n    // console.log('this.itemDetail', this.itemDetail);\r\n    this.sumThanhTien = 0;\r\n    this.sumTongTien = 0;\r\n    this.convStringTT = '';\r\n    this.sumVAT = 0;\r\n    this.sumChietKhau = 0;\r\n\r\n    for (let i = 0; i < this.itemDetail?.ChiTietHang.length; i++) {\r\n      this.sumThanhTien = this.sumThanhTien + this.itemDetail.ChiTietHang[i].ThanhTien;\r\n      this.sumTongTien = this.sumTongTien + this.itemDetail.ChiTietHang[i].TongTien;\r\n      this.convStringTT = this.convertHelper.to_vietnamese(this.sumTongTien)\r\n\r\n      this.sumVAT = this.sumVAT + this.itemDetail.ChiTietHang[i].VAT;\r\n      this.sumChietKhau = this.sumChietKhau + this.itemDetail.ChiTietHang[i].ChietKhau;\r\n      // this.sumThanhToan = this.sumThanhToan + this.itemDetail.ChiTietHang[i].ThanhToan;\r\n    }\r\n    this.cdr.detectChanges();\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n"]}
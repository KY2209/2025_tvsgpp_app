{"version":3,"sources":["webpack:///src/app/nhapkho/nhaphang/nhaphang.page.html","webpack:///src/app/nhapkho/nhaphang/nhaphang-routing.module.ts","webpack:///src/app/nhapkho/nhaphang/nhaphang.module.ts","webpack:///src/app/nhapkho/nhaphang/nhaphang.page.scss","webpack:///src/app/nhapkho/nhaphang/nhaphang.page.ts"],"names":["routes","path","component","NhaphangPageRoutingModule","imports","forChild","exports","NhaphangPageModule","declarations","NhaphangPage","Function","router","toastController","modalController","TabIndex","UserName","Keyword","currentPage","pageSize","totalRecord","totalPage","tuNgay","Date","toISOString","denNgay","getTime","_id","_createDate","_totalMoney","_note","Message","sendChungtu","loaiChungTu","getLoaiCT","getData","nam_du_lieu","getFullYear","toString","loaictid","getChungtu","subscribe","response","console","log","Bill","BillAll","error","setTimeout","loaiCT","val","target","value","Number","data","index","indexOf","splice","lstChungTu","id","dongboCT","rs","code","message","presentToastMsg","presentToastMsg1","create","swipeToClose","componentProps","modal","onDidDismiss","then","dataReturned","present","msg","color","duration","toast","pid","trim","values","filter","info","SoCT","toLowerCase","_Tabindex","navigateByUrl","selector","template"],"mappings":"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","file":"nhapkho-nhaphang-nhaphang-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar style=\\\"--border-width:0px!important;--background:#fff;\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--background:#fff; --padding-start: 0px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon *ngIf=\\\"TabIndex == 1\\\" (click)=\\\"openBack()\\\" name=\\\"chevron-back-outline\\\" style=\\\"color: #7077d6;\\\">\\r\\n        </ion-icon>\\r\\n        <ion-icon *ngIf=\\\"TabIndex != 1\\\" name=\\\"chevron-back-outline\\\" style=\\\"color: #f1f1f7;\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title style=\\\"text-align: center!important; color: #7077d6;\\\">\\r\\n      <table style=\\\"width: 100%!important; max-width: 100%!important;\\\">\\r\\n        <tr>\\r\\n          <td style=\\\"text-align: center!important;\\\">\\r\\n            <div style=\\\"text-align: center;\\\">\\r\\n              Phiếu nhập hàng\\r\\n            </div>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n\\r\\n\\r\\n    </ion-title>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div *ngIf=\\\"TabIndex == 1\\\">\\r\\n\\r\\n    <div style=\\\"padding: 10px;\\\">\\r\\n\\r\\n      <table style=\\\"width: 100%!important; max-width: 100%!important;\\\">\\r\\n        <tr>\\r\\n          <td style=\\\"width: 50%!important; padding: 10px!important;\\\">\\r\\n            <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" min=\\\"2015-01-01\\\" max=\\\"2025-12-31\\\" [(ngModel)]=\\\"tuNgay\\\"\\r\\n              Style=\\\"width: 100%; text-align: center; border-radius: 3px; color: #000;--padding-top: 5px;--padding-end: 5;--padding-bottom: 5px;--padding-start: 0px; border: solid 1px #ddd;\\\">\\r\\n            </ion-datetime>\\r\\n          </td>\\r\\n          <td style=\\\"width: 50%!important; padding: 10px!important;\\\">\\r\\n            <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" min=\\\"2015-01-01\\\" max=\\\"2025-12-31\\\" [(ngModel)]=\\\"denNgay\\\"\\r\\n              Style=\\\"width: 100%; text-align: center; border-radius: 3px; color: #000;--padding-top: 5px;--padding-end: 5;--padding-bottom: 5px;--padding-start: 0px; border: solid 1px #ddd;\\\">\\r\\n            </ion-datetime>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n\\r\\n      <table style=\\\"width: 100%!important; max-width: 100%!important;\\\">\\r\\n        <tr>\\r\\n          <td style=\\\"font-size: 20px!important;padding-left: 5px; padding-top: 5px; text-align: justify;width:100%;\\\">\\r\\n            <select value=\\\"{{loaiChungTu}}\\\" (change)=\\\"onLoaiCTChange($event)\\\"\\r\\n              style=\\\"font-size: 20px!important; width: 100%!important; max-width: 100%!important; --padding-top: 0px; --padding-end: 5px; --padding-bottom: 0px; --padding-start: 0px; border: solid 0px #ddd;background-color: #fff;\\\">\\r\\n              <option *ngFor=\\\"let item of lstChungTu\\\" value=\\\"{{item.LoaiCTID}}\\\">\\r\\n                {{item.DienGiai}}\\r\\n              </option>\\r\\n            </select>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n\\r\\n      <table style=\\\"width: 100%!important; max-width: 100%!important;\\\">\\r\\n        <tr>\\r\\n          <td style=\\\"padding: 0px!important;\\\">\\r\\n            <ion-searchbar showCancelButton=\\\"always\\\" color=\\\"light\\\" style=\\\"--border-radius:1px;\\\"\\r\\n              placeholder=\\\"Tìm kiếm thông tin\\\" [(ngModel)]=\\\"Keyword\\\" (ionInput)=\\\"filterInfo($event)\\\"\\r\\n              style=\\\"--font-size:20px!important;\\\" clearInput>\\r\\n            </ion-searchbar>\\r\\n          </td>\\r\\n          <td style=\\\"padding: 0px!important; padding: 10px!important; width: 40px; text-align: right;\\\">\\r\\n            <ion-icon (click)=\\\"getData()\\\" name=\\\"search-outline\\\" style=\\\"font-size: 25px;\\r\\n            margin-bottom: -5px !important;            \\r\\n            padding: 9px;\\r\\n            border: solid 1px #7077d6;\\r\\n            border-radius: 4px;\\r\\n            color: #7077d6;\\\"></ion-icon>\\r\\n          </td>\\r\\n        </tr>\\r\\n      </table>\\r\\n\\r\\n      <div *ngFor=\\\"let item of Bill\\\" style=\\\"margin-top: 20px;\\\">\\r\\n\\r\\n        <div style=\\\"margin-bottom: 15px; border-bottom: solid 1px #ddd; padding-bottom: 5px;\\\">\\r\\n          <table style=\\\"width: 100%!important; max-width: 100%!important; margin-bottom: 0px;\\\">\\r\\n            <tr>\\r\\n              <td style=\\\"width: 30px; padding-top: 0px!important; vertical-align: top; text-align: center;\\\">\\r\\n                <ion-icon name=\\\"document-text-outline\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\r\\n              </td>\\r\\n              <td style=\\\"padding-bottom: 5px;\\\">\\r\\n                <div style=\\\"font-size: 15px;\\\">\\r\\n                  {{item.SoCT}}\\r\\n                </div>\\r\\n                <div style=\\\"font-size: 14px; padding-top: 5px;\\\">\\r\\n                  {{item.NgayCT}}\\r\\n                </div>\\r\\n              </td>\\r\\n              <td\\r\\n                style=\\\"width: 150px!important; padding: 5px; padding-top: 0px!important; vertical-align: top; text-align: right;\\\">\\r\\n                <div style=\\\"font-weight: bold;color: #7077d6;\\\">\\r\\n                  {{item.TongTien|number}} đ\\r\\n                </div>\\r\\n              </td>\\r\\n            </tr>\\r\\n            <tr>\\r\\n              <td colspan=\\\"3\\\">\\r\\n                <ion-button shape=\\\"round\\\" (click)=\\\"syncBill(item.ChungTuID)\\\">\\r\\n                  Đồng bộ\\r\\n                </ion-button>\\r\\n              </td>\\r\\n            </tr>\\r\\n          </table>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n\\r\\n  <ion-fab *ngIf=\\\"this.TabIndex == 1\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button style=\\\"width: 50px!important; height: 50px!important;\\\">\\r\\n      <ion-icon name=\\\"add\\\" (click)=\\\"addNew()\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NhaphangPage } from './nhaphang.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NhaphangPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NhaphangPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NhaphangPageRoutingModule } from './nhaphang-routing.module';\r\n\r\nimport { NhaphangPage } from './nhaphang.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    NhaphangPageRoutingModule\r\n  ],\r\n  declarations: [NhaphangPage]\r\n})\r\nexport class NhaphangPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25oYXBraG8vbmhhcGhhbmcvbmhhcGhhbmcucGFnZS5zY3NzIn0= */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IonInfiniteScroll } from '@ionic/angular';\r\nimport { Observable } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { FunctionService } from '../../function.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { ModalController } from '@ionic/angular';\r\nimport _ from 'lodash'\r\nimport { NhaphangAddnewPage } from '../nhaphang-addnew/nhaphang-addnew.page';\r\n@Component({\r\n  selector: 'app-nhaphang',\r\n  templateUrl: './nhaphang.page.html',\r\n  styleUrls: ['./nhaphang.page.scss'],\r\n})\r\nexport class NhaphangPage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  TabIndex: number = 1;\r\n  UserName: string = \"\";\r\n\r\n  Keyword: string = \"\";\r\n  currentPage: number = 0;\r\n  pageSize: number = 20;\r\n  totalRecord: number = 0;\r\n  totalPage: number = 0;\r\n\r\n  tuNgay: string = new Date().toISOString();\r\n  denNgay: string = new Date(new Date().getTime() + (1 * (1 * 24 * 60 * 60 * 1000))).toISOString();\r\n  BillData: Observable<any>;\r\n  Bill: Array<{ ChungTuID: string, SoCT: string, NgayCT: string, TongTien: number }>;\r\n  BillAll: any;\r\n\r\n  BillFull: Array<{ id: string, createDate: string, totalMoney: number, typeInput: string, wid: string, note: string }>;\r\n\r\n  BillDetailData: Observable<any>;\r\n  BillDetail: Array<{\r\n    packet: string, pid: number, productName: string, productUnit: string, productNumber: number\r\n    , productPrice: number, productPrice1: number, productPrice2: number, productMoney: number, productDate: string, productExpiryDate: string, createDate: string, nationalId: string,\r\n    barcode: string, productNumberRate: number\r\n  }>;\r\n  BillDetailAll: any;\r\n\r\n  _id: string = \"\";\r\n  _createDate: string = \"\";\r\n  _totalMoney: number = 0;\r\n  _note: string = \"\";\r\n\r\n  Message: string = \"\";\r\n\r\n  sendChungtu: any = {\r\n    \"nam_du_lieu\": \"2023\",\r\n    \"loaictid\": 1\r\n\r\n  }\r\n  lstChungTu: Array<{ LoaiCTID: string, LoaiNX: string, DienGiai: string }>;\r\n  loaiChungTu: number = 0;\r\n  loaiChungTuAll: any;\r\n\r\n  constructor(\r\n    public Function: FunctionService,\r\n    public router: Router,\r\n    public toastController: ToastController,\r\n    private modalController: ModalController\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.getLoaiCT();\r\n    this.getData();\r\n  }\r\n  getData() {\r\n    // let officeId = localStorage.getItem(\"officeId\")\r\n    // this.BillData = this.Function.getTongHopNhapKho(officeId, this.tuNgay, this.denNgay, this.Keyword)\r\n    // if (this.BillData != null) {\r\n    //   this.BillData.subscribe(data => {\r\n    //     console.log(data);\r\n    //     this.Bill = data;\r\n    //     this.BillAll = this.Bill;\r\n    //   })\r\n    // }\r\n\r\n    this.sendChungtu.nam_du_lieu = new Date().getFullYear().toString();\r\n    this.sendChungtu.loaictid = this.loaiChungTu;\r\n    this.Function.getChungtu(this.sendChungtu).subscribe((response: any) => {\r\n      console.log(response);\r\n      this.Bill = response;\r\n      this.BillAll = this.Bill;\r\n\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n\r\n      }, 1000);\r\n    });\r\n\r\n  }\r\n\r\n  onLoaiCTChange(loaiCT: any) {\r\n    let val = loaiCT.target.value;\r\n    console.log(\"146\", val)\r\n    this.loaiChungTu = Number(val);\r\n    this.getData();\r\n  }\r\n\r\n  getLoaiCT() {\r\n    this.Function.getLoaiCT().subscribe(data => {\r\n      let index = data.indexOf(1)\r\n      data.splice(index);\r\n      index = data.indexOf(2);\r\n      data.splice(index);\r\n      data.splice(1, 1);\r\n      console.log(\"141\", data);\r\n      this.lstChungTu = data;\r\n    })\r\n  }\r\n\r\n  syncBill(id: any) {\r\n    let data = this.Function.dongboCT(id.toString());\r\n    if (data) {\r\n      data.subscribe(rs => {\r\n        console.log(rs)\r\n        if (rs.code == 200) {\r\n          if (rs.message != \"\") {\r\n            this.presentToastMsg(rs.message)\r\n          }\r\n        }\r\n        else {\r\n          this.presentToastMsg1(rs.message)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  async addNew() {\r\n    const modal = await this.modalController.create({\r\n      component: NhaphangAddnewPage,\r\n      swipeToClose: true,\r\n      componentProps: {\r\n\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log('dataReturned', dataReturned);\r\n\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  async presentToastMsg(msg) {\r\n    const toast = await this.toastController.create({\r\n      message: '<center>' + msg + '</center>',\r\n      color: 'success',\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async presentToastMsg1(msg) {\r\n    const toast = await this.toastController.create({\r\n      message: '<center>' + msg + '</center>',\r\n      color: 'danger',\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n  filterInfo(pid: any) {\r\n    const val: string = pid.target.value;\r\n    console.log(val)\r\n    if (val && val.trim() != '') {\r\n      this.Bill = _.values(this.BillAll);\r\n      this.Bill = this.Bill.filter((info) => {\r\n        return (\r\n          info.SoCT.toLowerCase().indexOf(val.toLowerCase()) > -1\r\n        )\r\n      })\r\n    }\r\n    else {\r\n      this.Bill = this.BillAll;\r\n    }\r\n  }\r\n\r\n  closeTab() {\r\n    this.TabIndex = 1;\r\n  }\r\n\r\n  openTab(_Tabindex) {\r\n    this.TabIndex = _Tabindex;\r\n  }\r\n\r\n  openBack() {\r\n    this.router.navigateByUrl(\"tabs/tab3\");\r\n  }\r\n\r\n\r\n\r\n}\r\n"]}
{"version":3,"sources":["webpack:///src/app/donvitinh/dvt/dvt.component.html","webpack:///src/app/vattu/vattu-index/vattu-index.page.html","webpack:///src/app/donvitinh/dvt/dvt.component.scss","webpack:///src/app/donvitinh/dvt/dvt.component.ts","webpack:///src/app/service/xuatkho.service.ts","webpack:///src/app/vattu/vattu-index/vattu-index.page.scss","webpack:///src/app/vattu/vattu-index/vattu-index.page.ts"],"names":["DVTComponent","navParams","LoadingService","XuatkhoService","popoverController","GlobalService","DVT","MaVT","listDVT","InOutType","data","getDVT","setValue","localStorage","getItem","DonViTinh","subscribe","response","console","log","error","item","dismiss","selector","template","http","router","toastController","http1","storage","modalController","convertHelper","apiUrl","_url","env","headers","append","post","pipe","res","json","nam_du_lieu","loaictid","get","ChungTuID","body","providedIn","VattuIndexPage","VattuService","cdr","currencyPipe","listData","listDataSearch","listVattu","page","listExist","timeout","sumThanhTien","countVattu","keyword","sendVattu","pageInfo","makho","displayImg","countIndex","JSON","parse","listItem","countMoney","getSandVT","khohang","banggia","getVattu","slice","pageSize","i","length","getVattuTonTai","LoHang","j","index","check","HanDung","SoLuong","Intl","NumberFormat","format","replace","Img","undefined","includes","toString","GetListVT","e","arrPlan","target","value","deleteSearch","clearTimeout","$this","setTimeout","find","o","TenVT","toLowerCase","push","forEach","a","findIndex","b","VatTuID","DonGia","GiaBanLe","GiaBanSy","HTTT","filter","x","type","checkIndex","checkIndexExit","String","convNumber","transform","Number","ThanhTien","getTongTien","TongTien","VAT","ChietKhau","billDetail","closeModalSenData","create","component","cssClass","componentProps","translucent","popover","present","onDidDismiss","then","dataReturned","GiaMua","closeModal","event","complete"],"mappings":"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","file":"default~bill-bill-detail-bill-detail-module~nhapkho-nhaphang-detail-nhaphang-detail-module~nhapkho-n~4e72f4b3-es5.js","sourcesContent":["export default \"<ion-content>\\r\\n  <div class=\\\"dvt\\\">\\r\\n    <table>\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th class=\\\"text-left\\\">Đơn vị tính</th>\\r\\n          <th class=\\\"text-right\\\">Đơn giá</th>\\r\\n          <th class=\\\"text-right\\\">Quy đổi</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let item of listDVT\\\" [class.bg-hover]=\\\"item.DVT == DVT\\\" (click)=\\\"handleDVT(item)\\\">\\r\\n          <td class=\\\"text-left\\\">{{item.DVT}}</td>\\r\\n          <td *ngIf=\\\"InOutType=='N'\\\" class=\\\"text-right\\\">{{item.GiaMua | number}}</td>\\r\\n          <td *ngIf=\\\"InOutType!='N'\\\" class=\\\"text-right\\\">{{item.GiaBanLe | number}}</td>\\r\\n          <td class=\\\"text-right\\\">{{item.SoLuongQuyDoi}}</td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n\\r\\n    </table>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-buttons (click)=\\\"closeModal()\\\" slot=\\\"start\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"font-size: 25px;\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title style=\\\"font-weight: 600; text-align: center;\\\">\\r\\n      Vật tư\\r\\n    </ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\" --padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <!-- <ion-icon name=\\\"duplicate-outline\\\"></ion-icon> -->\\r\\n      </ion-item>\\r\\n\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <div class=\\\"product-header\\\">\\r\\n    <div class=\\\"product-search\\\">\\r\\n      <input (keyup)=\\\"onSearch($event)\\\" [(ngModel)]=\\\"pageInfo.keyword\\\" type=\\\"text\\\"\\r\\n        placeholder=\\\"Tìm kiếm tên hàng hóa ...\\\" style=\\\"text-align: left; background: white;\\\">\\r\\n      <!-- <ion-icon class=\\\"search-icon\\\" *ngIf=\\\"pageInfo.keyword == ''\\\" name=\\\"search-outline\\\"></ion-icon> -->\\r\\n      <ion-icon (click)=\\\"deleteSearch()\\\" *ngIf=\\\"pageInfo.keyword != ''\\\" class=\\\"search-icon2\\\"\\r\\n        name=\\\"close-circle-outline\\\"></ion-icon>\\r\\n    </div>\\r\\n    <!-- <div class=\\\"product-add\\\">\\r\\n        <div class=\\\"synthetic-item2\\\">\\r\\n          <div class=\\\"synthetic-item-left\\\">\\r\\n            {{countVattu | number}} mặt hàng\\r\\n          </div>\\r\\n          <div (click)=\\\"openModal()\\\" class=\\\"synthetic-item2-right\\\">\\r\\n            <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>\\r\\n          </div>\\r\\n        </div> \\r\\n    </div> -->\\r\\n  </div>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n  <div class=\\\"product\\\">\\r\\n    <div (click)=\\\"getItem(item)\\\" *ngFor=\\\"let item of listData; index as i\\\" class=\\\"product-item border-b\\\"\\r\\n      [class]=\\\"item.checkHover == true ? 'bg-hover' : ''\\\">\\r\\n      <div *ngIf=\\\"displayImg\\\" class=\\\"product-img\\\">\\r\\n        <img *ngIf=\\\"!item.Img\\\" src=\\\"../../../assets/images/no-img.jpg\\\" alt=\\\"\\\">\\r\\n        <img *ngIf=\\\"item.Img\\\" [src]=\\\"item.Img\\\" alt=\\\"\\\">\\r\\n\\r\\n      </div>\\r\\n      <div class=\\\"product-content\\\">\\r\\n        <div class=\\\"product-content-item\\\">\\r\\n          <div class=\\\"product-content-left product-content-title\\\">\\r\\n            {{item.TenVT}}\\r\\n          </div>\\r\\n          <div class=\\\"product-content-right\\\">\\r\\n            <button *ngIf=\\\"!item.check\\\" (click)=\\\"handleAdd(true, i, item)\\\">\\r\\n              <ion-icon name=\\\"add-outline\\\"></ion-icon>\\r\\n              Thêm\\r\\n            </button>\\r\\n            <button *ngIf=\\\"item.check\\\" (click)=\\\"handleAdd(false, i, item)\\\" class=\\\"product-red\\\">\\r\\n              <ion-icon name=\\\"remove-outline\\\"></ion-icon> Hủy\\r\\n            </button>\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"product-content-item mt-6\\\">\\r\\n          <div class=\\\"product-content-left\\\">\\r\\n            <span>ĐVT:</span>\\r\\n            <span (click)=\\\"handleDVT(item.MaVT, item.DVT, i)\\\">\\r\\n              {{item.DVT}}\\r\\n            </span>\\r\\n\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"product-content-right\\\">\\r\\n            <div class=\\\"product-content-left\\\">\\r\\n              <span>Lượng tồn:</span>\\r\\n              {{item.LuongTon}}\\r\\n\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"product-content-item mt-6\\\">\\r\\n          <div class=\\\"product-content-left\\\">\\r\\n            <span>Lô hàng:</span>\\r\\n            <!-- {{item.LoHang}} -->\\r\\n            <div *ngIf=\\\"!item.check || page =='xuatbanle'\\\">{{item.LoHang}}</div>\\r\\n\\r\\n            <input *ngIf=\\\"item.check && page == 'nhapmua'\\\" [style.width]=\\\"displayImg ? '75px' : '106px'\\\"\\r\\n              [class]=\\\"item.checkHover == true ? 'bg-hover' : ''\\\" type=\\\"text\\\" [(ngModel)]=\\\"item.LoHang\\\"\\r\\n              (ngModelChange)=\\\"setItem('LoHang',item.MaVT, $event) \\\">\\r\\n\\r\\n          </div>\\r\\n          <div class=\\\"product-content-right\\\">\\r\\n            <div class=\\\"product-content-left\\\">\\r\\n              <span>Hạn dùng:</span>\\r\\n              <div *ngIf=\\\"!item.check || page =='xuatbanle'\\\">{{item.HanDung}}</div>\\r\\n              <input *ngIf=\\\"item.check && page == 'nhapmua'\\\" [class]=\\\"item.checkHover == true ? 'bg-hover' : ''\\\"\\r\\n                type=\\\"date\\\" placeholder='' [(ngModel)]=\\\"item.HanDung\\\"\\r\\n                (ngModelChange)=\\\"setItem('HanDung',item.MaVT, $event)\\\" [style.width]=\\\"displayImg ? '75px' : '106px'\\\">\\r\\n\\r\\n\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"product-content-item mt-6\\\">\\r\\n          <div class=\\\"product-content-left\\\">\\r\\n            <span style=\\\"margin-right: 3px;\\\">Giá bán:</span>\\r\\n            <div *ngIf=\\\"!item.check\\\">{{item.DonGia | number}}</div>\\r\\n\\r\\n            <input *ngIf=\\\"item.check\\\" [class]=\\\"item.checkHover == true ? 'bg-hover' : ''\\\" type=\\\"text\\\"\\r\\n              [style.width]=\\\"displayImg ? '75px' : '106px'\\\" [(ngModel)]=\\\"item.DonGia\\\"\\r\\n              (ngModelChange)=\\\"formatInput('DonGia',item.MaVT, item.DonGia, i) \\\">\\r\\n\\r\\n          </div>\\r\\n          <div *ngIf=\\\"item.check\\\" class=\\\"product-content-right\\\">\\r\\n            <div class=\\\"product-content-left\\\">\\r\\n              <span>Số lượng:</span>\\r\\n\\r\\n              <!-- <ion-icon (click)=\\\"formatInput('SoLuong', item.MaVT, item.LoHang, i, 'plus', $event)\\\" name=\\\"add-circle-outline\\\"></ion-icon> -->\\r\\n              <div style=\\\"margin-top: 4px;\\\">\\r\\n                <input [style.width]=\\\"displayImg ? '75px' : '106px'\\\" [class]=\\\"item.checkHover == true ? 'bg-hover' : ''\\\"\\r\\n                  type=\\\"text\\\" [(ngModel)]=\\\"item.SoLuong\\\"\\r\\n                  (ngModelChange)=\\\"formatInput('SoLuong', item.MaVT, item.LoHang, i, '', $event)\\\">\\r\\n              </div>\\r\\n              <!-- <ion-icon (click)=\\\"formatInput('SoLuong', item.MaVT, i, 'subtraction', $event)\\\" name=\\\"remove-circle-outline\\\"></ion-icon> -->\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <!-- <table class=\\\"product-table\\\">\\r\\n          <tr>\\r\\n            <td>\\r\\n              <div class=\\\"product-table-item\\\">\\r\\n                <label>ĐVT:</label>\\r\\n                <span (click)=\\\"handleDVT(item.MaVT, item.DVT, i)\\\">\\r\\n                  {{item.DVT}}\\r\\n                </span>\\r\\n              </div>\\r\\n            </td>\\r\\n            <td>\\r\\n              <div class=\\\"product-table-item\\\">\\r\\n                <label>Lượng tồn:</label>\\r\\n                {{item.LuongTon}}\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n          <tr>\\r\\n            <td>\\r\\n              <div class=\\\"product-table-item\\\">\\r\\n                <label>Lô hàng:</label>\\r\\n                <div *ngIf=\\\"!item.check || page =='xuatbanle'\\\">{{item.LoHang}}</div>\\r\\n\\r\\n                <input *ngIf=\\\"item.check && page == 'nhapmua'\\\" [class]=\\\"item.checkHover == true ? 'bg-hover' : ''\\\"\\r\\n                  type=\\\"text\\\" [(ngModel)]=\\\"item.LoHang\\\" (ngModelChange)=\\\"setItem('LoHang',item.MaVT, $event) \\\">\\r\\n\\r\\n              </div>\\r\\n\\r\\n            </td>\\r\\n            <td>\\r\\n              <div class=\\\"product-table-item\\\">\\r\\n                <label>Hạn dùng:</label>\\r\\n                <div *ngIf=\\\"!item.check || page =='xuatbanle'\\\">{{item.HanDung}}</div>\\r\\n                <input *ngIf=\\\"item.check && page == 'nhapmua'\\\" [class]=\\\"item.checkHover == true ? 'bg-hover' : ''\\\"\\r\\n                  type=\\\"date\\\" placeholder='' [(ngModel)]=\\\"item.HanDung\\\"\\r\\n                  (ngModelChange)=\\\"setItem('HanDung',item.MaVT, $event)\\\">\\r\\n              </div>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </table> -->\\r\\n\\r\\n\\r\\n\\r\\n        <!-- <div class=\\\"product-content-item mt-6\\\">\\r\\n          <div *ngIf=\\\"listVattu[i].SoLuong > item.LuongTon\\\" class=\\\"product-content-right alertErr\\\">\\r\\n            <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon> Số lượng không hợp lệ\\r\\n          </div>\\r\\n        </div> -->\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <ion-infinite-scroll *ngIf=\\\"!pageInfo.keyword\\\" (ionInfinite)=\\\"doInfinite($event)\\\">\\r\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"Đang tải dữ liệu...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <div class=\\\"product-footer\\\">\\r\\n      <table>\\r\\n        <tr>\\r\\n          <td class=\\\"product-bold\\\">Số vật tư: <span>{{listExist.length}}</span></td>\\r\\n          <td class=\\\"product-bold text-right\\\">T.Tiền: <span>{{sumThanhTien | number}}</span></td>\\r\\n        </tr>\\r\\n      </table>\\r\\n      <div class=\\\"product-footer-left\\\">\\r\\n        <!-- <div class=\\\"product-footer-form\\\">\\r\\n        <ion-icon name=\\\"receipt-outline\\\"></ion-icon>\\r\\n        <div class=\\\"product-footer-number\\\">2</div>\\r\\n      </div> -->\\r\\n        <button (click)=\\\"handleProduct()\\\">CHỌN VẬT TƯ</button>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-footer>\";","export default \".dvt {\\n  padding: 20px;\\n}\\n\\ntable {\\n  width: 100%;\\n}\\n\\nthead th {\\n  padding: 12px 0;\\n  font-weight: 600;\\n}\\n\\ntd {\\n  padding: 12px 0;\\n  border-top: 1px solid #e1f0f3;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZG9udml0aW5oL2R2dC9kdnQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0FBQ0o7O0FBR0E7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7QUFBSjs7QUFHQTtFQUNJLGVBQUE7RUFDQSw2QkFBQTtBQUFKIiwiZmlsZSI6InNyYy9hcHAvZG9udml0aW5oL2R2dC9kdnQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZHZ0e1xyXG4gICAgcGFkZGluZzogMjBweDtcclxufVxyXG5cclxudGFibGV7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHJcbn1cclxuXHJcbnRoZWFkIHRoe1xyXG4gICAgcGFkZGluZzogMTJweCAwO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxudGR7XHJcbiAgICBwYWRkaW5nOiAxMnB4IDA7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2UxZjBmMztcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { NavParams, PopoverController } from '@ionic/angular';\r\nimport { GlobalService } from 'src/app/service/global.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { XuatkhoService } from 'src/app/service/xuatkho.service';\r\n\r\n@Component({\r\n  selector: 'app-dvt',\r\n  templateUrl: './dvt.component.html',\r\n  styleUrls: ['./dvt.component.scss'],\r\n})\r\nexport class DVTComponent implements OnInit {\r\n  DVT: string = '';\r\n  MaVT: string = '';\r\n  listDVT: any = [];\r\n  InOutType: string = \"N\";\r\n\r\n  constructor(\r\n    private navParams: NavParams,\r\n    private LoadingService: LoadingService,\r\n    private XuatkhoService: XuatkhoService,\r\n    public popoverController: PopoverController,\r\n    private GlobalService: GlobalService,\r\n\r\n  ) {\r\n    this.DVT = this.navParams.data.DVT;\r\n    this.MaVT = this.navParams.data.MaVT;\r\n    this.getDVT();\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  getDVT() {\r\n    this.LoadingService.setValue(true);\r\n    this.InOutType = localStorage.getItem(\"InOutType\");\r\n\r\n    this.XuatkhoService.DonViTinh(this.MaVT).subscribe((response: any) => {\r\n      console.log(\"36\", response);\r\n      this.listDVT = response;\r\n      // for (let i = 0; i < this.listDVT.length; i++) {\r\n      //   if(this.listDVT[i].MaVT == this.MaVT){\r\n      //     this.listDVT[i].check = true;\r\n      //   }else{\r\n      //     this.listDVT[i].check = false;\r\n      //   }\r\n      // }\r\n\r\n      this.LoadingService.setValue(false);\r\n    }, (error) => {\r\n      console.log('error', error);\r\n      this.LoadingService.setValue(false);\r\n\r\n    });\r\n  }\r\n\r\n  handleDVT(item) {\r\n    this.popoverController.dismiss(item);\r\n    // this.GlobalService.closeModalSenData(item);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestMethod, RequestOptions } from '@angular/http';\r\nimport { map } from \"rxjs/operators\";\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Buffer } from \"buffer\";\r\nimport { ModalController } from '@ionic/angular';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Observable } from 'rxjs';\r\nimport { convertHelper } from '../share/helper';\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class XuatkhoService {\r\n\r\n    apiUrl: string = '';\r\n    constructor(\r\n        private http: Http,\r\n        public router: Router,\r\n        public toastController: ToastController,\r\n        private http1: HttpClient,\r\n        private storage: Storage,\r\n        private modalController: ModalController,\r\n        public convertHelper: convertHelper\r\n    ) {\r\n    }\r\n\r\n    getTongHopXuatKho(item) {\r\n        let _url = this.convertHelper.env() + \"Report/TongHopXuatKho\";\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.post(_url, item, { headers: headers }).pipe(map(res => res.json()));\r\n    }\r\n\r\n    getChungtu(item) {\r\n\r\n        let _url = this.convertHelper.env() + `ChungTu?nam_du_lieu=${item.nam_du_lieu}&loaictid=${item.loaictid}`;\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.get(_url, { headers: headers }).pipe(map(res => res.json()));\r\n    }\r\n\r\n    xuatHangDetail(item) {\r\n        let _url = this.convertHelper.env() + `ChungTu/${item.ChungTuID}?nam_du_lieu=${item.nam_du_lieu}`;\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.get(_url, { headers: headers }).pipe(map(res => res.json()));\r\n    }\r\n\r\n    createXuatHang(item) {\r\n        console.log(\"Xuat hang\", item)\r\n        let _url = this.convertHelper.env() + \"ChungTu\";\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.post(_url, item, { headers: headers }).pipe(map(res => res.json()));\r\n    }\r\n\r\n    updateXuatHang(item) {\r\n        let _url = this.convertHelper.env() + \"ChungTu\";\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.post(_url, item, { headers: headers }).pipe(map(res => res.json()));\r\n    }\r\n\r\n    deleteXuatHang(item) {\r\n        let _url = this.convertHelper.env() + \"ChungTu\";\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.delete(_url, new RequestOptions({\r\n            headers: headers,\r\n            body: item\r\n        }));\r\n    }\r\n\r\n    // deleteXuatHang(item): Observable<any> {\r\n    //     const _url = this.convertHelper.env() + \"ChungTu\";\r\n\r\n    //     const headers = new Headers({\r\n    //       'Authorization': 'Bearer ' + localStorage.getItem(\"Token\"),\r\n    //       'Content-Type': 'application/json',  // Set content type to JSON\r\n    //     });\r\n\r\n    //     // Note: You may need to adjust the payload structure based on your server's expectations\r\n    //     const options = {\r\n    //       headers: headers,\r\n    //       body: item\r\n    //     };\r\n\r\n    //     return this.http.delete(_url, new RequestOptions(options));\r\n    //   }\r\n\r\n    heThong() {\r\n        let _url = this.convertHelper.env() + \"HeThong\";\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.get(_url, { headers: headers }).pipe(map(res => res.json()));\r\n    }\r\n\r\n    DonViTinh(MaVT) {\r\n        console.log(\"102 - \", MaVT)\r\n        let _url = this.convertHelper.env() + \"DonViTinh/\" + MaVT;\r\n        const headers = new Headers();\r\n        headers.append('Authorization', 'Bearer  ' + localStorage.getItem(\"Token\"))\r\n        return this.http.get(_url, { headers: headers }).pipe(map(res => res.json()));\r\n    }\r\n}\r\n","export default \".product-header {\\n  position: sticky;\\n  top: 0;\\n  background: white;\\n  z-index: 9;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n.product-search {\\n  padding: 0 10px 10px 10px;\\n  position: relative;\\n  background: var(--background-color);\\n}\\n.product-search input {\\n  width: 100%;\\n  padding: 8px;\\n  border-radius: 5px;\\n  border: 1px solid gray;\\n}\\n.product-search ion-icon {\\n  position: absolute;\\n  right: 20px;\\n  top: 8px;\\n  font-size: 22px;\\n  color: var(--background-color);\\n}\\n.product-img {\\n  width: 70px;\\n  margin-right: 10px;\\n  display: flex;\\n  align-items: center;\\n}\\n.product-img img {\\n  height: 100px;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  border-radius: 4px;\\n}\\n.product-title {\\n  padding: 14px 10px 0;\\n  font-weight: 600;\\n  font-size: 20px;\\n  color: var(--gray-dark);\\n}\\n.product-item {\\n  display: flex;\\n  padding: 10px;\\n}\\n.product-icon {\\n  font-size: 20px;\\n  padding-right: 15px;\\n}\\n.product-red {\\n  border: 1px solid var(--red-dark) !important;\\n  color: var(--red-dark) !important;\\n}\\n.product-table-item {\\n  display: flex;\\n  align-items: center;\\n}\\n.product-table-item label {\\n  white-space: nowrap;\\n}\\n.product-table-item input {\\n  width: 100%;\\n}\\n.product-table td {\\n  width: 50%;\\n}\\n.product-content {\\n  width: 100%;\\n}\\n.product-content-item {\\n  display: flex;\\n  color: var(--text-blue);\\n}\\n.product-content-left {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n}\\n.product-content-left ion-icon {\\n  border: 1px solid gray;\\n  border-radius: 3px;\\n}\\n.product-content-title {\\n  font-weight: 600;\\n  font-size: 16px;\\n  color: var(--background-color);\\n}\\n.product-content-sm {\\n  font-size: 14px;\\n  color: gray;\\n}\\n.product-content-right {\\n  margin-left: auto;\\n  color: var(--text-blue);\\n}\\n.product-content-right ion-icon {\\n  font-size: 15px;\\n}\\n.product-content-right button {\\n  border: 1px solid var(--text-blue);\\n  color: var(--text-blue);\\n  padding: 6px;\\n  border-radius: 5px;\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n}\\n.product-content-sl {\\n  display: flex;\\n  gap: 10px;\\n}\\n.product-content-sl ion-icon {\\n  font-size: 24px;\\n  color: var(--primary-color);\\n}\\n.product-footer {\\n  padding: 6px;\\n}\\n.product-footer button {\\n  color: white;\\n  background: var(--background-color);\\n  width: 100%;\\n  margin-left: auto;\\n  padding: 12px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  border-radius: 5px;\\n}\\n.product-footer-left {\\n  display: flex;\\n  align-items: center;\\n}\\n.product-footer-left ion-icon {\\n  font-size: 18px;\\n}\\n.product-footer-form {\\n  position: absolute;\\n  width: 50px;\\n  height: 40px;\\n  background: #616161;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 5px;\\n  color: white;\\n}\\n.product-footer-number {\\n  border-radius: 100vw;\\n  position: absolute;\\n  top: -4px;\\n  right: -7px;\\n  width: 20px;\\n  height: 20px;\\n  background: #0663a9;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: 1px solid white;\\n  font-size: 10px;\\n}\\n.border-b {\\n  border-bottom: 1px solid #bfbfbf;\\n}\\ntable {\\n  width: 100%;\\n  margin-bottom: 10px;\\n}\\ntd {\\n  padding: 0px;\\n}\\ntd span {\\n  color: var(--background-color);\\n  font-weight: 600;\\n}\\ninput[type=text],\\ninput[type=number], input[type=date] {\\n  border: 1px solid #a7e9f7;\\n  text-align: center;\\n  background: #a7e9f7;\\n  border-radius: 5px;\\n  padding: 4px 0;\\n}\\ninput[type=text]:focus {\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmF0dHUvdmF0dHUtaW5kZXgvdmF0dHUtaW5kZXgucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1JO0VBQ0ksZ0JBQUE7RUFDQSxNQUFBO0VBQ0EsaUJBQUE7RUFDQSxVQUFBO0VBQ0EsMkNBQUE7QUFMUjtBQVNJO0VBQ0kseUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1DQUFBO0FBUFI7QUFTUTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtBQVBaO0FBVVE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLDhCQUFBO0FBUlo7QUFZSTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQVZSO0FBWVE7RUFFSSxhQUFBO0VBQ0Esb0JBQUE7S0FBQSxpQkFBQTtFQUNBLGtCQUFBO0FBWFo7QUFlSTtFQUNJLG9CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsdUJBQUE7QUFiUjtBQWdCSTtFQUNJLGFBQUE7RUFDQSxhQUFBO0FBZFI7QUFpQkk7RUFDSSxlQUFBO0VBQ0EsbUJBQUE7QUFmUjtBQWtCSTtFQUNJLDRDQUFBO0VBQ0EsaUNBQUE7QUFoQlI7QUFzQlE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUFwQlo7QUFzQlk7RUFDSSxtQkFBQTtBQXBCaEI7QUF1Qlk7RUFDSSxXQUFBO0FBckJoQjtBQTRCUTtFQUNJLFVBQUE7QUExQlo7QUE4Qkk7RUFDSSxXQUFBO0FBNUJSO0FBOEJRO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0FBNUJaO0FBZ0NRO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsUUFBQTtBQTlCWjtBQXNDWTtFQUNJLHNCQUFBO0VBQ0Esa0JBQUE7QUFwQ2hCO0FBeUNRO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsOEJBQUE7QUF2Q1o7QUEwQ1E7RUFDSSxlQUFBO0VBQ0EsV0FBQTtBQXhDWjtBQTJDUTtFQUNJLGlCQUFBO0VBQ0EsdUJBQUE7QUF6Q1o7QUErQ1k7RUFDSSxlQUFBO0FBN0NoQjtBQWdEWTtFQUNJLGtDQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxRQUFBO0FBOUNoQjtBQWtEUTtFQUNJLGFBQUE7RUFDQSxTQUFBO0FBaERaO0FBa0RZO0VBQ0ksZUFBQTtFQUNBLDJCQUFBO0FBaERoQjtBQXVESTtFQUNJLFlBQUE7QUFyRFI7QUF1RFE7RUFDSSxZQUFBO0VBQ0EsbUNBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUFyRFo7QUF3RFE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7QUF0RFo7QUF5RFk7RUFDSSxlQUFBO0FBdkRoQjtBQTREUTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBMURaO0FBOERRO0VBQ0ksb0JBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0FBNURaO0FBa0VBO0VBQ0ksZ0NBQUE7QUEvREo7QUFrRUE7RUFDSSxXQUFBO0VBQ0EsbUJBQUE7QUEvREo7QUFrRUE7RUFDSSxZQUFBO0FBL0RKO0FBa0VBO0VBQ0ksOEJBQUE7RUFDQSxnQkFBQTtBQS9ESjtBQWtFQTs7RUFFSSx5QkFBQTtFQUVBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7QUFoRUo7QUFtRUE7RUFDSSxhQUFBO0FBaEVKIiwiZmlsZSI6InNyYy9hcHAvdmF0dHUvdmF0dHUtaW5kZXgvdmF0dHUtaW5kZXgucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2R1Y3Qge1xyXG5cclxuICAgIC8vIHBhZGRpbmc6IDEwcHggMTVweDtcclxuICAgIC8vIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgLy8gbWFyZ2luLXRvcDogMTVweDtcclxuICAgIC8vIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4xNikgMHB4IDFweCA0cHg7XHJcbiAgICAmLWhlYWRlciB7XHJcbiAgICAgICAgcG9zaXRpb246IHN0aWNreTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgei1pbmRleDogOTtcclxuICAgICAgICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMTYpIDBweCAxcHggNHB4O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAmLXNlYXJjaCB7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4IDEwcHggMTBweDtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcblxyXG4gICAgICAgIGlucHV0IHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDhweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgICB0b3A6IDhweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYtaW1nIHtcclxuICAgICAgICB3aWR0aDogNzBweDtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgICAgICBpbWcge1xyXG4gICAgICAgICAgICAvLyBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYtdGl0bGUge1xyXG4gICAgICAgIHBhZGRpbmc6IDE0cHggMTBweCAwO1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1ncmF5LWRhcmspO1xyXG4gICAgfVxyXG5cclxuICAgICYtaXRlbSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgfVxyXG5cclxuICAgICYtaWNvbiB7XHJcbiAgICAgICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7XHJcbiAgICB9XHJcblxyXG4gICAgJi1yZWQge1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXJlZC1kYXJrKSAhaW1wb3J0YW50O1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1yZWQtZGFyaykgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAmLXRhYmxle1xyXG4gICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgICYtaXRlbXtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHJcbiAgICAgICAgICAgIGxhYmVse1xyXG4gICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW5wdXR7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0ZHtcclxuICAgICAgICAgICAgd2lkdGg6IDUwJTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJi1jb250ZW50IHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuXHJcbiAgICAgICAgJi1pdGVtIHtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYmx1ZSk7XHJcbiAgICAgICAgICAgIC8vIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLWxlZnQge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICBnYXA6IDVweDtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBzcGFuIHtcclxuICAgICAgICAgICAgLy8gICAgIC8vIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuICAgICAgICAgICAgLy8gICAgIGNvbG9yOiBncmF5O1xyXG4gICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBncmF5O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi10aXRsZSB7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi1zbSB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICAgICAgY29sb3I6IGdyYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLXJpZ2h0IHtcclxuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWJsdWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gc3BhbiB7XHJcbiAgICAgICAgICAgIC8vICAgICBjb2xvcjogZ3JheTtcclxuICAgICAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAgICAgaW9uLWljb24ge1xyXG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBidXR0b24ge1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tdGV4dC1ibHVlKTtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWJsdWUpO1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogNnB4O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBnYXA6IDVweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJi1zbCB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgIGdhcDogMTBweDtcclxuXHJcbiAgICAgICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgICYtZm9vdGVyIHtcclxuICAgICAgICBwYWRkaW5nOiA2cHg7XHJcblxyXG4gICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1jb2xvcik7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmLWxlZnQge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICYtZm9ybSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgd2lkdGg6IDUwcHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzYxNjE2MTtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgJi1udW1iZXIge1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMDB2dztcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICB0b3A6IC00cHg7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAtN3B4O1xyXG4gICAgICAgICAgICB3aWR0aDogMjBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDY2M2E5O1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4uYm9yZGVyLWIge1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNiZmJmYmY7XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxudGQge1xyXG4gICAgcGFkZGluZzogMHB4O1xyXG59XHJcblxyXG50ZCBzcGFuIHtcclxuICAgIGNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG5pbnB1dFt0eXBlPVwibnVtYmVyXCJdLCBpbnB1dFt0eXBlPVwiZGF0ZVwiXXtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNhN2U5Zjc7XHJcbiAgICAvLyBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kOiAjYTdlOWY3O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgcGFkZGluZzogNHB4IDA7XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdOmZvY3Vze1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxufVxyXG4vLyBpbnB1dFt0eXBlPSdkYXRlJ106Oi13ZWJraXQtY2FsZW5kYXItcGlja2VyLWluZGljYXRvciB7XHJcbi8vICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuLy8gICAgIGJvdHRvbTogMDtcclxuLy8gICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcclxuLy8gICAgIGN1cnNvcjogcG9pbnRlcjtcclxuLy8gICAgIGhlaWdodDogYXV0bztcclxuLy8gICAgIGxlZnQ6IDA7XHJcbi8vICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbi8vICAgICByaWdodDogMDtcclxuLy8gICAgIHRvcDogMDtcclxuLy8gICAgIHdpZHRoOiBhdXRvO1xyXG4vLyB9XHJcblxyXG4iXX0= */\";","import { CurrencyPipe } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { NavParams, PopoverController } from '@ionic/angular';\r\nimport { GlobalService } from 'src/app/service/global.service';\r\nimport { KhoService } from 'src/app/service/kho.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { VattuService } from 'src/app/service/vattu.service';\r\nimport { DVTComponent } from 'src/app/donvitinh/dvt/dvt.component';\r\n\r\n@Component({\r\n  selector: 'app-vattu-index',\r\n  templateUrl: './vattu-index.page.html',\r\n  styleUrls: ['./vattu-index.page.scss'],\r\n})\r\nexport class VattuIndexPage implements OnInit {\r\n  listData: any = [];\r\n  listDataSearch: any = [];\r\n  listVattu: any = [];\r\n  page: string = '';\r\n  listExist: any = [];\r\n  timeout: any = '';\r\n  sumThanhTien: number = 0;\r\n  countVattu: number = 0;\r\n  keyword: string = '';\r\n  sendVattu = {\r\n    \"loainx\": \"''\",\r\n    \"khohang\": \"\",\r\n    \"banggia\": \"\"\r\n  }\r\n  pageInfo = {\r\n    'page': 1,\r\n    'pageSize': 20,\r\n    'keyword': \"\",\r\n  }\r\n  makho: string = '';\r\n  displayImg: boolean = false;\r\n  countIndex: number = -1;\r\n  constructor(\r\n    private GlobalService: GlobalService,\r\n    private LoadingService: LoadingService,\r\n    private VattuService: VattuService,\r\n    private cdr: ChangeDetectorRef,\r\n    private navParams: NavParams,\r\n    private currencyPipe: CurrencyPipe,\r\n    public popoverController: PopoverController,\r\n\r\n\r\n  ) {\r\n    this.listVattu = this.navParams.data.listVattu;\r\n    // console.log('this.listVattu', this.listVattu);\r\n    this.displayImg = JSON.parse(localStorage.getItem('displayImg') || 'false');\r\n\r\n    // console.log('this.navParams.data.listVattu ==========', this.navParams.data.listVattu);\r\n    // console.log('this.listVattu ============', this.listVattu);\r\n\r\n\r\n    if (this.listVattu) {\r\n      this.listDataSearch = this.listVattu;\r\n      this.listExist = this.navParams.data.listItem;\r\n      // console.log('this.navParams.data.listItem', this.navParams.data.listItem);\r\n      console.log('this.listExist', this.listExist);\r\n      this.countMoney(this.listExist);\r\n\r\n      // console.log('this.listExist', this.listExist);\r\n\r\n      this.getSandVT();\r\n    } else {\r\n      this.sendVattu.khohang = this.navParams.data.makho;\r\n      this.sendVattu.banggia = this.navParams.data.banggia;\r\n      this.getVattu();\r\n    }\r\n  }\r\n\r\n  ionViewDidEnter() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  getSandVT() {\r\n    var listItem = this.listVattu.slice(0, this.pageInfo.page * this.pageInfo.pageSize);\r\n    console.log('listItem', listItem);\r\n\r\n\r\n    for (let i = 0; i < listItem.length; i++) {\r\n      var getVattuTonTai = {\r\n        'index': -1,\r\n        'item': {},\r\n      };\r\n\r\n      listItem[i].LoHang = listItem[i].LoHang ? listItem[i].LoHang : '';\r\n\r\n      for (let j = 0; j < this.listExist.length; j++) {\r\n\r\n        this.listExist[j].LoHang = this.listExist[j].LoHang ? this.listExist[j].LoHang : '';\r\n\r\n        if (listItem[i].MaVT == this.listExist[j].MaVT && listItem[i].LoHang == this.listExist[j].LoHang) {\r\n          getVattuTonTai.index = i;\r\n          getVattuTonTai.item = this.listExist[j];\r\n          // console.log('aaaaaaaaaaa', getVattuTonTai.index);\r\n\r\n        }\r\n      }\r\n      // console.log('getVattuTonTai.index', getVattuTonTai.index);\r\n\r\n      if (getVattuTonTai.index > -1) {\r\n        // console.log('bbbbbbbbbbbbbb', getVattuTonTai.index);\r\n\r\n        listItem[i].check = true;\r\n        listItem[i].LoHang = getVattuTonTai.item['LoHang'] ? getVattuTonTai.item['LoHang'] : \"\";\r\n        listItem[i].HanDung = getVattuTonTai.item['HanDung'];\r\n        // console.log('listItem[i].SoLuong', listItem[i].SoLuong);\r\n\r\n        listItem[i].SoLuong = new Intl.NumberFormat().format(getVattuTonTai.item['SoLuong']).replace(/\\./g, ',');\r\n      } else {\r\n        listItem[i].check = false;\r\n      }\r\n    }\r\n    this.listData = listItem;\r\n    console.log(\"118\", listItem);\r\n    for (let i = 0; i <= this.listData.length - 1; i++) {\r\n      let item = this.listData[i];\r\n      if (item.Img != undefined) {\r\n        if (item.Img.includes(\"http\")) {\r\n          // console.log(\"Tìm thấy rồi\")\r\n        }\r\n        else {\r\n          item.Img = \"https://\" + localStorage.getItem(\"unit\").toString() + \".tvsgpp.net\" + item.Img;\r\n          // console.log(\"101\", item.Img);\r\n        }\r\n      }\r\n\r\n    }\r\n  };\r\n\r\n\r\n  getVattu() {\r\n    this.LoadingService.setValue(true);\r\n\r\n    this.VattuService.GetListVT(this.sendVattu).subscribe((response: any) => {\r\n      this.listData = response;\r\n      console.log(this.listVattu);\r\n      this.countVattu = response.length;\r\n      this.listDataSearch = response;\r\n      this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      this.LoadingService.setValue(false);\r\n      console.log('error', error);\r\n    });\r\n  }\r\n\r\n  onSearch(e: any) {\r\n    var arrPlan = [];\r\n    this.pageInfo.keyword = e.target.value;\r\n    this.pageInfo.page = 1;\r\n    if (!this.pageInfo.keyword) {\r\n      this.deleteSearch();\r\n    } else {\r\n      clearTimeout(this.timeout);\r\n      var $this = this;\r\n\r\n      this.timeout = setTimeout(function () {\r\n\r\n        $this.listDataSearch.find((o: any, i: any) => {\r\n          if (o.TenVT && o.TenVT.toLowerCase().includes($this.pageInfo.keyword.toLowerCase()) == true) {\r\n            arrPlan.push($this.listDataSearch[i]);\r\n          }\r\n        });\r\n\r\n        $this.listExist.forEach(function (a) {\r\n          var index = arrPlan.findIndex(function (b) {\r\n            return b.MaVT == a.MaVT;\r\n          });\r\n          if (index !== -1) {\r\n            arrPlan[index].check = true;\r\n            arrPlan[index].LoHang = a.LoHang ? a.LoHang : \"\";\r\n            arrPlan[index].HanDung = a.HanDung == '1900-01-01' ? \"\" : a.HanDung;\r\n            arrPlan[index].SoLuong = new Intl.NumberFormat().format(a.SoLuong).replace(/\\./g, ',');\r\n          }\r\n        });\r\n        $this.countVattu = arrPlan.length;\r\n        $this.listData = arrPlan;\r\n\r\n        // console.log(' $this.listDataSearch ',$this.listDataSearch );\r\n        // console.log(' $this.listData ',  $this.listData );\r\n\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  getItem(item) {\r\n    this.listData.find((o, i) => {\r\n      if (o.VatTuID == item.VatTuID) {\r\n        this.listData[i]['checkHover'] = true;\r\n      } else {\r\n        this.listData[i]['checkHover'] = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  handleAdd(check, index, item) {\r\n\r\n    this.listData[index].check = check;\r\n\r\n    if (check == true) {\r\n      this.listData[index].SoLuong = '1';\r\n\r\n      this.listExist.push({\r\n        \"_TenVT\": item.TenVT,\r\n        \"ChietKhau\": 0,\r\n        \"ChietKhau_Percent\": 0,\r\n        \"DVT\": item.DVT,\r\n        \"DonGia\": item.DonGia,\r\n        \"GiaBanLe\": item.GiaBanLe ? item.GiaBanLe : 0,\r\n        \"GiaBanSy\": item.GiaBanSy ? item.GiaBanSy : 0,\r\n        \"HTTT\": item.HTTT ? item.HTTT : '',\r\n        \"HanDung\": item.HanDung ? item.HanDung : '',\r\n        \"LoHang\": item.LoHang ? item.LoHang : '',\r\n        \"MaVT\": item.MaVT,\r\n        \"NhapXuatID\": 0,\r\n        \"SoLuong\": 1,\r\n        \"ThanhTien\": item.DonGia,\r\n        \"TongTien\": item.DonGia,\r\n        \"VAT\": 0,\r\n        \"VAT_Percent\": 0\r\n      });\r\n      // console.log('aaaaaaaaaa', this.listExist);\r\n\r\n    } else {\r\n      this.listExist = this.listExist.filter(x => x.MaVT !== item.MaVT);\r\n      // console.log('bbbbbbbbbb', this.listExist);\r\n\r\n    }\r\n\r\n    // console.log('sssssssss', this.listExist);\r\n\r\n    this.countMoney(this.listExist)\r\n\r\n  }\r\n\r\n  formatInput(item, MaVT, LoHang, index, type?, e?) {\r\n    // console.log('countIndex', countIndex);\r\n    LoHang = LoHang ? LoHang : '';\r\n    // console.log('LoHang', LoHang);\r\n\r\n    if (this.page == 'nhapmua') {\r\n      var checkIndex = this.listVattu.findIndex(x => x.MaVT == MaVT);\r\n      var checkIndexExit = this.listExist.findIndex(x => x.MaVT == MaVT);\r\n\r\n    } else {\r\n      var checkIndex = this.listVattu.findIndex(x => x.MaVT == MaVT && x.LoHang == LoHang);\r\n      var checkIndexExit = this.listExist.findIndex(x => x.MaVT == MaVT && x.LoHang == LoHang);\r\n\r\n    }\r\n\r\n    // console.log('checkIndex', checkIndex, checkIndexExit, this.listVattu[0]);\r\n\r\n    // if (type && type == 'plus') {\r\n    //   this.listVattu[checkIndex].SoLuong = String(e + 1);\r\n    // }\r\n    // if (type && type == 'subtraction') {\r\n    //   this.listVattu[checkIndex].SoLuong = String(e - 1);\r\n    // }\r\n    // console.log('this.listVattu[index][item]', this.listVattu[index][item]);\r\n\r\n\r\n    if (item == 'SoLuong') {\r\n      this.listVattu[checkIndex].SoLuong = String(e);\r\n    }\r\n\r\n    // console.log('checkIndex', checkIndex);\r\n    // console.log('this.listVattu', this.listVattu);\r\n    // console.log('this.listVattu[checkIndex]', this.listVattu[checkIndex]);\r\n    // console.log('this.listVattu[checkIndex][item]', this.listVattu[checkIndex][item]);\r\n\r\n    var convNumber = this.currencyPipe.transform(this.listVattu[checkIndex][item].replace(/\\D/g, '').replace(/^0+/, ''), ' ', 'symbol', '1.0-0')\r\n\r\n    this.listVattu[checkIndex][item] = convNumber;\r\n    // console.log('this.listVattu[checkIndex][item]', this.listVattu[checkIndex][item]);\r\n    // console.log('this.listExist[checkIndexExit]', checkIndexExit, this.listExist);\r\n\r\n    this.listExist[checkIndexExit][item] = Number(convNumber.replace(/,/g, ''));\r\n    if (item == \"DonGia\") {\r\n      this.listExist[checkIndexExit].ThanhTien = this.listExist[checkIndexExit].SoLuong * this.listExist[checkIndexExit].DonGia;\r\n      this.listVattu[checkIndex].DonGia = new Intl.NumberFormat().format(this.listExist[checkIndexExit].DonGia).replace(/\\./g, ',');\r\n      this.getTongTien(checkIndexExit);\r\n    }\r\n\r\n    if (item == \"SoLuong\") {\r\n      this.listExist[checkIndexExit].ThanhTien = this.listExist[checkIndexExit].SoLuong * this.listExist[checkIndexExit].DonGia;\r\n      this.listVattu[checkIndex].ThanhTien = new Intl.NumberFormat().format(this.listExist[checkIndexExit].ThanhTien).replace(/\\./g, ',');\r\n      this.getTongTien(checkIndexExit);\r\n    }\r\n  }\r\n\r\n  setItem(item, MaVT, e) {\r\n    var checkIndexExit = this.listExist.findIndex(x => x.MaVT === MaVT);\r\n    this.listExist[checkIndexExit][item] = e;\r\n\r\n  }\r\n\r\n  getTongTien(index) {\r\n    this.listExist[index].TongTien = this.listExist[index].ThanhTien + this.listExist[index].VAT - this.listExist[index].ChietKhau;\r\n    this.listVattu[index].TongTien = this.listExist[index].TongTien\r\n    this.countMoney(this.listExist);\r\n  }\r\n\r\n  countMoney(billDetail) {\r\n    this.sumThanhTien = 0;\r\n    for (let i = 0; i < billDetail.length; i++) {\r\n      this.sumThanhTien = this.sumThanhTien + billDetail[i].ThanhTien;\r\n    }\r\n  }\r\n\r\n\r\n  handleProduct() {\r\n    // this.GlobalService.closeModal();\r\n    // console.log('end', this.listExist);\r\n\r\n    this.GlobalService.closeModalSenData(this.listExist);\r\n  }\r\n\r\n  deleteSearch() {\r\n    this.pageInfo.keyword = '';\r\n    this.pageInfo.page = 1;\r\n    // this.listData = this.listDataSearch;\r\n    this.getSandVT();\r\n  }\r\n\r\n  async handleDVT(MaVT, DVT, index) {\r\n    const popover = await this.popoverController.create({\r\n      component: DVTComponent,\r\n      cssClass: 'popup-cont-info',\r\n      componentProps: {\r\n        \"MaVT\": MaVT,\r\n        \"DVT\": DVT\r\n      },\r\n      translucent: true,\r\n\r\n    });\r\n    await popover.present();\r\n\r\n    popover.onDidDismiss().then((dataReturned) => {\r\n      // console.log('dataReturned', dataReturned.data);\r\n      if (dataReturned.data) {\r\n        // console.log('this.listData', this.listData);\r\n        // this.listData[index].DVT =  dataReturned.data.DVT;\r\n        // this.listData[index].DonGia =  dataReturned.data.GiaMua;\r\n\r\n        for (let i = 0; i < this.listData.length; i++) {\r\n          if (this.listData[i].MaVT == MaVT) {\r\n            this.listData[i].DVT = dataReturned.data.DVT;\r\n            this.listData[i].DonGia = dataReturned.data.GiaMua;\r\n            // this.listData[i].DonGia = new Intl.NumberFormat().format(dataReturned.data.GiaMua).replace(/\\./g, ',');\r\n          }\r\n        }\r\n\r\n        for (let i = 0; i < this.listExist.length; i++) {\r\n          if (this.listExist[i].MaVT == MaVT) {\r\n            this.listExist[i].DVT = dataReturned.data.DVT;\r\n            this.listExist[i].DonGia = dataReturned.data.GiaMua;\r\n          }\r\n        }\r\n\r\n        var checkIndexExit = this.listExist.findIndex(x => x.MaVT === MaVT);\r\n\r\n        this.listExist[checkIndexExit].ThanhTien = this.listExist[checkIndexExit].SoLuong * this.listExist[checkIndexExit].DonGia;\r\n        this.listVattu[index].ThanhTien = new Intl.NumberFormat().format(this.listExist[checkIndexExit].ThanhTien).replace(/\\./g, ',');\r\n        this.getTongTien(checkIndexExit);\r\n\r\n        // this.listExist.forEach(function (a) {\r\n        //   // var index = this.listData.findIndex(function (b) {\r\n        //   //   return b.MaVT == a.MaVT;\r\n        //   // });\r\n        //   if (a.MaVT == MaVT) {\r\n        //     this.listData[index].DVT = dataReturned.data.DVT;\r\n        //   }\r\n        // });\r\n        // this.listData = listItem;\r\n        // this.sendItem.ChiTietHang[index].DVT = dataReturned.data.DVT;\r\n        // this.sendItem.ChiTietHang[index].DonGia = dataReturned.data.GiaMua;\r\n        // this.sendItem.ChiTietHang[index].GiaBanSy = dataReturned.data.GiaBanSy;\r\n        // this.sendItem.ChiTietHang[index].GiaBanLe = dataReturned.data.GiaBanLe;\r\n        // this.sendItem.ChiTietHang[index].ThanhTien = this.sendItem.ChiTietHang[index].SoLuong * this.sendItem.ChiTietHang[index].DonGia;\r\n\r\n        // this.displayChiTietHang[index].DonGia = new Intl.NumberFormat().format(dataReturned.data.GiaMua).replace(/\\./g, ',');\r\n        // this.getTongTien(index);\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n  closeModal() {\r\n\r\n    this.GlobalService.closeModal();\r\n    // const content = document.querySelector('ion-content');\r\n    //   content.classList.remove('camera');\r\n  }\r\n\r\n  doInfinite(event) {\r\n    this.pageInfo.page++;\r\n    setTimeout(() => {\r\n      event.target.complete();\r\n      this.getSandVT();\r\n    }, 500);\r\n  }\r\n}\r\n"]}
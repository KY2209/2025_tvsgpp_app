{"version":3,"sources":["webpack:///src/app/kho/kho-index/kho-index.page.html","webpack:///src/app/kho/kho-index/kho-index.page.scss","webpack:///src/app/kho/kho-index/kho-index.page.ts"],"names":["KhoIndexPage","GlobalService","navParams","LoadingService","KhoService","actionSheetController","modalController","AlertService","ToastService","listData","listDataSearch","timeout","keyword","countKho","data","listKho","getKho","setValue","subscribe","response","length","error","setTimeout","console","log","e","arrPlan","target","value","clearTimeout","$this","find","o","i","TenKho","toLowerCase","includes","push","item","KhoID","create","cssClass","buttons","text","icon","handler","addItem","deleteUnit","actionSheet","present","onDidDismiss","role","isCreate","KhoItem","component","componentProps","modal","then","dataReturned","id","presentAlert","res","deleteKho","JSON","parse","_body","successToast","closeModalSenData","closeModal","selector","template"],"mappings":"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","file":"default~bill-bill-detail-bill-detail-module~kho-kho-index-kho-index-module~nhapkho-nhaphang-detail-n~f03d13ee-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-buttons (click)=\\\"closeModal()\\\" slot=\\\"start\\\">\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <ion-icon name=\\\"chevron-back-outline\\\" style=\\\"font-size: 25px;\\\"></ion-icon>\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-title style=\\\"text-align: center!important;\\\">\\r\\n      Kho\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"end\\\" >\\r\\n      <ion-item lines=\\\"none\\\"\\r\\n        style=\\\"--padding-start: 10px!important; --padding-end:0px!important;--padding-top:0px!important;--border-width:0px!important;\\\">\\r\\n        <!-- <ion-icon name=\\\"close-circle-outline\\\" style=\\\"color: #0764ae; font-size: 25px;\\\"> -->\\r\\n          <!-- <ion-icon name=\\\"add-outline\\\" style=\\\"font-size: 26px;\\\"></ion-icon> -->\\r\\n      </ion-item>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <div class=\\\"product-header\\\">\\r\\n    <div class=\\\"product-search\\\">\\r\\n      <input (keyup)=\\\"onSearch($event)\\\" [(ngModel)]=\\\"keyword\\\" type=\\\"text\\\"\\r\\n        placeholder=\\\"Tìm kiếm tên kho ...\\\" style=\\\"text-align: left; background: white;\\\">\\r\\n      <!-- <ion-icon class=\\\"search-icon\\\" *ngIf=\\\"keyword == ''\\\" name=\\\"search-outline\\\"></ion-icon> -->\\r\\n      <ion-icon (click)=\\\"deleteSearch()\\\" *ngIf=\\\"keyword != ''\\\" class=\\\"search-icon2\\\"\\r\\n        name=\\\"close-circle-outline\\\"></ion-icon>\\r\\n    </div>\\r\\n    <div class=\\\"product-add\\\">\\r\\n        <div class=\\\"synthetic-item2\\\">\\r\\n          <div class=\\\"synthetic-item-left\\\">\\r\\n            {{countKho | number}} kho hàng\\r\\n          </div>\\r\\n          <div (click)=\\\"addItem('true')\\\" class=\\\"synthetic-item2-right\\\">\\r\\n            <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>\\r\\n          </div>\\r\\n        </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"container\\\">\\r\\n    \\r\\n\\r\\n    <div class=\\\"container-list\\\">\\r\\n      <div  *ngFor=\\\"let item of listData\\\" class=\\\"container-item\\\" [class]=\\\"item.check == true ? 'bg-hover' : ''\\\">\\r\\n        <!-- <div class=\\\"container-icon\\\">\\r\\n          <ion-icon name=\\\"pricetags-outline\\\"></ion-icon>\\r\\n        </div> -->\\r\\n        <div (click)=\\\"chooseItem(item)\\\">\\r\\n          <p class=\\\"container-title\\\">{{item.TenKho}}</p>\\r\\n          <p class=\\\"container-desc\\\">{{item.DiaChi}}</p>\\r\\n        </div>\\r\\n        <div (click)=\\\"handleItem(item)\\\" class=\\\"container-icon\\\">\\r\\n          <ion-icon name=\\\"ellipsis-horizontal-outline\\\"></ion-icon>\\r\\n          <!-- <ion-icon name=\\\"file-tray-full-outline\\\"></ion-icon> -->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</ion-content>\";","export default \".container {\\n  padding-right: 0 !important;\\n  padding-left: 0 !important;\\n}\\n.container p {\\n  margin: 10px 0;\\n}\\n.container-search {\\n  padding: 10px;\\n  width: 100%;\\n  position: sticky;\\n  top: 0;\\n  background: white;\\n  z-index: 9;\\n  border-top: 1px solid #ededed;\\n}\\n.container-search input {\\n  width: 100%;\\n  padding: 10px 14px 10px 46px;\\n  border-radius: 10px;\\n  background: var(--primary-color-light);\\n  border: 1px solid white;\\n  font-size: 16px;\\n}\\n.container-search .search-icon {\\n  position: absolute;\\n  top: 31%;\\n  left: 20px;\\n  font-size: 23px;\\n  color: var(--primary-color);\\n}\\n.container-search .search-icon2 {\\n  position: absolute;\\n  top: 31%;\\n  right: 20px;\\n  font-size: 23px;\\n  color: var(--primary-color);\\n}\\n.container-item {\\n  display: flex;\\n  margin-left: auto;\\n  margin-right: auto;\\n  align-items: center;\\n  padding: 8px 12px;\\n  border-top: 1px solid #c0c0c0;\\n}\\n.container-item:hover {\\n  background: #e7e7e7;\\n}\\n.container-more {\\n  margin-left: auto;\\n  font-size: 28px;\\n  color: var(--blue-darker);\\n}\\n.container-icon {\\n  height: 20px;\\n  width: 40px;\\n  border-radius: 5px;\\n  background-color: var(--primary-color-light);\\n  align-items: center;\\n  display: flex;\\n  justify-content: center;\\n  margin-left: auto;\\n}\\n.container-icon ion-icon {\\n  font-size: 23px;\\n  color: var(--blue-light);\\n}\\n.container-title {\\n  font-weight: 600;\\n  font-size: 16px;\\n  color: var(--text-blue);\\n}\\n.container-desc {\\n  color: var(--text-blue);\\n  text-transform: capitalize;\\n}\\n.product-header {\\n  position: sticky;\\n  top: 0;\\n  background: white;\\n  z-index: 9;\\n  box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\\n}\\n.product-search {\\n  padding: 0 10px 10px 10px;\\n  background: var(--background-color);\\n  position: relative;\\n}\\n.product-search input {\\n  width: 100%;\\n  padding: 8px;\\n  border-radius: 5px;\\n  border: 1px solid gray;\\n}\\n.product-search ion-icon {\\n  position: absolute;\\n  right: 20px;\\n  top: 8px;\\n  font-size: 22px;\\n  color: var(--background-color);\\n}\\ninput[type=text]:focus {\\n  outline: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAva2hvL2toby1pbmRleC9raG8taW5kZXgucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMkJBQUE7RUFDQSwwQkFBQTtBQUNKO0FBQ0k7RUFDSSxjQUFBO0FBQ1I7QUFFSTtFQUNJLGFBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxNQUFBO0VBQ0EsaUJBQUE7RUFDQSxVQUFBO0VBQ0EsNkJBQUE7QUFBUjtBQUdRO0VBQ0ksV0FBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSxzQ0FBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtBQURaO0FBSVE7RUFDSSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0VBQ0EsZUFBQTtFQUNBLDJCQUFBO0FBRlo7QUFLUTtFQUNJLGtCQUFBO0VBQ0ksUUFBQTtFQUNKLFdBQUE7RUFDQSxlQUFBO0VBQ0EsMkJBQUE7QUFIWjtBQVdJO0VBQ0ksYUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBR0EsNkJBQUE7QUFYUjtBQWNJO0VBQ0ksbUJBQUE7QUFaUjtBQWVJO0VBQ0ksaUJBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7QUFiUjtBQWlCSTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSw0Q0FBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsaUJBQUE7QUFmUjtBQWlCUTtFQUNJLGVBQUE7RUFDQSx3QkFBQTtBQWZaO0FBbUJJO0VBQ0ksZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsdUJBQUE7QUFqQlI7QUFvQkk7RUFFSSx1QkFBQTtFQUVBLDBCQUFBO0FBcEJSO0FBeUJJO0VBQ0ksZ0JBQUE7RUFDQSxNQUFBO0VBQ0EsaUJBQUE7RUFDQSxVQUFBO0VBQ0EsMkNBQUE7QUF0QlI7QUEwQkk7RUFDSSx5QkFBQTtFQUNBLG1DQUFBO0VBQ0Esa0JBQUE7QUF4QlI7QUEwQlE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7QUF4Qlo7QUEyQlE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtFQUNBLDhCQUFBO0FBekJaO0FBOEJBO0VBQ0ksYUFBQTtBQTNCSiIsImZpbGUiOiJzcmMvYXBwL2toby9raG8taW5kZXgva2hvLWluZGV4LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50O1xyXG4gICAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7XHJcblxyXG4gICAgcHtcclxuICAgICAgICBtYXJnaW46IDEwcHggMDtcclxuICAgIH1cclxuXHJcbiAgICAmLXNlYXJjaCB7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICB6LWluZGV4OiA5O1xyXG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWRlZGVkO1xyXG4gICAgICAgIC8vIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4yNCkgMHB4IDNweCA4cHg7XHJcblxyXG4gICAgICAgIGlucHV0e1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgcGFkZGluZzogMTBweCAxNHB4IDEwcHggNDZweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1jb2xvci1saWdodCk7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC5zZWFyY2gtaWNvbntcclxuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICB0b3A6IDMxJTtcclxuICAgICAgICAgICAgbGVmdDogMjBweDtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyM3B4O1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuc2VhcmNoLWljb24ye1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDMxJTtcclxuICAgICAgICAgICAgcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjNweDtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAmLWxpc3R7XHJcbiAgICAvLyAgICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIC8vIH1cclxuXHJcbiAgICAmLWl0ZW0ge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgICAgICAgLy8gYm94LXNoYWRvdzogMHB4IDJweCAxMHB4IHJnYmEoMjAsIDgxLCAxMzcsIDAuMTYpO1xyXG4gICAgICAgIC8vIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNjMGMwYzA7XHJcbiAgICB9XHJcblxyXG4gICAgJi1pdGVtOmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjZTdlN2U3O1xyXG4gICAgfVxyXG5cclxuICAgICYtbW9yZSB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICAgZm9udC1zaXplOiAyOHB4O1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1ibHVlLWRhcmtlcik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgICYtaWNvbiB7XHJcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLWxpZ2h0KTtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcblxyXG4gICAgICAgIGlvbi1pY29uIHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyM3B4O1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tYmx1ZS1saWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICYtdGl0bGUge1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWJsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgICYtZGVzYyB7XHJcbiAgICAgICAgLy8gY29sb3I6IGdyYXk7XHJcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYmx1ZSk7XHJcblxyXG4gICAgICAgIHRleHQtdHJhbnNmb3JtOmNhcGl0YWxpemU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5wcm9kdWN0IHtcclxuICAgICYtaGVhZGVyIHtcclxuICAgICAgICBwb3NpdGlvbjogc3RpY2t5O1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICB6LWluZGV4OiA5O1xyXG4gICAgICAgIGJveC1zaGFkb3c6IHJnYmEoMCwgMCwgMCwgMC4xNikgMHB4IDFweCA0cHg7XHJcblxyXG4gICAgfVxyXG5cclxuICAgICYtc2VhcmNoIHtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHggMTBweCAxMHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtY29sb3IpO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgcGFkZGluZzogOHB4O1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGdyYXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgIHRvcDogOHB4O1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDIycHg7XHJcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1iYWNrZ3JvdW5kLWNvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmlucHV0W3R5cGU9XCJ0ZXh0XCJdOmZvY3Vze1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActionSheetController, ModalController, NavParams } from '@ionic/angular';\r\nimport { AlertService } from 'src/app/service/AlertService';\r\nimport { GlobalService } from 'src/app/service/global.service';\r\nimport { KhoService } from 'src/app/service/kho.service';\r\nimport { LoadingService } from 'src/app/service/loading.service';\r\nimport { ToastService } from 'src/app/service/toastService';\r\nimport { KhoCreatePage } from '../kho-create/kho-create.page';\r\n\r\n@Component({\r\n  selector: 'app-kho-index',\r\n  templateUrl: './kho-index.page.html',\r\n  styleUrls: ['./kho-index.page.scss'],\r\n})\r\nexport class KhoIndexPage implements OnInit {\r\n  listData: any = [];\r\n  listDataSearch: any = [];\r\n  timeout: any = '';\r\n  keyword: string = '';\r\n  countKho: number = 0;\r\n\r\n  constructor(\r\n    private GlobalService: GlobalService,\r\n    private navParams: NavParams,\r\n    private LoadingService: LoadingService,\r\n    private KhoService: KhoService,\r\n    public actionSheetController: ActionSheetController,\r\n    private modalController: ModalController,\r\n    private AlertService: AlertService,\r\n    private ToastService: ToastService,\r\n  ) {\r\n    if(this.navParams.data.listKho){\r\n      this.listData = this.navParams.data.listKho;\r\n      this.listDataSearch = this.navParams.data.listKho;\r\n    }else{\r\n      this.getKho();\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getKho() {\r\n    this.LoadingService.setValue(true);\r\n\r\n    this.KhoService.getKho().subscribe((response: any) => {\r\n      this.listData = response;\r\n      this.countKho = response.length;\r\n      this.listDataSearch = response;\r\n      this.LoadingService.setValue(false);\r\n\r\n    }, (error) => {\r\n      setTimeout(() => {\r\n        console.log('error', error);\r\n      }, 1000);\r\n    });\r\n  }\r\n\r\n  onSearch(e: any) {\r\n    var arrPlan = [];\r\n    this.keyword = e.target.value;\r\n\r\n    if (!this.keyword) {\r\n      arrPlan = this.listDataSearch;\r\n    } else {\r\n      clearTimeout(this.timeout);\r\n      var $this = this;\r\n\r\n      this.timeout = setTimeout(function () {\r\n\r\n        $this.listDataSearch.find((o: any, i: any) => {\r\n          if (o.TenKho && o.TenKho.toLowerCase().includes($this.keyword.toLowerCase()) == true) {\r\n            arrPlan.push($this.listDataSearch[i]);\r\n          }\r\n        });\r\n        $this.countKho = arrPlan.length;\r\n        $this.listData = arrPlan;\r\n\r\n      }, 1000);\r\n    }\r\n  }\r\n\r\n  getItem(item) {\r\n    this.listData.find((o, i) => {\r\n      if (o.KhoID == item.KhoID) {\r\n        this.listData[i]['check'] = true;\r\n      } else {\r\n        this.listData[i]['check'] = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  async handleItem(item){\r\n    const actionSheet = await this.actionSheetController.create({\r\n      cssClass: 'left-align-buttons',\r\n      buttons: [\r\n        {\r\n          text: 'Sửa kho',\r\n          icon: 'create-outline',\r\n          handler: () => {\r\n            this.addItem('false', item);\r\n          }\r\n        },\r\n        {\r\n          text: 'Xóa kho',\r\n          cssClass: 'buttonSheetDelete' ,\r\n\r\n          icon: 'trash',\r\n          handler: () => {\r\n            this.deleteUnit(item.KhoID);\r\n          },\r\n        }\r\n      ]\r\n    });\r\n    await actionSheet.present();\r\n\r\n    const { role } = await actionSheet.onDidDismiss();\r\n  }\r\n\r\n\r\n  async addItem(isCreate, KhoItem?){\r\n\r\n    console.log('isCreate', isCreate);\r\n    \r\n    const modal = await this.modalController.create({\r\n      component: KhoCreatePage,\r\n      cssClass: 'halfModal2',\r\n      componentProps: {\r\n        \"isCreate\": isCreate,\r\n        \"KhoItem\": KhoItem,\r\n      }\r\n    });\r\n\r\n    modal.onDidDismiss().then((dataReturned) => {\r\n      console.log(dataReturned);\r\n\r\n      // if (dataReturned.data) {\r\n        this.getKho();\r\n      // }\r\n    });\r\n    return await modal.present();\r\n  }\r\n\r\n  deleteUnit(id){\r\n    this.AlertService.presentAlert(`Xác nhận xóa kho?`).then(res => {\r\n      if (res == 'true') {\r\n        this.LoadingService.setValue(true);\r\n        this.KhoService.deleteKho(id).subscribe((response: any) => {\r\n          var res = JSON.parse(response._body);\r\n          // if (res.code == 200) {\r\n            this.ToastService.successToast('Xóa kho thành công!');\r\n            this.getKho();\r\n\r\n          // } else {\r\n          //   this.ToastService.errorToast(res.message);\r\n          // }\r\n          this.LoadingService.setValue(false);\r\n\r\n        }, (error) => {\r\n          setTimeout(() => {\r\n            console.log('error', error);\r\n          }, 1000);\r\n        });\r\n      }\r\n    });\r\n  }\r\n  deleteSearch() {\r\n    this.keyword = '';\r\n    this.getKho();\r\n  }\r\n\r\n  chooseItem(item) {\r\n    this.GlobalService.closeModalSenData(item);\r\n  }\r\n\r\n  closeModal() {\r\n    this.GlobalService.closeModal();\r\n\r\n  }\r\n}\r\n"]}